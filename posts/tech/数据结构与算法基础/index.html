<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€ | zain&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="1 ç¨‹åºæ€§èƒ½">
<meta name="author" content="
&nbsp;Zain">
<link rel="canonical" href="https://liuz0123.gitee.io/zain/posts/tech/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/">
<link crossorigin="anonymous" href="/zain/assets/css/stylesheet.6bbe4903eaf247f5c3db656a51fd7b09d982ab42029edfdc123f359e2748dc03.css" integrity="sha256-a75JA&#43;ryR/XD22VqUf17CdmCq0ICnt/cEj81nidI3AM=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/zain/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
        onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://liuz0123.gitee.io/zain/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://liuz0123.gitee.io/zain/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://liuz0123.gitee.io/zain/img/Q.gif">
<link rel="apple-touch-icon" href="https://liuz0123.gitee.io/zain/img/Q.gif">
<link rel="mask-icon" href="https://liuz0123.gitee.io/zain/img/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta property="og:title" content="æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€" />
<meta property="og:description" content="1 ç¨‹åºæ€§èƒ½" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://liuz0123.gitee.io/zain/posts/tech/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-05T00:17:58&#43;08:00" />
<meta property="article:modified_time" content="2022-07-05T00:17:58&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€"/>
<meta name="twitter:description" content="1 ç¨‹åºæ€§èƒ½"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ğŸ“šæ–‡ç« ",
      "item": "https://liuz0123.gitee.io/zain/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯",
      "item": "https://liuz0123.gitee.io/zain/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€",
      "item": "https://liuz0123.gitee.io/zain/posts/tech/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€",
  "name": "æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€",
  "description": "1 ç¨‹åºæ€§èƒ½",
  "keywords": [
    ""
  ],
  "articleBody": "1 ç¨‹åºæ€§èƒ½ ç¨‹åºæ€§èƒ½æ˜¯æŒ‡è¿è¡Œç¨‹åºæ‰€éœ€è¦çš„å†…å­˜å¤§å°(ç©ºé—´å¤æ‚åº¦)å’Œæ—¶é—´(æ—¶é—´å¤æ‚åº¦),è¿è¡Œæ—¶é—´å’Œå ç”¨ç©ºé—´æ˜¯ç®—æ³•æ€§èƒ½æœ€å…³é”®çš„æŒ‡æ ‡ã€‚ è½¯ä»¶ç¨‹åºæ€§èƒ½è¡¡é‡æŒ‡æ ‡: å“åº”æ—¶é—´ã€å¯åŠ¨æ—¶é—´ã€æ‰§è¡Œæ—¶é—´ã€æ‰§è¡Œé€Ÿåº¦ã€è®¡ç®—èµ„æºåˆ†é…ã€å†…å­˜åˆ†é…ã€ç£ç›˜ååé‡ã€ç½‘ç»œååé‡ã€è´Ÿè½½æ‰¿å—èƒ½åŠ›\n1.1 ç©ºé—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦(Space complexity)ï¼Œç®—æ³•å®Œå…¨è¿è¡Œæ‰€éœ€å­˜å‚¨ç©ºé—´ã€‚è¡¨ç¤ºç®—æ³•çš„å­˜å‚¨ç©ºé—´ä¸æ•°æ®è§„æ¨¡ä¹‹é—´çš„å¢é•¿å…³ç³»ï¼šå¸¸é‡ç©ºé—´ã€çº¿æ€§ç©ºé—´ã€äºŒç»´ç©ºé—´ã€‚ ç®—æ³•åœ¨è®¡ç®—æœºå­˜å‚¨å™¨ä¸Šæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´ï¼ŒåŒ…æ‹¬å­˜å‚¨ç¨‹åºæœ¬èº«å ç”¨çš„å­˜å‚¨ç©ºé—´ï¼Œç®—æ³•è¾“å…¥è¾“å‡ºæ•°æ®æ‰€å çš„å­˜å‚¨ç©ºé—´å’Œç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨çš„å­˜å‚¨ç©ºé—´ã€‚\n1.2 æ—¶é—´å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦(Time complexity)ï¼Œç®—æ³•å®Œå…¨è¿è¡Œæ‰€éœ€è¿ç®—æ—¶é—´ã€‚æ—¶é—´å¤æ‚åº¦é€šå¸¸ç”¨å¤§Oç¬¦åˆè¡¨ç¤ºã€‚\n1.2.1 å¸¸è§ç®—æ³•å¤§O å¸¸é‡é˜¶O(1); å¯¹æ•°é˜¶O(logn); çº¿æ€§é˜¶O(n); çº¿æ€§å¯¹æ•°é˜¶O(nlogn); kæ¬¡æ–¹é˜¶O(n^k) 1.2.2 å¸¸è§æ•°æ®ç»“æ„ {% pullquote mindmap mindmap-md %}\næ•°æ®ç»“æ„ä¸ç®—æ³• çº¿æ€§è¡¨ æ•°ç»„ é“¾è¡¨ å•é“¾è¡¨ åŒé“¾è¡¨ å¾ªç¯é“¾è¡¨ åŒå‘å¾ªç¯é“¾è¡¨ é™æ€é“¾è¡¨ æ ˆ é¡ºåºæ ˆ é“¾å¼æ ˆ é˜Ÿåˆ— æ™®é€šé˜Ÿåˆ— åŒç«¯é˜Ÿåˆ— é˜»å¡é˜Ÿåˆ— å¹¶å‘é˜Ÿåˆ— é˜»å¡å¹¶å‘é˜Ÿåˆ— æ•£åˆ—è¡¨ æ•£åˆ—å‡½æ•° å†²çªè§£å†³ é“¾è¡¨æ³• å¼€æ”¾åœ°å€ å…¶ä»– åŠ¨æ€æ‰©å®¹ ä½ç½® æ ‘ äºŒå‰æ ‘ äºŒå‰æŸ¥æ‰¾æ ‘ å¹³è¡¡äºŒå‰æ ‘ å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ AVLæ ‘ çº¢é»‘æ ‘ å®Œå…¨äºŒå‰æ ‘ æ»¡äºŒå‰æ ‘ å¤šè·¯æŸ¥æ‰¾æ ‘ Bæ ‘ B+æ ‘ 2-3æ ‘ 2-3-4æ ‘ å † å°é¡¶å † å¤§é¡¶å † ä¼˜å…ˆçº§é˜Ÿåˆ— æ–æ³¢é‚£å¥‘å † äºŒé¡¹å † å…¶ä»– æ ‘çŠ¶æ•°ç»„ çº¿æ®µæ ‘ å›¾ å›¾çš„å­˜å‚¨ é‚»æ¥çŸ©é˜µ é‚»æ¥è¡¨ æ‹“æ‰‘æ’åº æœ€çŸ­è·¯å¾„ å…³é”®è·¯å¾„ æœ€å°ç”Ÿæˆæ ‘ äºŒåˆ†å›¾ æœ€å¤§æµ å¤æ‚åº¦åˆ†æ ç©ºé—´å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ åŸºæœ¬ç®—æ³•æ€æƒ³ åˆ†æ²»æ³• é€’å½’ç®—æ³• è´ªå¿ƒç®—æ³• åŠ¨æ€è§„åˆ’ å›æº¯æ³• æšä¸¾æ³• æ’åº O(n^2) å†’æ³¡æ’åº æ’å…¥æ’åº é€‰æ‹©æ’åº å¸Œå°”æ’åº O(nlogn) å½’å¹¶æ’åº å¿«é€Ÿæ’åº å †æ’åº O(n) è®¡æ•°æ’åº åŸºæ•°æ’åº æ¡¶æ’åº æœç´¢ æ·±åº¦ä¼˜å…ˆæœç´¢ å¹¿åº¦ä¼˜å…ˆæœç´¢ A*å¯å‘å¼æœç´¢ æŸ¥æ‰¾ çº¿æ€§è¡¨æŸ¥æ‰¾ æ ‘ç»“æ„æŸ¥æ‰¾ æ•£åˆ—è¡¨æŸ¥æ‰¾ å­—ç¬¦ä¸²åŒ¹é… æœ´ç´  KMP Robin-Karp Boyer-Moore ACè‡ªåŠ¨æœº Trie åç¼€æ•°ç»„ å…¶ä»– æ•°è®º è®¡ç®—å‡ ä½• æ¦‚ç‡åˆ†æ å¹¶æŸ¥é›† æ‹“æ‰‘ç½‘ç»œ çŸ©é˜µè¿ç®— {% endpullquote %} æœ¬ç« å‚è€ƒï¼š å¤æ‚åº¦é€ŸæŸ¥è¡¨ https://liam.page/2016/06/20/big-O-cheat-sheet/ 2 åŸºæœ¬æ•°æ®ç»“æ„ 2.1 çº¿æ€§è¡¨ çº¿æ€§è¡¨æ˜¯nä¸ªå…·æœ‰ç›¸åŒç‰¹æ€§çš„æ•°æ®å…ƒç´ çš„æœ‰åºåºåˆ—ã€‚çº¿æ€§è¡¨é™¤ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ•°æ®å…ƒç´ ä¹‹å¤–ï¼Œå…¶ä»–æ•°æ®å…ƒç´ éƒ½æ˜¯é¦–å°¾ç›¸æ¥çš„ã€‚ æ•°æ®åœ¨å®é™…çš„ç‰©ç†å­˜å‚¨ä¸­æœ‰ä¸¤ç§å½¢å¼ï¼šåˆ†æ•£å­˜å‚¨å’Œé›†ä¸­å­˜å‚¨,å¸¸è§æ•°æ®ç»“æ„æœ‰æ ˆã€é˜Ÿåˆ—ã€å­—ç¬¦ä¸²ã€é“¾è¡¨ç­‰ã€‚ ä¸¤ç§æƒ…å†µä¸‹æ•°æ®çš„å­˜å‚¨é—®é¢˜ï¼š æ•°æ®å…ƒç´ åœ¨å†…å­˜ä¸­é›†ä¸­å­˜å‚¨ï¼Œé‡‡ç”¨é¡ºåºè¡¨ç¤ºç»“æ„ï¼Œç®€ç§°â€œé¡ºåºå­˜å‚¨â€ï¼› æ•°æ®å…ƒç´ åœ¨å†…å­˜ä¸­åˆ†æ•£å­˜å‚¨ï¼Œé‡‡ç”¨é“¾å¼è¡¨ç¤ºç»“æ„ï¼Œç®€ç§°â€œé“¾å¼å­˜å‚¨â€\n2.1.1 æ•°ç»„ æ•°ç»„æ˜¯ä¸€æ‰¹ç›¸åŒæ•°æ®çš„é›†åˆã€‚æ•°ç»„çš„ä¸‰éƒ¨åˆ†ï¼šåœ°å€ å¤§å° å’Œ ç©ºé—´ã€‚æ•°ç»„çš„ä¿å­˜å½¢å¼ä¸ºçº¿æ€§è¡¨ã€‚\nint arr[10]; // /[]å†…å¿…é¡»æ˜¯å¸¸é‡/å¸¸é‡è¡¨è¾¾å¼(3+8)ï¼Œä¸èƒ½æ˜¯ä¸€ä¸ªå˜é‡(x...) // æ•°ç»„åˆå§‹åŒ– int arr1[3] = {1, 2, 3}; char arr6[] = \"abcdef\"; // æŒ‡é’ˆ int *ptr = NULL;//å®šä¹‰ä¸€ä¸ªæ•´å‹çš„æŒ‡é’ˆå˜é‡ï¼Œåˆå§‹åŒ–ä¸ºNULL char *ptr = NULL;//å®šä¹‰ä¸€ä¸ªå­—ç¬¦çš„æŒ‡é’ˆå˜é‡ï¼Œåˆå§‹åŒ–ä¸ºNULL // äºŒç»´æ•°ç»„ int arr[3][5] = { 0 }; // C ä¼ é€’æ•°ç»„ç»™å‡½æ•° // void myFunction(int *param) void myFunction(int param[10]) void myFunction(int param[]) // C ä»å‡½æ•°è¿”å›æ•°ç»„ int * myFunction() { ... } array #include #include #include struct array { int size; int used; int *arr; }; void dump(struct array *array) { for (int idx = 0; idx \u003c array-\u003eused; idx++) { printf(\"[%02d]: %08d\\n\", idx, array-\u003earr[idx]); } } void alloc(struct array *array) { array-\u003earr = (int *)malloc(array-\u003esize * sizeof(int)); } int insert(struct array *array, int elem) { int idx; if (array-\u003eused \u003e= array-\u003esize) return -1; for (idx = 0; idx \u003c array-\u003eused; idx++) { if (array-\u003earr[idx] \u003e elem) break; } if (idx \u003c array-\u003eused) memmove(\u0026array-\u003earr[idx+1], \u0026array-\u003earr[idx], (array-\u003eused - idx) * sizeof(int)); array-\u003earr[idx] = elem; array-\u003eused++; return idx; } int delete(struct array *array, int idx) { if (idx \u003c 0 || idx \u003e= array-\u003eused) return -1; memmove(\u0026array-\u003earr[idx], \u0026array-\u003earr[idx+1], (array-\u003eused - idx - 1) * sizeof(int)); array-\u003eused--; return 0; } int search(struct array *array, int elem) { for (int idx = 0; idx \u003c array-\u003eused; idx++) { if (array-\u003earr[idx] == elem) return idx; if (array-\u003earr[idx] \u003e elem) return -1; } return -1; } int main() { struct array ten_int = {10, 0, NULL}; alloc(\u0026ten_int); if (!ten_int.arr) { return -1; } insert(\u0026ten_int, 1); insert(\u0026ten_int, 3); insert(\u0026ten_int, 2); printf(\"=== insert 1, 3, 2\\n\"); dump(\u0026ten_int); int idx = search(\u0026ten_int, 2); printf(\"2 is at position %d\\n\", idx); idx = search(\u0026ten_int, 9); printf(\"9 is at position %d\\n\", idx); printf(\"=== delete [6] element \\n\"); delete(\u0026ten_int, 6); dump(\u0026ten_int); printf(\"=== delete [0] element \\n\"); delete(\u0026ten_int, 0); dump(\u0026ten_int); return 0; } äºŒåˆ†æœç´¢ åŸºæœ¬æ€æƒ³æ˜¯ï¼šé¦–å…ˆé€‰å–è¡¨ä¸­é—´ä½ç½®çš„è®°å½•ï¼Œå°†å…¶å…³é”®å­—ä¸ç»™å®šå…³é”®å­— key è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æŸ»æ‰¾æˆåŠŸï¼›è‹¥ key å€¼æ¯”è¯¥å…³é”®å­—å€¼å¤§ï¼Œåˆ™è¦æ‰¾çš„å…ƒç´ ä¸€å®šåœ¨å³å­è¡¨ä¸­ï¼Œåˆ™ç»§ç»­å¯¹å³å­è¡¨è¿›è¡ŒæŠ˜åŠæŸ¥æ‰¾ï¼šè‹¥ key å€¼æ¯”è¯¥å…³é”®å®‡å€¼å°ï¼Œåˆ™è¦æ‰¾çš„å…ƒç´ ä¸€å®šåœ¨å·¦å­è¡¨ä¸­ï¼Œç»§ç»­å¯¹å·¦å­è¡¨è¿›è¡ŒæŠ˜åŠæŸ»æ‰¾ã€‚å¦‚æ­¤é€’æ¨ï¼Œç›´åˆ°æŸ»æ‰¾æˆåŠŸæˆ–æŸ»æ‰¾å¤±è´¥ï¼ˆæˆ–æŸ»æ‰¾èŒƒå›´ä¸º 0ï¼‰ å·¦é—­å³é—­[left, right]ï¼šhigh = mid - 1; å·¦é—­å³å¼€[left, right)ï¼šhigh = mid; äºŒåˆ†æœç´¢çš„æ—¶é—´å¤æ‚åº¦ä¸º å¯¹æ•°æ—¶é—´O(logn)\n// å·¦é—­ å³é—­åŒºé—´ [left, right] // low = mid + 1 high = mid - 1 int binary_search(int key, int a[], int n) { int low = 0; int high = n - 1; int mid, count = 0, count1 = 0; while(low \u003c high) { count++; mid = (low + high) / 2; if (key \u003c a[mid]) { high = mid - 1; } else if (key \u003e a[mid]) { low = mid + 1; } else if (key == a[mid]) { count1++; break; } } if (count1 == 0) { return 1; } return 0; } 2.1.2 å•é“¾è¡¨ å•é“¾è¡¨å…ƒç´ ä¹‹é—´æœ‰ä¸€ä¸ªå•ç‹¬çš„æŒ‡é’ˆé“¾æ¥ã€‚è¿™ç§ç»“æ„çš„é“¾è¡¨å¯ä»¥ä½¿å¾—ä»ç¬¬ä¸€ä¸ªå…ƒç´ éå†åˆ°æœ€åä¸€ä¸ªå…ƒç´ \ntypedef struct ListElmt_ { void *data; // æ•°æ®æˆå‘˜ struct ListElmt_ * next; // nextæŒ‡é’ˆ } ListElmt; typedef struct List_ { int size; int (*match)(const void *key1, const void *key2); void (*destroy)(void *data); ListElmt *head; ListElmt *tail; } List; å•é“¾è¡¨æ“ä½œï¼šæ’å…¥ã€åˆ é™¤ã€ å¦‚ä½•åˆ¤æ–­å•é“¾è¡¨å­˜åœ¨å›ç¯ï¼Ÿ è®¾æœ‰ä¸¤ä¸ªæŒ‡é’ˆp1ï¼Œp2ã€‚åœ¨ç¾å­¦å¾ªç¯çš„æ—¶å€™ï¼Œp1å…ˆèµ°ä¸€æ­¥ï¼Œp2èµ°ä¸¤æ­¥ï¼Œç›´åˆ°p2ç¢°åˆ°ç©ºæŒ‡é’ˆæˆ–è€…ä¸¤è€…ç›¸ç­‰æ—¶å¾ªç¯ç»“æŸï¼Œå¦‚æœä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰åˆ™è¯´æ˜å­˜åœ¨å›ç¯ã€‚\nç¿»è½¬é“¾è¡¨\nstruct ListNode *reverse(struct ListNode *head) { struct ListNode *res = NULL; while (head) { struct ListNode *pre_node = head; head = head-\u003enext; pre_node-\u003enext = res; res = pre_node; } return res; } singleList #ifndef __SINGLELIST_H__ #define __SINGLELIST_H__ #include #include typedef struct listNode { struct listNode *next; void *value; }listNode; typedef struct linkedList { listNode *head; size_t len; size_t typesize; void(*dup)(void*, void*); int(*match)(void*, void*); void(*free)(void*); }linkedList; #define listSetDupMethod(l,m) ((l)-\u003edup = (m)) #define listSetFreeMethod(l,m) ((l)-\u003efree = (m)) #define listSetMatchMethod(l,m) ((l)-\u003ematch = (m)) #define listGetDupMethod(l) ((l)-\u003edup) #define listGetFree(l) ((l)-\u003efree) #define listGetMatchMethod(l) ((l)-\u003ematch) linkedList *listCreate(); void listRelease(linkedList *list); void listEmpty(linkedList *list); linkedList *listAddNodeHead(linkedList *list, void *value); linkedList *listAddNodeTail(linkedList *list, void *value); linkedList *listInsertNode(linkedList *list, listNode *old_node, void *value, bool after); void listDelNode(linkedList *list, listNode *node); listNode *listSearchKey(linkedList *list, void *key); listNode *listIndex(linkedList *list, long index); linkedList* listRewind(linkedList *list); size_t listLength(linkedList *list); #endif // !__SINGLELIST_H__ // #include \"singleList.h\" #include linkedList * listCreate() { linkedList *list = NULL; list = malloc(sizeof(*list)); if (NULL == list) { return NULL; } list-\u003edup = NULL; list-\u003efree = NULL; list-\u003ematch = NULL; list-\u003ehead = NULL; list-\u003elen = 0; return list; } // void listRelease(linkedList *list) { if (NULL == list) { return; } listEmpty(list); free(list); list = NULL; } void listEmpty(linkedList *list) { if (NULL == list) { return; } while (NULL != list-\u003ehead) { listNode *pNode = list-\u003ehead; list-\u003ehead = pNode-\u003enext; if (NULL != list-\u003efree) { list-\u003efree(pNode-\u003evalue); } else { free(pNode-\u003evalue); } pNode-\u003enext = NULL; free(pNode); pNode = NULL; } } linkedList * listAddNodeHead(linkedList *list, void * value) { if (NULL == list || NULL == value) { return list; } listNode *node = NULL; node = malloc(sizeof(*node)); if (NULL == node) { return list; } node-\u003evalue = value; node-\u003enext = list-\u003ehead; list-\u003ehead = node; ++list-\u003elen; return list; } linkedList * listAddNodeTail(linkedList *list, void *value) { if (NULL == list || NULL == value) { return list; } listNode *node = NULL; node = malloc(sizeof(*node)); if (NULL == node) { return list; } node-\u003evalue = value; node-\u003enext = NULL; if (NULL == list-\u003ehead \u0026\u0026 list-\u003elen == 0) { list-\u003ehead = node; } else { listNode *tail = list-\u003ehead; listNode *pre = list-\u003ehead; while (NULL != tail) { pre = tail; tail = tail-\u003enext; } pre-\u003enext = node; } ++list-\u003elen; return list; } linkedList * listInsertNode(linkedList *list, listNode *old_node, void *value, bool after) { if (NULL == list || NULL == old_node) { return list; } listNode *pNode = NULL; pNode = malloc(sizeof(*pNode)); if (NULL == pNode) { return list; } pNode-\u003evalue = value; if (after) { pNode-\u003enext = old_node-\u003enext; old_node-\u003enext = pNode; } else { listNode *pre = list-\u003ehead; while (pre-\u003enext != old_node) { pre = pre-\u003enext; } if (NULL != pre) { pre-\u003enext = pNode; pNode-\u003enext = old_node; } } ++list-\u003elen; return list; } // void listDelNode(linkedList *list, listNode *node) { if (NULL == list || NULL == node) { return; } listNode *pre = list-\u003ehead; listNode *cur = list-\u003ehead; while (NULL != cur \u0026\u0026 cur != node) { pre = cur; cur = cur-\u003enext; } // if (NULL == pre) { return; } pre-\u003enext = node-\u003enext; node-\u003enext = NULL; --list-\u003elen; if (NULL != list-\u003efree) { list-\u003efree(node-\u003evalue); free(node); node = NULL; } } listNode * listSearchKey(linkedList *list, void *key) { if (NULL == list) { return NULL; } listNode *node = list-\u003ehead; while (NULL != node) { if (NULL != list-\u003ematch) { if (list-\u003ematch(key, node-\u003evalue) == 0) { return node; } } else { if (key == node-\u003evalue) { return node; } } node = node-\u003enext; } return NULL; } listNode * listIndex(linkedList *list, long index) { if (NULL == list) { return NULL; } if (index \u003c= 0 || index \u003e list-\u003elen) { return NULL; } listNode *pNode = list-\u003ehead; for (long i = 0; i \u003c index; ++i) { pNode = pNode-\u003enext; } return pNode; } linkedList* listRewind(linkedList *list) { if (NULL == list) { return NULL; } listNode *head = list-\u003ehead; listNode *pre = NULL; listNode *next = NULL; while (NULL != head) { next = head-\u003enext; head-\u003enext = pre; pre = head; head = next; } list-\u003ehead = pre; return list; } size_t listLength(linkedList *list) { if (NULL == list) { return 0; } return list-\u003elen; } single_list #include #include struct single_list { struct single_list *next; int val; }; struct single_list_head { struct single_list *head; }; bool is_empty(struct single_list_head *head) { return head-\u003ehead == NULL; } void dump(struct single_list_head *head) { struct single_list *tmp = head-\u003ehead; int idx = 0; while (tmp) { printf(\"[%02d]: %08d\\n\", idx++, tmp-\u003eval); tmp = tmp-\u003enext; } } void insert(struct single_list **prev, struct single_list *elem) { if (!prev) return; elem-\u003enext = *prev; *prev = elem; } void insert_head(struct single_list_head *head, struct single_list *elem) { insert(\u0026head-\u003ehead, elem); } struct single_list* del(struct single_list **prev) { struct single_list *tmp; if (!prev) return NULL; if (*prev == NULL) return NULL; tmp = *prev; *prev = (*prev)-\u003enext; tmp-\u003enext = NULL; return tmp; }; struct single_list* delete_head(struct single_list_head* head) { return del(\u0026head-\u003ehead); }; struct single_list** search(struct single_list_head* head, int target) { struct single_list **prev, *tmp; for (prev = \u0026head-\u003ehead, tmp = *prev; tmp \u0026\u0026 (tmp-\u003eval \u003c target); prev = \u0026tmp-\u003enext, tmp = *prev); return prev; }; void reverse(struct single_list_head* head) { struct single_list_head tmp = {NULL}; struct single_list *elem; while (!is_empty(head)) { elem = delete_head(head); insert_head(\u0026tmp, elem); } head-\u003ehead = tmp.head; } bool is_cyclic(struct single_list_head* head) { struct single_list *s1, *s2; s1 = s2 = head-\u003ehead; while(s1 \u0026\u0026 s2) { s1 = s1-\u003enext; s2 = s2-\u003enext ? s2-\u003enext-\u003enext:s2-\u003enext; if (s1 == s2) return true; } return false; } struct single_list* middle(struct single_list_head* head) { struct single_list *s1, *s2; struct single_list pseudo_head; pseudo_head.next = head-\u003ehead; s1 = s2 = \u0026pseudo_head; while (true) { if (!s2 || !s2-\u003enext) return s1; s1 = s1-\u003enext; s2 = s2-\u003enext-\u003enext; } return NULL; }; int main() { struct single_list_head head = {NULL}; struct single_list lists[10]; struct single_list **prev; int idx; for (idx = 0; idx \u003c 10; idx++) { lists[idx].val = idx; lists[idx].next = NULL; } insert_head(\u0026head, \u0026lists[6]); insert_head(\u0026head, \u0026lists[5]); insert_head(\u0026head, \u0026lists[4]); insert_head(\u0026head, \u0026lists[1]); insert_head(\u0026head, \u0026lists[0]); printf(\"=== insert 0, 1, 4, 5, 6\\n\"); dump(\u0026head); prev = search(\u0026head, 2); insert(prev, \u0026lists[2]); printf(\"=== insert 2\\n\"); dump(\u0026head); printf(\"middle elem is %d\\n\", middle(\u0026head)-\u003eval); prev = search(\u0026head, 2); if ((*prev) \u0026\u0026 ((*prev)-\u003eval == 2)) printf(\"The list contains 2\\n\"); else printf(\"The list not contains 2\\n\"); del(prev); prev = search(\u0026head, 2); printf(\"After remove 2\\n\"); if ((*prev) \u0026\u0026 ((*prev)-\u003eval == 2)) printf(\"The list contains 2\\n\"); else printf(\"The list not contains 2\\n\"); dump(\u0026head); printf(\"After reverse \\n\"); reverse(\u0026head); dump(\u0026head); printf(\"middle elem is %d\\n\", middle(\u0026head)-\u003eval); lists[0].next = \u0026lists[6]; printf(\"list is%s cyclic\\n\", is_cyclic(\u0026head)?\"\":\" not\"); return 0; } LinkedListAlgo #include #include /** * 1) å•é“¾è¡¨åè½¬ * 2) é“¾è¡¨ä¸­ç¯çš„æ£€æµ‹ * 3) ä¸¤ä¸ªæœ‰åºçš„é“¾è¡¨åˆå¹¶ * 4) åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ * 5) æ±‚é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ * * Author: Smallfly */ typedef struct SinglyLinkedNode { int data; struct SinglyLinkedNode* next; } SinglyLinkedNode; void insertNode(SinglyLinkedNode** head_ref, int data); void printLinkedList(SinglyLinkedNode* head); /** åè½¬å•é“¾è¡¨ */ void reverse(SinglyLinkedNode** head_ref) { if (*head_ref == NULL) return; SinglyLinkedNode *prev = NULL; SinglyLinkedNode *current = *head_ref; while (current) { SinglyLinkedNode *next = current-\u003enext; if (!next) { // åˆ°è¾¾å°¾ç»“ç‚¹æ—¶ï¼Œå°†åœ°å€å­˜å…¥ head_ref *head_ref = current; } current-\u003enext = prev; prev = current; current = next; } } void test_reverse() { SinglyLinkedNode* head = NULL; insertNode(\u0026head, 3); insertNode(\u0026head, 2); insertNode(\u0026head, 1); reverse(\u0026head); printLinkedList(head); } /** æ£€æµ‹å•é“¾è¡¨æ˜¯å¦æœ‰ç¯ */ // è¿™é‡Œä½¿ç”¨ä¸€çº§æŒ‡é’ˆä¹Ÿå¯ä»¥ int checkCircle(SinglyLinkedNode** head_ref) { if (*head_ref == NULL) return 0; SinglyLinkedNode *slow = *head_ref, *fast = *head_ref; while (fast != NULL \u0026\u0026 fast-\u003enext != NULL) { fast = fast-\u003enext-\u003enext; slow = slow-\u003enext; if (slow == fast) return 1; } return 0; } void test_checkCircle() { SinglyLinkedNode* head = NULL; insertNode(\u0026head, 3); insertNode(\u0026head, 2); insertNode(\u0026head, 1); int result1 = checkCircle(\u0026head); printf(\"has circle: %d\\n\", result1); // make circle linklist SinglyLinkedNode* current = malloc(sizeof(SinglyLinkedNode)); current-\u003edata = 0; SinglyLinkedNode* h = current; for (int i = 1; i \u003c 4; ++i) { SinglyLinkedNode* node = malloc(sizeof(SinglyLinkedNode)); node-\u003edata = i; current-\u003enext = node; //reset current node current = node; } current-\u003enext = h; int result2 = checkCircle(\u0026h); printf(\"has circle: %d\\n\", result2); } /** æœ‰åºé“¾è¡¨åˆå¹¶ */ void moveNode(SinglyLinkedNode** dest_ref, SinglyLinkedNode** src_ref); SinglyLinkedNode* mergeSortedLinkedList(SinglyLinkedNode* la, SinglyLinkedNode* lb) { // è¾…åŠ©ç»“ç‚¹ï¼Œnext æŒ‡é’ˆæŒæœ‰åˆå¹¶åçš„æœ‰åºé“¾è¡¨ SinglyLinkedNode dummy; // æœ‰åºé“¾è¡¨çš„å°¾ç»“ç‚¹ SinglyLinkedNode* tail = \u0026dummy; while (1) { // å¦‚æœæœ‰ä¸€ä¸ªé“¾è¡¨ä¸ºç©ºï¼Œç›´æ¥ä¸å¦ä¸€ä¸ªé“¾è¡¨æ¥èµ·æ¥ if (!la) { tail-\u003enext = lb; break; } else if (!lb) { tail-\u003enext = la; break; } // å°†å¤´ç»“ç‚¹è¾ƒå°çš„ä¼˜å…ˆæ·»åŠ åˆ° tail if (la-\u003edata \u003c= lb-\u003edata) { moveNode(\u0026(tail-\u003enext), \u0026la); } else { moveNode(\u0026(tail-\u003enext), \u0026lb); } tail = tail-\u003enext; } return dummy.next; } // å°† src_ref çš„å¤´ç»“ç‚¹ï¼Œæ·»åŠ åˆ° dest_ref çš„å¤´éƒ¨ã€‚ void moveNode(SinglyLinkedNode** dest_ref, SinglyLinkedNode** src_ref) { if (*src_ref == NULL) return; SinglyLinkedNode* new_node = *src_ref; *src_ref = new_node-\u003enext; new_node-\u003enext = *dest_ref; *dest_ref = new_node; } void test_mergeSortedLinkedList() { SinglyLinkedNode* a = NULL; insertNode(\u0026a, 10); insertNode(\u0026a, 5); insertNode(\u0026a, 0); SinglyLinkedNode* b = NULL; insertNode(\u0026b, 8); insertNode(\u0026b, 6); insertNode(\u0026b, 3); SinglyLinkedNode* result = mergeSortedLinkedList(a, b); printLinkedList(result); SinglyLinkedNode* result2 = mergeSortedLinkedList(a, NULL); printLinkedList(result2); } /** åˆ é™¤å€’æ•°ç¬¬ K ä¸ªç»“ç‚¹ */ void deleteLastKth(SinglyLinkedNode** head_ref, int k) { if (*head_ref == NULL || k == 0) return; // å¿«æŒ‡é’ˆå‘å‰ç§»åŠ¨ k-1 SinglyLinkedNode* fast = *head_ref; int i = 1; while (i \u003c k \u0026\u0026 fast != NULL) { fast = fast-\u003enext; ++i; } // å¦‚æœå¿«æŒ‡é’ˆä¸ºç©ºï¼Œè¯´æ˜ç»“ç‚¹ä¸ªæ•°å°äº k if (fast == NULL) return; SinglyLinkedNode* slow = *head_ref; SinglyLinkedNode* prev = NULL; while (fast-\u003enext != NULL) { fast = fast-\u003enext; prev = slow; slow = slow-\u003enext; } // å¦‚æœ prev ä¸ºç©ºï¼Œå¤´ç»“ç‚¹åˆšå¥½æ˜¯ç¬¬ k ä¸ªç»“ç‚¹ if (!prev) { (*head_ref) = (*head_ref)-\u003enext; } else { prev-\u003enext = slow-\u003enext; } free(slow); } void test_deleteLastKth() { SinglyLinkedNode* head = NULL; insertNode(\u0026head, 1); insertNode(\u0026head, 2); insertNode(\u0026head, 3); insertNode(\u0026head, 4); insertNode(\u0026head, 5); // 1. åˆ é™¤å¤´ç»“ç‚¹ deleteLastKth(\u0026head, 5); printLinkedList(head); // 2. åˆ é™¤ä¸­é—´ç»“ç‚¹ deleteLastKth(\u0026head, 2); printLinkedList(head); } /** æ±‚ä¸­é—´ç»“ç‚¹ */ SinglyLinkedNode* findMiddleNode(SinglyLinkedNode* head) { if (!head) return NULL; SinglyLinkedNode* slow = head; SinglyLinkedNode* fast = head; // 1. æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆä¸¤æ­¥ while (fast-\u003enext != NULL \u0026\u0026 fast-\u003enext-\u003enext != NULL) { slow = slow-\u003enext; fast = fast-\u003enext-\u003enext; } return slow; } void test_findMiddleNode() { SinglyLinkedNode* head = NULL; insertNode(\u0026head, 1); insertNode(\u0026head, 2); insertNode(\u0026head, 3); insertNode(\u0026head, 4); insertNode(\u0026head, 5); SinglyLinkedNode* middleNode = findMiddleNode(head); printf(\"%d\\n\", middleNode-\u003edata); printLinkedList(head); } /** å·¥å…·æ–¹æ³• */ // æ’å…¥æ–°ç»“ç‚¹åˆ°é“¾è¡¨å¤´éƒ¨ void insertNode(SinglyLinkedNode** head_ref, int data) { SinglyLinkedNode* new_node = malloc(sizeof(SinglyLinkedNode)); new_node-\u003edata = data; new_node-\u003enext = *head_ref; *head_ref = new_node; } // æ‰“å°é“¾è¡¨ void printLinkedList(SinglyLinkedNode* node) { printf(\"--- start ---\\n\"); while (node) { printf(\"data: %d\\n\", node-\u003edata); node = node-\u003enext; } printf(\"--- end ---\\n\"); } // è·‘æµ‹è¯• void test() { test_reverse(); // test_checkCircle(); // test_mergeSortedLinkedList(); // test_deleteLastKth(); // test_findMiddleNode(); } linklist_jinshaohui /************************************************************************* \u003e File Name: lisklist.c \u003e Author: jinshaohui \u003e Mail: jinshaohui789@163.com \u003e Time: 18-10-07 ************************************************************************/ #include struct stlistNode { int val; struct listNode *next; }listNode; /*åè½¬é“¾è¡¨*/ listNode reverseList(listNode *head) { listNode *prev = NULL; listNode *next = NULL; while(head != NULL) { next = head-\u003enext; head-\u003enext = prev; prev = head; head = next; } return prev; } /*åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯*/ int hasCycle(listNode *head) { listNode * fast = head; listNode * low = head; while(fast != NULL \u0026\u0026 fast-\u003enext != NULL) { low = low-\u003enext; fast = fast-\u003enext-\u003enext; if (low == fast) { return 1; } } return 0; } /*åˆå¹¶æœ‰åºé“¾è¡¨*/ listNode *mergeTwoLists(listNode *l1,listNode *l2) { listNode head = {0}; listNode *pRes = \u0026head; while(1) { if(l1 == NULL) { pRes-\u003enext = l2; } if (l2 == NULL) { pRes-\u003enext = l1; } if(l1-\u003eval \u003c l2-\u003eval) { pRes-\u003enext = l1; l1 = l1-\u003enext; } else { pRes-\u003enext = l2; l2 = l2-\u003enext; } pRes = pRes-\u003enext; } return head; } /* *åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›é“¾è¡¨å¤´èŠ‚ç‚¹ */ listNode * removeNthFromEnd(listNode*headi,int n) { listNode *fast = head; listNode *prev = NULL; listNpde *next = head; int k = n; /*å¿«æŒ‡é’ˆå¾€åç§»åŠ¨k-1*/ while((k \u003e 1) \u0026\u0026 (fast != NULL)) { fast = fast-\u003enext; k--; } /*è¯´æ˜é“¾è¡¨æ•°ç›®ä¸è¶³nä¸ª*/ if (fast == NULL) { return head; } while (fast-\u003enext != NULL) { fast = fast-\u003enext; prev = next; next = next-\u003enext; } if(prev == NULL) { head = head-\u003enext; } else { prev-\u003enext = prev-\u003enext-\u003enext; } return head; } /*æ±‚é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹*/ listNode *middleNode(listNode *head) { listNode * fast = head; listNode * low = head; while(fast != NULL \u0026\u0026 fast-\u003enext != NULL) { low = low-\u003enext; fast = fast-\u003enext-\u003enext; } return low; } 2.1.3 åŒé“¾è¡¨ åŒå‘é“¾è¡¨çš„å…ƒç´ é€šè¿‡ä¸¤ä¸ªæŒ‡é’ˆé“¾æ¥ï¼Œä¸€ä¸ªæŒ‡å‘ç›´æ¥åç»§ï¼Œä¸€ä¸ªæŒ‡å‘ç›´æ¥å‰é©±ã€‚åŒå‘é“¾è¡¨å¯ä»¥æ­£å‘éå†ï¼Œä¹Ÿå¯åå‘éå†ã€‚\ntypedef struct DListElmt_ { void *data; struct DListElmt_ *prev; struct DListElmt_ *next; } DListElmt; typedef struct DList_ { int size; int (*match)(const void *key1, const void *key2); void (*destroy)(void *data); DListElmt *head; DListElmt *tail; } DList; Dlist // Dlist.h #include typedef struct DlistNode { //åŒå‘é“¾è¡¨ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹ struct DlistNode *prev; //èŠ‚ç‚¹å‰é¡¹æŒ‡é’ˆ struct DlistNode *next; //èŠ‚ç‚¹åé¡¹æŒ‡é’ˆ int data; //æ•°æ® }stDlistNode; typedef struct Dlisthead { //å®šä¹‰é“¾è¡¨æ€»ä½“ int size; //é“¾è¡¨é•¿åº¦ stDlistNode *head; //å¤´æŒ‡é’ˆ stDlistNode *tail; //å°¾éƒ¨æŒ‡é’ˆ }stDlistHead; // Dlist.c #include #include #include \"./Dlist.h\" void dlist_init(stDlistHead *dlist) //é“¾è¡¨åˆå§‹åŒ– { dlist-\u003esize = 0; dlist-\u003ehead = NULL; dlist-\u003etail = NULL; return; } void dlist_destory(stDlistHead *dlist) //åˆ é™¤é“¾è¡¨ { stDlistNode *pNode = NULL; while(dlist-\u003esize \u003e 0) { pNode = dlist-\u003ehead; dlist-\u003ehead = dlist-\u003ehead-\u003enext; free(pNode); dlist-\u003esize--; } memset(dlist,0,sizeof(stDlistHead)); return; } int dlist_insert_head(stDlistHead *dlist,stDlistNode *pNode,int data) //æ’å…¥å¤´ç»“ç‚¹ï¼Œæ“ä½œçš„é“¾è¡¨ï¼Œæ“ä½œçš„èŠ‚ç‚¹ï¼Œæ•°æ® { if(pNode == NULL) { //å½“åªä¼ é€’ä¸€ä¸ªæ•°æ®æ—¶ pNode = (stDlistNode *)malloc(sizeof(stDlistNode)); //æ–°å»ºèŠ‚ç‚¹ï¼Œä¸ºèŠ‚ç‚¹åˆ†é…ç©ºé—´ï¼ˆmallocï¼ˆï¼‰å¯èƒ½éœ€è¦#includeï¼‰ if (pNode == NULL) { return -1; } } pNode-\u003edata = data; pNode-\u003eprev = NULL; pNode-\u003enext = NULL; if (dlist-\u003esize == 0) { //å¦‚æœé“¾è¡¨é•¿åº¦ä¸º0ï¼Œå³é“¾è¡¨å½“å‰æ— èŠ‚ç‚¹ï¼Œ dlist-\u003ehead = pNode; dlist-\u003etail = pNode; } else { //å¦‚æœé“¾è¡¨å·²æœ‰èŠ‚ç‚¹ï¼Œåˆ™ä»¤æ–°æ’å…¥èŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹ pNode-\u003enext = dlist-\u003ehead; dlist-\u003ehead-\u003eprev = pNode; dlist-\u003ehead = pNode; } dlist-\u003esize++; //æ¯æˆåŠŸè°ƒç”¨ä¸€æ¬¡ï¼Œé“¾è¡¨é•¿åº¦+1 return 0; } stDlistNode * dlist_remove_tail(stDlistHead *dlist) //åˆ é™¤å°¾éƒ¨èŠ‚ç‚¹,å¹¶è¿”å›åˆ é™¤èŠ‚ç‚¹ { stDlistNode *pNode = NULL; if(dlist-\u003esize == 0) { return NULL; } pNode = dlist-\u003etail; if(dlist-\u003esize \u003e 1) { dlist-\u003etail = dlist-\u003etail-\u003eprev; dlist-\u003etail-\u003enext = NULL; } else { dlist-\u003ehead = NULL; dlist-\u003etail = NULL; } dlist-\u003esize--; return pNode; } void dlist_remove_node(stDlistHead * dlist,stDlistNode *pNode) //åˆ é™¤æŒ‡å®šèŠ‚ç‚¹ { if ((dlist == NULL)||(pNode == NULL)) { return; } if (dlist-\u003ehead == pNode) { dlist-\u003ehead = dlist-\u003ehead-\u003enext; } else if (dlist-\u003etail == pNode) { dlist-\u003etail = pNode-\u003eprev; dlist-\u003etail-\u003enext = NULL; } else { pNode-\u003eprev-\u003enext = pNode-\u003enext; pNode-\u003enext-\u003eprev = pNode-\u003eprev; } dlist-\u003esize--; pNode-\u003eprev = NULL; pNode-\u003enext = NULL; if (dlist-\u003esize == 0) { memset(dlist,0,sizeof(stDlistHead)); //å°†dlistå ç”¨å†…å­˜å—çš„æ‰€æœ‰å€¼ç½®ä¸º0ï¼Œä¹Ÿå°±æ˜¯æ¸…ç©ºhead,tailæŒ‡é’ˆå†…å®¹ } return; } stDlistNode * dlist_search(stDlistHead * dlist,int data) //æ ¹æ®å€¼æœç´¢èŠ‚ç‚¹ï¼Œå¹¶è¿”å› { stDlistNode *pNode = dlist-\u003ehead; while(pNode != NULL) { if (pNode-\u003edata == data) { return pNode; } pNode = pNode-\u003enext; } return NULL; } void dlist_dump(stDlistHead *dlist) //æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ•°æ® { int no = 0; stDlistNode *pNode = dlist-\u003ehead; while(pNode != NULL) { printf(\"\\r\\n [%d] = %d\",no++,pNode-\u003edata); pNode = pNode-\u003enext; //å°†pNodeçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ç»™pNodeï¼Œæ¨è¿›å¾ªç¯ } return; } void Lru_dlist(stDlistHead *dlist,int data) //LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç¼“å­˜æ·˜æ±°ç®—æ³• { stDlistNode *pNode = NULL; pNode = dlist_search(dlist,data); if (pNode != NULL) { //å¦‚æœåœ¨é“¾è¡¨ä¸­æ‰¾åˆ°è¿™ä¸ªå€¼ï¼Œåˆ™åˆ é™¤å‚¨å­˜è¿™ä¸ªå€¼çš„èŠ‚ç‚¹ï¼Œä¹‹åå§è¿™ä¸ªèŠ‚ç‚¹æ”¾åœ¨å¤´éƒ¨ dlist_remove_node(dlist,pNode); } else if(dlist-\u003esize \u003e= 4) { //æ²¡åœ¨é“¾è¡¨ä¸­æ‰¾åˆ°ï¼Œä¸”é“¾è¡¨é•¿åº¦å¤§äº4ï¼Œåˆ™ä»é“¾è¡¨ä¸­åˆ é™¤å°¾éƒ¨èŠ‚ç‚¹ï¼Œå°†æ–°æ•°æ®æ”¾åœ¨å¤´éƒ¨ pNode = dlist_remove_tail(dlist); } dlist_insert_head(dlist ,pNode,data); return; } int main() { stDlistHead dlist = {0}; stDlistNode * pNode = NULL; dlist_init(\u0026dlist); printf(\"\\r\\n inset 1,2,3\"); dlist_insert_head(\u0026dlist,NULL,1); dlist_insert_head(\u0026dlist,NULL,2); dlist_insert_head(\u0026dlist,NULL,3); dlist_dump(\u0026dlist); pNode = dlist_remove_tail(\u0026dlist); if(pNode != NULL) { printf(\"\\r\\n remove %d\",pNode-\u003edata); } dlist_insert_head(\u0026dlist,pNode,4); dlist_dump(\u0026dlist); Lru_dlist(\u0026dlist,5); dlist_dump(\u0026dlist); Lru_dlist(\u0026dlist,6); dlist_dump(\u0026dlist); Lru_dlist(\u0026dlist,7); dlist_dump(\u0026dlist); Lru_dlist(\u0026dlist,5); dlist_dump(\u0026dlist); while(dlist.size \u003e 0) { pNode = dlist_remove_tail(\u0026dlist); if(pNode != NULL) { printf(\"\\r\\n remove %d\",pNode-\u003edata); free (pNode); } } return 0; } linux/list // linuxå†…æ ¸æºç åŒå‘é“¾è¡¨å®ç°include/linux/list.h #ifndef _LIST_HEAD_H #define _LIST_HEAD_H // åŒå‘é“¾è¡¨èŠ‚ç‚¹ struct list_head { struct list_head *next, *prev; }; // åˆå§‹åŒ–èŠ‚ç‚¹ï¼šè®¾ç½®nameèŠ‚ç‚¹çš„å‰ç»§èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹éƒ½æ˜¯æŒ‡å‘nameæœ¬èº«ã€‚ #define LIST_HEAD_INIT(name) { \u0026(name), \u0026(name) } // å®šä¹‰è¡¨å¤´(èŠ‚ç‚¹)ï¼šæ–°å»ºåŒå‘é“¾è¡¨è¡¨å¤´nameï¼Œå¹¶è®¾ç½®nameçš„å‰ç»§èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹éƒ½æ˜¯æŒ‡å‘nameæœ¬èº«ã€‚ #define LIST_HEAD(name) \\ struct list_head name = LIST_HEAD_INIT(name) // åˆå§‹åŒ–èŠ‚ç‚¹ï¼šå°†listèŠ‚ç‚¹çš„å‰ç»§èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹éƒ½æ˜¯æŒ‡å‘listæœ¬èº«ã€‚ static inline void INIT_LIST_HEAD(struct list_head *list) { list-\u003enext = list; list-\u003eprev = list; } // æ·»åŠ èŠ‚ç‚¹ï¼šå°†newæ’å…¥åˆ°prevå’Œnextä¹‹é—´ã€‚ static inline void __list_add(struct list_head *new, struct list_head *prev, struct list_head *next) { next-\u003eprev = new; new-\u003enext = next; new-\u003eprev = prev; prev-\u003enext = new; } // æ·»åŠ newèŠ‚ç‚¹ï¼šå°†newæ·»åŠ åˆ°headä¹‹åï¼Œæ˜¯newç§°ä¸ºheadçš„åç»§èŠ‚ç‚¹ã€‚ static inline void list_add(struct list_head *new, struct list_head *head) { __list_add(new, head, head-\u003enext); } // æ·»åŠ newèŠ‚ç‚¹ï¼šå°†newæ·»åŠ åˆ°headä¹‹å‰ï¼Œå³å°†newæ·»åŠ åˆ°åŒé“¾è¡¨çš„æœ«å°¾ã€‚ static inline void list_add_tail(struct list_head *new, struct list_head *head) { __list_add(new, head-\u003eprev, head); } // ä»åŒé“¾è¡¨ä¸­åˆ é™¤entryèŠ‚ç‚¹ã€‚ static inline void __list_del(struct list_head * prev, struct list_head * next) { next-\u003eprev = prev; prev-\u003enext = next; } // ä»åŒé“¾è¡¨ä¸­åˆ é™¤entryèŠ‚ç‚¹ã€‚ static inline void list_del(struct list_head *entry) { __list_del(entry-\u003eprev, entry-\u003enext); } // ä»åŒé“¾è¡¨ä¸­åˆ é™¤entryèŠ‚ç‚¹ã€‚ static inline void __list_del_entry(struct list_head *entry) { __list_del(entry-\u003eprev, entry-\u003enext); } // ä»åŒé“¾è¡¨ä¸­åˆ é™¤entryèŠ‚ç‚¹ï¼Œå¹¶å°†entryèŠ‚ç‚¹çš„å‰ç»§èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹éƒ½æŒ‡å‘entryæœ¬èº«ã€‚ static inline void list_del_init(struct list_head *entry) { __list_del_entry(entry); INIT_LIST_HEAD(entry); } // ç”¨newèŠ‚ç‚¹å–ä»£oldèŠ‚ç‚¹ static inline void list_replace(struct list_head *old, struct list_head *new) { new-\u003enext = old-\u003enext; new-\u003enext-\u003eprev = new; new-\u003eprev = old-\u003eprev; new-\u003eprev-\u003enext = new; } // åŒé“¾è¡¨æ˜¯å¦ä¸ºç©º static inline int list_empty(const struct list_head *head) { return head-\u003enext == head; } // è·å–\"MEMBERæˆå‘˜\"åœ¨\"ç»“æ„ä½“TYPE\"ä¸­çš„ä½ç½®åç§» #define offsetof(TYPE, MEMBER) ((size_t) \u0026((TYPE *)0)-\u003eMEMBER) // æ ¹æ®\"ç»“æ„ä½“(type)å˜é‡\"ä¸­çš„\"åŸŸæˆå‘˜å˜é‡(member)çš„æŒ‡é’ˆ(ptr)\"æ¥è·å–æŒ‡å‘æ•´ä¸ªç»“æ„ä½“å˜é‡çš„æŒ‡é’ˆ #define container_of(ptr, type, member) ({ \\ const typeof( ((type *)0)-\u003emember ) *__mptr = (ptr); \\ (type *)( (char *)__mptr - offsetof(type,member) );}) // éå†åŒå‘é“¾è¡¨ #define list_for_each(pos, head) \\ for (pos = (head)-\u003enext; pos != (head); pos = pos-\u003enext) #define list_for_each_safe(pos, n, head) \\ for (pos = (head)-\u003enext, n = pos-\u003enext; pos != (head); \\ pos = n, n = pos-\u003enext) #define list_entry(ptr, type, member) \\ container_of(ptr, type, member) #endif 2.1.4 è·³è¡¨ è·³è¡¨å¯¹æ ‡çš„æ˜¯å¹³è¡¡æ ‘(AVL Tree), æ’å…¥/åˆ é™¤/æœç´¢éƒ½æ˜¯ O(logn)çš„æ•°æ®ç»“æ„ã€‚\nskiplist /************************************************************************* \u003e File Name: skiplist.h \u003e Author: jinshaohui \u003e Mail: jinshaohui789@163.com \u003e Time: 18-10-31 \u003e Desc: ************************************************************************/ #ifndef __SKIP_LIST_H__ #define __SKIP_LIST_H__ typedef struct _node { int key; /*keyæ˜¯å”¯ä¸€çš„*/ int value; /*å­˜å‚¨çš„å†…å®¹*/ int max_level; /*å½“å‰èŠ‚ç‚¹æœ€å¤§å±‚æ•°*/ struct _node *next[0];/*levelå±‚é“¾è¡¨ç»“æ„*/ }node; typedef struct _skiplist { int level; int count; node *head; }skiplist; /*æ ¹æ®å½“å‰ç»“æ„ä½“å…ƒç´ çš„åœ°å€ï¼Œè·å–åˆ°ç»“æ„ä½“é¦–åœ°å€*/ #define offsetof(TYPE,MEMBER) ((size_t) \u0026((TYPE *)0)-\u003eMEMBER) #define container(ptr,type,member) ({\\ const typeof( ((type *)0)-\u003emember) *__mptr = (ptr);\\ (type *) ( (char *)__mptr - offsetof(type,member));}) #endif #include #include #include #include #include\"./skiplist.h\" /*åˆ›å»ºnodeèŠ‚ç‚¹*/ node* skip_list_create_node(int level,int key,int value) { node * tmp = NULL; tmp =(node *)malloc(sizeof(node) + level*sizeof(node *)); assert(tmp != NULL); memset(tmp,0,sizeof(node) + level*sizeof(node*)); tmp-\u003ekey = key; tmp-\u003evalue = value; tmp-\u003emax_level = level; return tmp; } /*åˆ›å»ºè·³è¡¨çš„è¡¨å¤´ï¼Œmax_levelå±‚æ•°*/ skiplist * skip_list_create(int max_level) { int i = 0; skiplist * list = NULL; list = (skiplist *)malloc (sizeof(skiplist)); assert(list != NULL); list-\u003elevel = 1; list-\u003ecount = 0; list-\u003ehead = skip_list_create_node(max_level,0,0); if(list-\u003ehead == NULL) { free(list); return NULL; } return list; } /*skiplist é”€æ¯*/ void skip_list_destory(skiplist * list) { int i = 0; node * tmp = NULL; if((list == NULL) || (list-\u003ehead == NULL)) { return; } while(list-\u003ehead-\u003enext[0] != NULL) { tmp = list-\u003ehead-\u003enext[0]; list-\u003ehead-\u003enext[0] = tmp-\u003enext[0]; free(tmp); } free(list-\u003ehead); free(list); return; } /*æ’å…¥å…ƒç´ è·å¾—å±‚æ•°ï¼Œæ˜¯éšæœºäº§ç”Ÿçš„*/ int skip_list_level(skiplist * list) { int i = 0; int level = 1; for (i = 1; i \u003c list-\u003ehead-\u003emax_level; i++) { if ((rand()%2) == 1) { level++; } } return level; } int skip_list_insert(skiplist *list,int key,int value) { int i = 0; int level = 0; node **update = NULL;/*ç”¨æ¥æ›´æ–°æ¯å±‚çš„æŒ‡é’ˆ*/ node *tmp = NULL; node *prev = NULL; if (list == NULL) { return 1; } /*ç”³è¯·updateç©ºé—´ç”¨äºä¿å­˜æ¯å±‚çš„æŒ‡é’ˆ*/ update = (node **)malloc(sizeof(node *)*list-\u003ehead-\u003emax_level); if (update == NULL) { return 2; } /*é€å±‚æŸ¥è¯¢èŠ‚ç‚¹çš„*/ prev = list-\u003ehead; for (i = (list-\u003elevel -1); i \u003e= 0; i--) { /*åˆå§‹åŒ–æ¯levelå±‚çš„å¤´æŒ‡é’ˆ*/ while(((tmp = prev-\u003enext[i]) != NULL) \u0026\u0026 (tmp-\u003ekey \u003c key)) { prev = tmp; } update[i] = prev; } /*å½“å‰keyå·²ç»å­˜åœ¨ï¼Œè¿”å›é”™è¯¯*/ if ((tmp!= NULL) \u0026\u0026 (tmp-\u003ekey == key)) { return 3; } /*è·å–æ’å…¥å…ƒç´ çš„éšæœºå±‚æ•°ï¼Œå¹¶æ›´æ–°è·³è¡¨çš„æœ€å¤§å±‚æ•°*/ level = skip_list_level(list); /*åˆ›å»ºå½“å‰æ•°æ®èŠ‚ç‚¹*/ tmp = skip_list_create_node(level,key,value); if (tmp == NULL) { return 4; } /*æ›´æ–°æœ€å¤§å±‚æ•°*/ if (level \u003e list-\u003elevel) { for (i = list-\u003elevel;i \u003c level; i ++) { update[i] = list-\u003ehead; } list-\u003elevel = level; } /*é€å±‚æ›´æ–°èŠ‚ç‚¹çš„æŒ‡é’ˆ*/ for(i = 0; i \u003c level; i++) { tmp-\u003enext[i] = update[i]-\u003enext[i]; update[i]-\u003enext[i] = tmp; } list-\u003ecount++; return 0; } int skip_list_delete(skiplist * list, int key ,int *value) { int i = 0; node **update = NULL;/*ç”¨æ¥æ›´æ–°æ¯å±‚çš„æŒ‡é’ˆ*/ node *tmp = NULL; node *prev = NULL; if ((list == NULL) \u0026\u0026 (value == NULL)\u0026\u0026 (list-\u003ecount == 0)) { return 1; } /*ç”³è¯·updateç©ºé—´ç”¨äºä¿å­˜æ¯å±‚çš„æŒ‡é’ˆ*/ update = (node **)malloc(sizeof(node *)*list-\u003elevel); if (update == NULL) { return 2; } /*é€å±‚æŸ¥è¯¢èŠ‚ç‚¹çš„*/ prev = list-\u003ehead; for (i = (list-\u003elevel -1); i \u003e= 0; i--) { /*åˆå§‹åŒ–æ¯levelå±‚çš„å¤´æŒ‡é’ˆ*/ while(((tmp = prev-\u003enext[i]) != NULL) \u0026\u0026 (tmp-\u003ekey \u003c key)) { prev = tmp; } update[i] = prev; } if ((tmp != NULL) \u0026\u0026 (tmp-\u003ekey == key)) { *value = tmp-\u003evalue; /*é€å±‚åˆ é™¤*/ for(i = 0; i \u003c list-\u003elevel; i++) { if(update[i]-\u003enext[i] == tmp) { update[i]-\u003enext[i] = tmp-\u003enext[i]; } } free(tmp); tmp = NULL; /*æ›´æ–°levelçš„å±‚æ•°*/ for (i = list-\u003elevel - 1; i \u003e= 0; i++) { if (list-\u003ehead-\u003enext[i] == NULL ) { list-\u003elevel--; } else { break; } } list-\u003ecount--; } else { return 3;/*æœªæ‰¾åˆ°èŠ‚ç‚¹*/ } return 0 ; } /*æŸ¥è¯¢å½“å‰keyæ˜¯å¦åœ¨è·³è¡¨ä¸­ï¼Œå¦‚æœå­˜åœ¨è¿”å›æŸ¥è¯¢çš„valueæ•°å€¼ï¼Œä¸å­˜åœ¨è¿”å›-1*/ int skip_list_search(skiplist *list,int key,int *value) { int i = 0; node *prev = NULL; node *tmp = NULL; if((list == NULL) || (list-\u003ecount == 0) || (value == NULL)) { return 1; } prev = list-\u003ehead; for(i = list-\u003elevel - 1; i \u003e= 0; i--) { while(((tmp = prev-\u003enext[i]) != NULL) \u0026\u0026 (tmp-\u003ekey \u003c= key)) { if (tmp-\u003ekey == key) { *value = tmp-\u003evalue; return 0; } prev = tmp; } } return -1; } void skip_list_dump(skiplist *list) { int i = 0; node *ptmp = NULL; printf(\"\\r\\n----------------------------------------------\"); printf(\"\\r\\n skip list level[%d],count[%d]\",list-\u003elevel,list-\u003ecount); for(i = list-\u003elevel - 1; i \u003e= 0; i --) { ptmp = list-\u003ehead-\u003enext[i]; printf(\"\\r\\n level[%d]:\",i); while(ptmp != NULL) { printf(\"%d-%d \",ptmp-\u003ekey,ptmp-\u003evalue); ptmp = ptmp-\u003enext[i]; } } printf(\"\\r\\n----------------------------------------------\"); return; } int main() { int res = 0; int key = 0; int value = 0; skiplist *list = NULL; list = skip_list_create(5); assert(list != NULL); while(1) { printf(\"\\r\\n è¯·è¾“å…¥key å’Œ valueï¼Œå½“key = 1000æ—¶ï¼Œé€€å‡ºè¾“å…¥ï¼š\"); scanf(\"%d%d\",\u0026key,\u0026value); if (key == 1000) { break; } res = skip_list_insert(list,key,value); if (res != 0) { printf(\"\\r\\n skip list insert %d,failed,res=%d.\",key,res); } } skip_list_dump(list); while(1) { printf(\"\\r\\n é€šè¿‡key æŸ¥è¯¢valueçš„æ•°å€¼ï¼Œå½“key = 1000æ—¶ï¼Œé€€å‡ºæŸ¥è¯¢\"); scanf(\"%d\",\u0026key); if(key == 1000) { break; } res = skip_list_search(list,key,\u0026value); if (res != 0) { printf(\"\\r\\n skip list search %d,failed,res=%d.\",key,res); } else { printf(\"\\r\\n skip list search %d,sucessful,value=%d.\",key,value); } } skip_list_dump(list); while(1) { printf(\"\\r\\n é€šè¿‡key åˆ é™¤èŠ‚ç‚¹ï¼Œå½“key = 1000æ—¶ï¼Œé€€å‡ºåˆ é™¤\"); scanf(\"%d\",\u0026key); if(key == 1000) { break; } res = skip_list_delete(list,key,\u0026value); if (res != 0) { printf(\"\\r\\n skip list search %d,failed,res=%d.\",key,res); } else { printf(\"\\r\\n skip list search %d,sucessful,value=%d.\",key,value); } } skip_list_dump(list); skip_list_destory(list); return 0; } 2.1.5 æ ˆ æ ˆæŒ‰ç…§åè¿›å…ˆå‡º(LIFO)çš„é¡ºåºå­˜å‚¨å’Œæ£€ç´¢æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œæ£€ç´¢å…ƒç´ çš„é¡ºåºå’Œå­˜å‚¨å…ƒç´ é¡ºåºç›¸åã€‚ å¯é€šè¿‡é“¾è¡¨æ¥å®ç°æ ˆstack,å…è®¸æ’å…¥å’Œåˆ é™¤çš„ä¸ºæ ˆé¡¶(top),å¦ä¸€ç«¯ä¸ºæ ˆåº•(bottom),æ ˆä¸­æ¯ä¸ªå…ƒç´ ä¸ºframe,æ ˆåªæ”¯æŒä¸‰ä¸ªæ“ä½œ:pop,top,push.\ntypedef List Stack; #define stack_init list_init; int stack_push(Stack *stack, const void *data); int stack_pop(Stack *stack, void **data); #define stack_peek(stack) ((stack)-\u003ehead == NULL ? NULL : (stack)-\u003ehead-\u003edata); #define stack_size list_size; cè¯­è¨€é¡ºåºæ ˆ\n// å…ƒç´ elemè¿›æ ˆ int push(char *a, int top, char elem) { a[++top] = elem; return top; } // æ•°æ®å…ƒç´ å‡ºæ ˆ int pop(char *a, int top) { if (top == -1) { return -1; } top--; return top; } arrayStack /************************************************************************* \u003e File Name: arrayStack \u003e Author: jinshaohui \u003e Mail: jinshaohui789@163.com \u003e Time: 18-10-12 \u003e Desc: æ•°ç»„å®ç°é¡ºåºæ ˆ ************************************************************************/ #ifndef ARRAY_STACJ_H #define ARRAY_STACJ_H typedef struct _array_stack { int size;/*æ ˆçš„å¤§å°*/ int pos;/*å½“å‰å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°ï¼Œå³æ ˆé¡¶å…ƒç´ ä¸‹è¡¨*/ int *array;/*æ•°æ®å­˜å‚¨åŒº*/ }stArrayStack; #define arrayStack_size(arrayStack) (arrayStack-\u003esize) #define arrayStack_is_empty(arrayStack) (arrayStack-\u003epos == -1) #define arrayStack_is_full(arrayStack) (arrayStack-\u003epos == (arrayStack-\u003esize-1)) #endif #include #include #include #include\"./arrayStack.h\" /*åˆ›å»ºå¹¶åˆå§‹åŒ–é¡ºåºæ ˆ*/ stArrayStack * arrayStack_create(int size) { stArrayStack *parrStack = NULL; parrStack = (stArrayStack *)malloc(sizeof(stArrayStack)); if (parrStack == NULL) { return NULL; } parrStack-\u003esize = size; parrStack-\u003epos = -1; parrStack-\u003earray = (int *)malloc(sizeof(int)*size); if(parrStack-\u003earray == NULL) { free(parrStack); return NULL; } return parrStack; } /*é”€æ¯é¡ºåºæ ˆ*/ void arrayStack_destory(stArrayStack * parrStack) { if(parrStack == NULL) { return; } if (parrStack-\u003earray != NULL) { free(parrStack-\u003earray); } free(parrStack); return; } /*å‡ºæ ˆ*/ int arrayStack_pop(stArrayStack *parrStack) { int data = 0; if(arrayStack_is_empty(parrStack)) { return -1; } data = parrStack-\u003earray[parrStack-\u003epos]; parrStack-\u003epos--; return data; } /*å…¥æ ˆ*/ int arrayStack_push(stArrayStack *parrStack,int data) { if(arrayStack_is_full(parrStack)) { return -1; } parrStack-\u003epos++; parrStack-\u003earray[parrStack-\u003epos] = data; return 0; } int arrayStack_push_new(stArrayStack*parrStack,int data) { int *ptmp = NULL; /*å¦‚æœæ ˆä¸æ»¡ï¼Œç›´æ¥æ’å…¥*/ if(!arrayStack_is_full(parrStack)) { return arrayStack_push(parrStack,data); } /*å¦‚æœæ ˆå·²ç»æ»¡ï¼Œç”³è¯·å†…å­˜*/ ptmp = (int *)malloc(2*parrStack-\u003esize*sizeof(int)); if (ptmp == NULL) { return -1; } memcpy(ptmp,parrStack-\u003earray,parrStack-\u003esize*sizeof(int)); free(parrStack-\u003earray); parrStack-\u003earray = ptmp; parrStack-\u003esize = 2*parrStack-\u003esize; parrStack-\u003epos++; parrStack-\u003earray[parrStack-\u003epos] = data; return ; } void arrayStack_dump(stArrayStack *parrStack) { int i = 0; if (arrayStack_is_empty(parrStack)) { printf(\"\\r\\n arrayStack is empty.\"); return; } printf(\"\\r\\narrayStack size = %d,pos= %d,\", parrStack-\u003esize,parrStack-\u003epos); for(i = 0; i \u003c= parrStack-\u003epos; i++) { printf(\"\\r\\narry[%d] = %d\",i,parrStack-\u003earray[i]); } } int main() { int i = 0; int ret = 0; stArrayStack * parrStack = NULL; printf(\"\\r\\n create size = 4 arrayStack.\"); parrStack = arrayStack_create(4); if (parrStack == NULL) { printf(\"\\r\\n create size = 4 arrayStack faided.\"); return 0; } for (i = 0; i \u003c 5; i++) { ret = arrayStack_push(parrStack,i); if(ret != 0) { printf(\"\\r\\n push size = %d arrayStack faided.\",i); } } arrayStack_dump(parrStack); ret = arrayStack_push_new(parrStack,4); if(ret != 0) { printf(\"\\r\\n push size = %d arrayStack faided.\",4); } arrayStack_dump(parrStack); arrayStack_destory(parrStack); return; } é“¾æ ˆ\ntypedef struct lineStack { char data; struct lineStack *next; }lineStack; lineStack* push(lineStack * stack, char a){ lineStack * line=(lineStack*)malloc(sizeof(lineStack)); line-\u003edata=a; line-\u003enext=stack; stack=line; return stack; } lineStack * pop(lineStack * stack){ if (stack) { lineStack * p=stack; stack=stack-\u003enext; printf(\"å¼¹æ ˆå…ƒç´ ï¼š%c \",p-\u003edata); if (stack) { printf(\"æ ˆé¡¶å…ƒç´ ï¼š%c\\n\",stack-\u003edata); } else { printf(\"æ ˆå·²ç©º\\n\"); } free(p); } else { printf(\"æ ˆå†…æ²¡æœ‰å…ƒç´ \"); return stack; } return stack; } linklist_stack /************************************************************************* \u003e File Name: linklist_stack \u003e Author: jinshaohui \u003e Mail: jinshaohui789@163.com \u003e Time: 18-10-12 \u003e Desc: ************************************************************************/ #ifndef STACK_LINK_LIST_H #define STACK_LINK_LIST_H typedef struct _linkliststack { int data; struct _linkliststack *next; }linklist_stack; #define stack_is_empty(liststack) (liststack-\u003enext == NULL) #endif #include #include #include #include \"./linklist_stack.h\" linklist_stack * stack_create() { linklist_stack * stack = NULL; stack = (linklist_stack *)malloc(sizeof(linklist_stack)); if (stack == NULL) { return NULL; } stack-\u003enext = NULL; return stack; } void stack_destory(linklist_stack* stack) { linklist_stack * ptmp = NULL; while(!stack_is_empty(stack)) { ptmp = stack-\u003enext; stack-\u003enext = stack-\u003enext-\u003enext; free(ptmp); } free(stack); return; } int stack_push(linklist_stack *stack,int data) { linklist_stack * ptmp = NULL; ptmp = (linklist_stack *)malloc(sizeof(linklist_stack)); if (ptmp == NULL) { return -1; } ptmp-\u003edata = data; ptmp-\u003enext = stack-\u003enext; stack-\u003enext = ptmp; return 0; } int stack_pop(linklist_stack*stack,int *data) { linklist_stack *ptmp = NULL; if (data == NULL) { return -1; } if(stack_is_empty(stack)) { return -1; } *data = stack-\u003enext-\u003edata; ptmp = stack-\u003enext; stack-\u003enext = ptmp-\u003enext; free(ptmp); return 0; } void stack_dump(linklist_stack *stack) { linklist_stack * ptmp = stack-\u003enext; while(ptmp != NULL) { printf(\"\\r\\n data = %d\",ptmp-\u003edata); ptmp = ptmp-\u003enext; } return; } int main() { int i = 0; int ret = 0; int data = 0; linklist_stack * stack = NULL; stack = stack_create(); if (stack == NULL) { printf(\"\\r\\n stack create falied.\"); return 0; } for (i = 0; i \u003c 4; i++) { ret = stack_push(stack,i); if(ret != 0) { printf(\"\\r\\n stack push %d falied.\",i); } } stack_dump(stack); for (i = 0; i \u003c 5; i++) { ret = stack_pop(stack,\u0026data); if(ret != 0) { printf(\"\\r\\n stack pop%d falied.\", i); } else { printf(\"\\r\\n data = %d,\",data); } } stack_destory(stack); return 0; } 2.1.6 é˜Ÿåˆ— é˜Ÿåˆ—ï¼Œåœ¨å‰ç«¯(front)è¿›è¡Œåˆ é™¤æ“ä½œï¼Œåç«¯(rear)è¿›è¡Œæ’å…¥æ“ä½œ; æŒ‰ç…§å…ˆè¿›å…ˆå‡º(FIFO)çš„é¡ºåºå­˜å‚¨å’Œæ£€ç´¢æ•°æ®çš„é«˜æ•ˆæ•°æ®ç»“æ„ï¼ŒæŒ‰ç…§å…ƒç´ çš„å­˜å‚¨é¡ºåºæ£€ç´¢å…ƒç´ ã€‚ é˜Ÿåˆ—ä¹Ÿå¯é€šè¿‡æ•°ç»„å’Œé“¾è¡¨å®ç°ã€‚\ntypedef List Queue; #define queue_init list_init; #define queue_destroy list_destroy; int queue_enqueue(Queue *queue, const void *data); int queue_dequeue(Queue *queue, void **data); #define queue_peek(queue) ((queue)-\u003ehead == NULL ? NULL : (queue)-\u003ehead-\u003edata); #define queue_size list_size; array_queue /************************************************************************* \u003e File Name: array_queue \u003e Author: jinshaohui \u003e Mail: jinshaohui789@163.com \u003e Time: 18-10-12 \u003e Desc: ************************************************************************/ #ifndef ARRAY_QUEUE_H #define ARRAY_QUEUE_H typedef struct _array_queue { int size;/*é˜Ÿåˆ—çš„å¤§å°*/ int num; /*å½“å‰å­˜å‚¨æ•°æ®çš„å¤§å°*/ int head;/*é˜Ÿåˆ—çš„å¤´*/ int tail;/*é˜Ÿåˆ—çš„å°¾*/ int *array;/*æ•°æ®å­˜å‚¨åŒº*/ }array_queue; #define array_queue_is_empty(array_queue) (array_queue-\u003enum == 0) #define array_queue_is_full(array_queue) ((array_queue-\u003enum) == (array_queue-\u003esize)) #endif #include #include #include #include\"./array_queue.h\" array_queue * array_queue_create(int size) { array_queue * queue = NULL; queue = (array_queue*)malloc(sizeof(array_queue)); if (queue == NULL) { return NULL; } queue-\u003earray = (int *)malloc(sizeof(int)*size); if (queue-\u003earray == NULL) { free(queue); return NULL; } queue-\u003esize = size; queue-\u003enum = 0; queue-\u003ehead = 0; queue-\u003etail = 0; return queue; } void array_queue_destory(array_queue *queue) { if (queue == NULL) { return; } if (queue-\u003earray != NULL) { free(queue-\u003earray); } free(queue); return; } /*å…¥é˜Ÿåˆ— */ int array_queue_enqueue(array_queue *queue,int data) { /*é˜Ÿåˆ—ä¸ºç©ºï¼Œæˆ–è€…é˜Ÿåˆ—æ»¡æ—¶ï¼Œè¿”å›-1*/ if ((queue == NULL) || (array_queue_is_full(queue))) { return -1; } queue-\u003enum++; queue-\u003earray[queue-\u003etail] = data; queue-\u003etail = (queue-\u003etail + 1) % queue-\u003esize; return 0; } /*å‡ºé˜Ÿåˆ—*/ int array_queue_dequeue(array_queue * queue,int *data) { /*é˜Ÿåˆ—ä¸ºç©ºï¼Œæ•°æ®å­˜å‚¨ä¸ºç©ºï¼Œé˜Ÿåˆ—ä¸ºç©ºæ—¶è¿”å›-1*/ if ((queue == NULL) || (data == NULL) || (array_queue_is_empty(queue))) { return -1; } *data = queue-\u003earray[queue-\u003ehead]; queue-\u003enum--; queue-\u003ehead = (queue-\u003ehead + 1) % queue-\u003esize; return 0; } void array_queue_dump(array_queue *queue) { int i = 0; int pos = 0; if ((queue == NULL) || (array_queue_is_empty(queue))) { printf(\"\\r\\n queue is empty\"); return; } printf(\"\\r\\n size:%d,num:%d,head:%d,tali:%d\", queue-\u003esize,queue-\u003enum,queue-\u003ehead,queue-\u003etail); for (i = 0; i \u003c queue-\u003enum; i ++) { pos = (queue-\u003ehead + i) %queue-\u003esize; printf(\"\\r\\n array[%d] = %d\",pos,queue-\u003earray[pos]); } return; } int main() { int i = 0; int ret = 0; int data = 0; array_queue * queue = NULL; queue = array_queue_create(4); if (queue == NULL) { printf(\"\\r\\n queue is create failed.\"); return 0; } /*é˜Ÿåˆ—æ—¶ç©ºæ—¶ï¼Œå‡ºé˜Ÿè¿”å›é”™è¯¯*/ ret = array_queue_dequeue(queue, \u0026data); if (ret != 0) { printf(\"\\r\\n queue %d dequeue failed.\",ret); } /*é˜Ÿåˆ—å¤§å°æ˜¯4ï¼Œå…¥é˜Ÿ5ä¸ªï¼Œæœ€åä¸€ä¸ªæŠ¥é”™*/ for (i = 0; i \u003c 5; i++) { ret = array_queue_enqueue(queue,i); if (ret != 0) { printf(\"\\r\\n queue %d enqueue failed.\",i); } } array_queue_dump(queue); ret = array_queue_dequeue(queue, \u0026data); if (ret != 0) { printf(\"\\r\\n queue %d dequeue failed.\",i); } printf(\"\\r\\n queue %d dequue.\",data); array_queue_dump(queue); data = 5; printf(\"\\r\\n queue %d enqueue.\",data); ret = array_queue_enqueue(queue,data); if (ret != 0) { printf(\"\\r\\n queue %d enqueue failed.\",data); } array_queue_dump(queue); array_queue_destory(queue); return 0; } list_queue #ifndef LINK_LIST_QUEUE_H #define LINK_LIST_QUEUE_H typedef struct _list_queue_node { void *data; struct _list_queue_node *next; }queue_node; typedef struct _list_queue { int num; queue_node *head; queue_node *tail; }list_queue; #define list_queue_is_empty(queue) ((queue-\u003enum) == 0) list_queue *list_queue_create(); int list_queue_enqueue(list_queue *queue,void *data); int list_queue_dequeue(list_queue *queue,void **data); #endif // #include #include #include #include\"./list_queue.h\" /*åˆ›å»ºé˜Ÿåˆ—å¤´*/ list_queue *list_queue_create() { list_queue * queue = NULL; queue = (list_queue *)malloc(sizeof(list_queue)); if(queue == NULL) { return NULL; } queue-\u003enum = 0; queue-\u003ehead = NULL; queue-\u003etail = NULL; return queue; } /*å…¥é˜Ÿ*/ int list_queue_enqueue(list_queue *queue,void *data) { queue_node *ptmp = NULL; if(queue == NULL) { return -1; } ptmp = (queue_node *)malloc(sizeof(queue_node)); if (ptmp == NULL) { return -1; } ptmp-\u003edata = data; ptmp-\u003enext = NULL; if (queue-\u003ehead == NULL) { queue-\u003ehead = ptmp; } else { queue-\u003etail-\u003enext = ptmp; } queue-\u003etail = ptmp; queue-\u003enum++; return 0; } /*å‡ºé˜Ÿ*/ int list_queue_dequeue(list_queue *queue,void **data) { queue_node * ptmp = NULL; if ((queue == NULL) || (data == NULL) || list_queue_is_empty(queue)) { return -1; } *data = queue-\u003ehead-\u003edata; ptmp = queue-\u003ehead; queue-\u003ehead = queue-\u003ehead-\u003enext; queue-\u003enum--; if (queue-\u003ehead == NULL) { queue-\u003etail = NULL; } free(ptmp); return 0; } ring_queue #include #include #include #include struct ring_queue { int cap; int head, tail; int *_q; }; int alloc_queue(struct ring_queue* queue, int cap) { if (!queue || cap \u003c 0) return -1; if (queue-\u003e_q) return -1; queue-\u003e_q = (int *)malloc(cap * sizeof(int)); if (!queue-\u003e_q) return -1; queue-\u003ehead = queue-\u003etail = 0; queue-\u003ecap = cap; return 0; } void free_queue(struct ring_queue *queue) { queue-\u003ecap = 0; queue-\u003ehead = queue-\u003etail = 0; free(queue-\u003e_q); } int _valid_index(int curr, int step, int cap) { return (curr + step) % cap; } int _next(int curr, int cap) { return _valid_index(curr, 1, cap); } bool is_empty(struct ring_queue *queue) { return (queue-\u003ehead == queue-\u003etail); } bool is_full(struct ring_queue *queue) { int next_tail = _next(queue-\u003etail, queue-\u003ecap); return (next_tail == queue-\u003ehead); } int enqueue(struct ring_queue* queue, int elem) { if (is_full(queue)) return -1; queue-\u003e_q[queue-\u003etail] = elem; queue-\u003etail = _next(queue-\u003etail, queue-\u003ecap); return 0; } int dequeue(struct ring_queue* queue, int *elem) { if (is_empty(queue)) return -1; if (elem) *elem = queue-\u003e_q[queue-\u003ehead]; queue-\u003ehead = _next(queue-\u003ehead, queue-\u003ecap); return 0; } int size(struct ring_queue* queue) { int size = queue-\u003etail - queue-\u003ehead; if (size \u003c 0) size += queue-\u003ecap; return size; } void dump(struct ring_queue* queue) { int i, idx; printf(\"Queue has %d elements with %d capacity\\n\", size(queue), queue-\u003ecap); for (i = 0; i \u003c size(queue); i++) { idx = _valid_index(queue-\u003ehead, i, queue-\u003ecap); printf(\"[%02d]: %08d\\n\", idx, queue-\u003e_q[idx]); } } int main() { struct ring_queue queue = {0, 0, 0, NULL}; int i; if (alloc_queue(\u0026queue, 8)) { printf(\"Failed to allocate a queue\\n\"); return -1; } printf(\"A new queue is %s\\n\", is_empty(\u0026queue)?\"empty\":\"not empty\"); enqueue(\u0026queue, 1); printf(\"After enqueue 1 element, queue is %s\\n\", is_empty(\u0026queue)?\"empty\":\"not empty\"); dequeue(\u0026queue, NULL); printf(\"After dequeue 1 element, queue is %s\\n\", is_empty(\u0026queue)?\"empty\":\"not empty\"); for (i = 0; i \u003c 7; i++) enqueue(\u0026queue, i); printf(\"After enqueue 7 element, queue is %s\\n\", is_full(\u0026queue)?\"full\":\"not full\"); for (i = 0; i \u003c 4; i++) { dequeue(\u0026queue, NULL); enqueue(\u0026queue, i); } printf(\"After enqueue/dequeue 4 element, queue is %s\\n\", is_full(\u0026queue)?\"full\":\"not full\"); printf(\"Head is %d, Tail is %d\\n\", queue.head, queue.tail); dump(\u0026queue); free_queue(\u0026queue); return 0; } é˜Ÿåˆ—åº”ç”¨ï¼šè¿›ç¨‹é€šä¿¡ æ¶ˆæ¯é˜Ÿåˆ—æä¾›äº†ä»ä¸€ä¸ªè¿›ç¨‹å‘å¦ä¸€ä¸ªè¿›ç¨‹å‘é€ä¸€ä¸ªæ•°æ®å—çš„æ–¹æ³•.æ¯ä¸ªæ•°æ®åº“éƒ½è®¤ä¸ºå«æœ‰ä¸€ä¸ªç±»å‹,æ¥æ”¶è¿›ç¨‹å¯ä»¥ç‹¬ç«‹åœ°æ¥æ”¶å«æœ‰ä¸åŒç±»å‹çš„æ•°æ®ç»“æ„.\nlinuxå†…æ ¸ å¤´æ–‡ä»¶ä¸­å®šä¹‰äº†æ¶ˆæ¯é˜Ÿåˆ—ç»“æ„\nstruct msqid_ds { struct ipc_perm msg_perm; struct msg* msg_first; // æŒ‡å‘é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªæ¶ˆæ¯ struct msg* msg_last; // é˜Ÿåˆ—ä¸­æœ€åä¸€ä¸ªæ¶ˆæ¯ ... } Linuxæ¶ˆæ¯é˜Ÿåˆ—å‡½æ•°æ¥å£\n// åˆ›å»ºå’Œè®¿é—®ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ— int msgget(key_t key, int msgflg); // æŠŠæ¶ˆæ¯æ·»åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ int msgsnd(int msgid, const void *msg_ptr, size_t msg_sz, int msgflg); // ä»ä¸€ä¸ªæ¶ˆæ¯å¯¹ç«‹è·å–æ¶ˆæ¯ int msgrcv(int msgid, void *msg_ptr, size_t msg_st, long int msgtype, int msgflg); // æ§åˆ¶æ¶ˆæ¯é˜Ÿåˆ— int msgctl(int msgid, int command, struct msgid_ds *buf); 2.1.7 leetcodeé¢˜ç›® é‡å¤Næ¬¡çš„å…ƒç´ \u003cæ•°ç»„\u003e\nä¸¤æ•°ç›¸åŠ \u003cé“¾è¡¨\u003e\nåŸºæœ¬è®¡ç®—å™¨\u003cæ ˆ\u003e\nè®¾è®¡å¾ªç¯é˜Ÿåˆ—\u003cé˜Ÿåˆ—\u003e\n2.2 å“ˆå¸Œè¡¨ å“ˆå¸Œè¡¨æ˜¯ä¸€ç§æœ€æœ‰æ•ˆçš„æ£€ç´¢æ–¹æ³•ï¼Œæ•£åˆ—ï¼Œä»æœ¬è´¨ä¸Šçœ‹ï¼Œä¸€ä¸ªå“ˆå¸Œè¡¨åŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œé€šè¿‡ç‰¹æ®Šçš„ç´¢å¼•ï¼ˆé”®ï¼‰æ¥è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ã€‚å“ˆå¸Œè¡¨ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œåœ¨æ‰€æœ‰å¯èƒ½çš„é”®å’Œå€¼ç›´æ¥å»ºç«‹æ˜ å°„è¡¨ã€‚ æ¯ä¸ªè®°å½•çš„å…³é”®å­—ké€šè¿‡ä¸€ç§å‡½æ•°H(k)è®¡ç®—å‡ºå‡½æ•°å€¼.æ­¤å‡½æ•°ä¸ºå“ˆå¸Œå‡½æ•°æˆ–æ•£åˆ—å‡½æ•°.\n2.2.1 å“ˆå¸Œå‡½æ•°è®¾è®¡ ç›´æ¥åœ°å€æ³• å…³é”®å­—æ˜¯æ•´æ•°ç±»å‹çš„æ•°æ®,ç›´æ¥åœ°å€çš„å“ˆå¸Œå‡½æ•°Hç›´æ¥åˆ©ç”¨å…³é”®å­—æ±‚å¾—å“ˆå¸Œåœ°å€. H(k) = aK*i + b\næ•°å­—åˆ†ææ³• å–å…³é”®å­—æ•°ä¸­åˆ†å¸ƒå‡åŒ€çš„è‹¥å¹²ä½œä¸ºå“ˆå¸Œåœ°å€\nå¹³æ–¹å–ä¸­æ³• å–å…³é”®å­—å¹³æ–¹ä¸­é—´å‡ ä½ä½œä¸ºæ•£åˆ—åœ°å€\næŠ˜å æ³• æŠŠå…³é”®å­—åˆ†å‰²æˆä½æ•°ç›¸åŒçš„å‡ æ®µï¼Œæ®µçš„ä½æ•°å–å†³äºå“ˆå¸Œåœ°å€çš„ä½æ•°ï¼Œç„¶åå°†å®ƒä»¬å åŠ å’Œä½œä¸ºå“ˆå¸Œåœ°å€\né™¤ç•™å–ä½™æ³• å…³é”®å­—Ké™¤ä»¥ä¸€ä¸ªåˆé€‚çš„ä¸å¤§äºå“ˆå¸Œè¡¨é•¿åº¦çš„æ­£æ•´æ•°P,æ‰€å¾—ä½™æ•°ä½œä¸ºå“ˆå¸Œåœ°å€. H(K) = K MOD P\nuthashç”¨æ³• /************************************************************************* \u003e File Name: listhash.h \u003e Author: jinshaohui \u003e Mail: jinshaohui789@163.com \u003e Time: 18-11-06 \u003e Desc: æ ¹æ®linuxå†…æ ¸æ¨¡å—hashtabç¼–å†™ç”¨æˆ·å±‚hashtabæ¥å£ linux-4.19.1\\security\\selinux\\ss\\hashtab.c linux-4.19.1\\security\\selinux\\ss\\hashtab.h ************************************************************************/ #ifndef __HASHTAB_H__ #define __HASHTAB_H__ typedef struct _hashtab_node { void * key; void * data; struct _hashtab_node *next; }hashtab_node; typedef struct _hashtab { hashtab_node **htables; /*å“ˆå¸Œæ¡¶*/ int size; /*å“ˆå¸Œæ¡¶çš„æœ€å¤§æ•°é‡*/ int nel; /*å“ˆå¸Œæ¡¶ä¸­å…ƒç´ çš„ä¸ªæ•°*/ int (*hash_value)(struct _hashtab *h,const void *key); /*å“ˆå¸Œå‡½æ•°*/ int (*keycmp)(struct _hashtab *h,const void *key1,const void *key2);/*å“ˆå¸Œkeyæ¯”è¾ƒå‡½æ•°ï¼Œå½“å“ˆå¸Œæ•°å€¼ä¸€è‡´æ—¶ä½¿ç”¨*/ void (*hash_node_free)(hashtab_node *node); }hashtab; #define HASHTAB_MAX_NODES (0xffffffff) typedef int (*hash_key_func)(struct _hashtab *h,const void *key); /*å“ˆå¸Œå‡½æ•°*/ typedef int (*keycmp_func)(struct _hashtab *h,const void *key1,const void *key2);/*å“ˆå¸Œkeyæ¯”è¾ƒå‡½æ•°ï¼Œå½“å“ˆå¸Œæ•°å€¼ä¸€è‡´æ—¶ä½¿ç”¨*/ typedef void (*hash_node_free_func)(hashtab_node *node); /*æ ¹æ®å½“å‰ç»“æ„ä½“å…ƒç´ çš„åœ°å€ï¼Œè·å–åˆ°ç»“æ„ä½“é¦–åœ°å€*/ #define offsetof(TYPE,MEMBER) ((size_t) \u0026((TYPE *)0)-\u003eMEMBER) #define container(ptr,type,member) ({\\ const typeof( ((type *)0)-\u003emember) *__mptr = (ptr);\\ (type *) ( (char *)__mptr - offsetof(type,member));}) hashtab * hashtab_create(int size,hash_key_func hash_value, keycmp_func keycmp,hash_node_free_func hash_node_free); void hashtab_destory(hashtab *h); int hashtab_insert(hashtab * h,void *key,void *data); hashtab_node *hashtab_delete(hashtab *h, void *key); void *hashtab_search(hashtab*h,void *key); #endif #include #include #include #include #include\"listhash.h\" #ifdef MEMORY_TEST #include #endif hashtab * hashtab_create(int size,hash_key_func hash_value, keycmp_func keycmp,hash_node_free_func hash_node_free) { hashtab * h = NULL; int i = 0; if ((size \u003c 0) || (hash_value == NULL) || (keycmp == NULL)) { return NULL; } h = (hashtab *)malloc(sizeof(hashtab)); if (h == NULL) { return NULL; } h-\u003ehtables = (hashtab_node **)malloc(size * sizeof(hashtab_node*)); if (h-\u003ehtables == NULL) { return NULL; } h-\u003esize = size; h-\u003enel = 0; h-\u003ehash_value = hash_value; h-\u003ekeycmp = keycmp; h-\u003ehash_node_free = hash_node_free; for (i = 0; i \u003c size; i++) { h-\u003ehtables[i] = NULL; } return h; } void hashtab_destory(hashtab *h) { int i = 0; hashtab_node * cur = NULL; hashtab_node * tmp = NULL; if (h == NULL) { return; } for (i = 0; i \u003ch-\u003esize; i++) { cur = h-\u003ehtables[i]; while (cur != NULL) { tmp = cur; cur = cur-\u003enext; h-\u003ehash_node_free(tmp); } h-\u003ehtables[i] = NULL; } free(h-\u003ehtables); free(h); return; } int hashtab_insert(hashtab * h,void *key,void *data) { unsigned int hvalue = 0; int i = 0; hashtab_node *cur = NULL; hashtab_node *prev = NULL; hashtab_node *newnode = NULL; if ((h == NULL) || (key == NULL) || (data == NULL)) { return 1; } /*è·å–hash æ•°å€¼*/ hvalue = h-\u003ehash_value(h,key); cur = h-\u003ehtables[hvalue]; /*hashæ¡¶ä¸­å…ƒç´ æ˜¯ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œæ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®*/ while((cur != NULL) \u0026\u0026 (h-\u003ekeycmp(h,key,cur-\u003ekey) \u003e 0)) { prev = cur; cur = cur-\u003enext; } /*å¦‚æœkeyå’Œå½“å‰keyæ¯”å¯¹ä¸€è‡´ï¼Œç›´æ¥è¿”å›ï¼Œæ•°æ®å·²ç»å­˜åœ¨*/ if ((cur != NULL) \u0026\u0026 (h-\u003ekeycmp(h,key,cur-\u003ekey) == 0)) { return 2; } newnode = (hashtab_node *)malloc(sizeof(hashtab_node)); if (newnode == NULL) { return 3; } newnode-\u003ekey = key; newnode-\u003edata = data; if (prev == NULL) { newnode-\u003enext = h-\u003ehtables[hvalue]; h-\u003ehtables[hvalue] = newnode; } else { newnode-\u003enext = prev-\u003enext; prev-\u003enext = newnode; } h-\u003enel++; return 0; } hashtab_node *hashtab_delete(hashtab *h, void *key) { int hvalue = 0; int i = 0; hashtab_node *cur = NULL; hashtab_node *prev = NULL; if ((h == NULL) || (key == NULL)) { return NULL; } /*è·å–hash æ•°å€¼*/ hvalue = h-\u003ehash_value(h,key); cur = h-\u003ehtables[hvalue]; /*hashæ¡¶ä¸­å…ƒç´ æ˜¯ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œæ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®*/ while((cur != NULL) \u0026\u0026 (h-\u003ekeycmp(h,key,cur-\u003ekey) \u003e= 0)) { if (h-\u003ekeycmp(h,key,cur-\u003ekey) == 0) { if (prev == NULL) { h-\u003ehtables[hvalue] = cur-\u003enext; } else { prev-\u003enext = cur-\u003enext; } return cur; } prev = cur; cur = cur-\u003enext; } return NULL; } void *hashtab_search(hashtab*h,void *key) { int hvalue = 0; int i = 0; hashtab_node *cur = NULL; if ((h == NULL) || (key == NULL)) { return NULL; } /*è·å–hash æ•°å€¼*/ hvalue = h-\u003ehash_value(h,key); cur = h-\u003ehtables[hvalue]; /*hashæ¡¶ä¸­å…ƒç´ æ˜¯ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œæ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®*/ while((cur != NULL) \u0026\u0026 (h-\u003ekeycmp(h,key,cur-\u003ekey) \u003e= 0)) { if (h-\u003ekeycmp(h,key,cur-\u003ekey) == 0) { return cur-\u003edata; } cur = cur-\u003enext; } return NULL; } void hashtab_dump(hashtab *h) { int i = 0; hashtab_node * cur = NULL; if (h == NULL) { return ; } printf(\"\\r\\n----å¼€å§‹--size[%d],nel[%d]------------\",h-\u003esize,h-\u003enel); for( i = 0; i \u003c h-\u003esize; i ++) { printf(\"\\r\\n htables[%d]:\",i); cur = h-\u003ehtables[i]; while((cur != NULL)) { printf(\"key[%s],data[%s] \",cur-\u003ekey,cur-\u003edata); cur = cur-\u003enext; } } printf(\"\\r\\n----ç»“æŸ--size[%d],nel[%d]------------\",h-\u003esize,h-\u003enel); } struct test_node { char key[80]; char data[80]; }; unsigned int siample_hash(const char *str) { register unsigned int hash = 0; register unsigned int seed = 131; while(*str) { hash = hash*seed + *str++; } return hash \u0026 (0x7FFFFFFF); } int hashtab_hvalue(hashtab *h,const void *key) { return (siample_hash(key) % h-\u003esize); } int hashtab_keycmp(hashtab *h,const void *key1,const void *key2) { return strcmp(key1,key2); } void hashtab_node_free(hashtab_node*node) { struct test_node * ptmp = NULL; ptmp = container(node-\u003ekey,struct test_node,key); free(ptmp); free(node); } int main () { int i = 0; int res = 0; char *pres = NULL; hashtab_node * node = NULL; struct test_node *p = NULL; hashtab *h = NULL; #ifdef MEMORY_TEST setenv(\"MALLOC_TRACE\",\"1.txt\",1); mtrace(); #endif h = hashtab_create(5,hashtab_hvalue,hashtab_keycmp,hashtab_node_free); assert(h!= NULL); while(1) { p = (struct test_node*)malloc(sizeof(struct test_node)); assert(p != NULL); printf(\"\\r\\n è¯·è¾“å…¥key å’Œvalueï¼Œå½“å¯ä»¥ç­‰äº\\\"quit\\\"æ—¶é€€å‡º\"); scanf(\"%s\",p-\u003ekey); scanf(\"%s\",p-\u003edata); if(strcmp(p-\u003ekey,\"quit\") == 0) { free(p); break; } res = hashtab_insert(h,p-\u003ekey,p-\u003edata); if (res != 0) { free(p); printf(\"\\r\\n key[%s],data[%s] insert failed %d\",p-\u003ekey,p-\u003edata,res); } else { printf(\"\\r\\n key[%s],data[%s] insert success %d\",p-\u003ekey,p-\u003edata,res); } } hashtab_dump(h); while(1) { p = (struct test_node*)malloc(sizeof(struct test_node)); assert(p != NULL); printf(\"\\r\\n è¯·è¾“å…¥key æŸ¥è¯¢valueçš„æ•°å€¼ï¼Œå½“å¯ä»¥ç­‰äº\\\"quit\\\"æ—¶é€€å‡º\"); scanf(\"%s\",p-\u003ekey); if(strcmp(p-\u003ekey,\"quit\") == 0) { free(p); break; } pres = hashtab_search(h,p-\u003ekey); if (pres == NULL) { printf(\"\\r\\n key[%s] search data failed\",p-\u003ekey); } else { printf(\"\\r\\n key[%s],search data[%s] success\",p-\u003ekey,pres); } free(p); } hashtab_dump(h); while(1) { p = (struct test_node*)malloc(sizeof(struct test_node)); assert(p != NULL); printf(\"\\r\\n è¯·è¾“å…¥key åˆ é™¤èŠ‚ç‚¹çš„æ•°å€¼ï¼Œå½“å¯ä»¥ç­‰äº\\\"quit\\\"æ—¶é€€å‡º\"); scanf(\"%s\",p-\u003ekey); if(strcmp(p-\u003ekey,\"quit\") == 0) { free(p); break; } node = hashtab_delete(h,p-\u003ekey); if (node == NULL) { printf(\"\\r\\n key[%s] delete node failed \",p-\u003ekey); } else { printf(\"\\r\\n key[%s],delete data[%s] success\",node-\u003ekey,node-\u003edata); h-\u003ehash_node_free(node); } free(p); hashtab_dump(h); } hashtab_destory(h); #ifdef MEMORY_TEST muntrace(); #endif return 0; } hash_table #include #include #include #include #include /* One implementation of hash table with linear probing. */ #define HASH_SHIFT 4 #define HASH_SIZE (1 \u003c\u003c HASH_SHIFT) #define HASH_MASK (HASH_SIZE - 1) struct hash_table { unsigned int used; unsigned long entry[HASH_SIZE]; }; void hash_table_reset(struct hash_table *table) { int i; table-\u003eused = 0; for (i = 0; i \u003c HASH_SIZE; i++) table-\u003eentry[i] = ~0; } unsigned int hash_function(unsigned long value) { return value \u0026 HASH_MASK; } void dump_hash_table(struct hash_table *table) { int i; for (i = 0; i \u003c HASH_SIZE; i++) { if (table-\u003eentry[i] == ~0) printf(\"%2u: nil \\n\", i); else printf(\"%2u:%10lu -\u003e %2u\\n\", i, table-\u003eentry[i], hash_function(table-\u003eentry[i])); } } void hash_function_test() { int i; srandom(time(NULL)); for (i = 0; i \u003c 10; i++) { unsigned long val = random(); printf(\"%10lu -\u003e %2u\\n\", val, hash_function(val));; } } unsigned int next_probe(unsigned int prev_key) { return (prev_key + 1) \u0026 HASH_MASK; } void next_probe_test() { int i; unsigned int key1, key2; key1 = 0; for (i = 0; i \u003c HASH_SIZE; i++) { key2 = next_probe(key1); printf(\"%2u -\u003e %2u\\n\", key1, key2); key1 = key2; } } void hash_table_add(struct hash_table *table, unsigned long value) { unsigned int key = hash_function(value); if (table-\u003eused \u003e= HASH_SIZE) return; while (table-\u003eentry[key] != ~0) key = next_probe(key); table-\u003eentry[key] = value; table-\u003eused++; } unsigned int hash_table_slot(struct hash_table *table, unsigned long value) { int i; unsigned int key = hash_function(value); for (i = 0; i \u003c HASH_SIZE; i++) { if (table-\u003eentry[key] == value || table-\u003eentry[key] == ~0) break; key = next_probe(key); } return key; } bool hash_table_find(struct hash_table *table, unsigned long value) { return table-\u003eentry[hash_table_slot(table, value)] == value; } void hash_table_del(struct hash_table *table, unsigned long value) { unsigned int i, j, k; if (!hash_table_find(table, value)) return; i = j = hash_table_slot(table, value); while (true) { table-\u003eentry[i] = ~0; do { j = next_probe(j); if (table-\u003eentry[j] == ~0) return; k = hash_function(table-\u003eentry[j]); } while ((i \u003c= j) ? (i \u003c k \u0026\u0026 k \u003c= j) : (i \u003c k || k \u003c= j)); table-\u003eentry[i] = table-\u003eentry[j]; i = j; } table-\u003eused++; } void hash_table_add_test() { struct hash_table table; hash_table_reset(\u0026table); hash_table_add(\u0026table, 87645); printf(\"Table has%s 87645\\n\", hash_table_find(\u0026table, 87645) ? \"\":\"n't\"); printf(\"Table has%s 87647\\n\", hash_table_find(\u0026table, 87647) ? \"\":\"n't\"); } void hash_table_del_test1() { struct hash_table table; hash_table_reset(\u0026table); hash_table_add(\u0026table, 0x1ff0); hash_table_add(\u0026table, 0x2ff0); hash_table_add(\u0026table, 0x3ff0); dump_hash_table(\u0026table); printf(\"=== Remove 0x1ff0\\n\"); hash_table_del(\u0026table, 0x1ff0); dump_hash_table(\u0026table); } void hash_table_del_test2() { struct hash_table table; hash_table_reset(\u0026table); hash_table_add(\u0026table, 0x1ff0); hash_table_add(\u0026table, 0x1ff1); hash_table_add(\u0026table, 0x1ff2); hash_table_add(\u0026table, 0x2ff0); dump_hash_table(\u0026table); printf(\"=== Remove 0x1ff0\\n\"); hash_table_del(\u0026table, 0x1ff0); dump_hash_table(\u0026table); } int main() { //hash_function_test(); //next_probe_test(); //hash_table_add_test(); hash_table_del_test2(); return 0; } 2.2.2 å“ˆå¸Œå†²çª ç†æƒ³æƒ…å†µä¸‹,å“ˆå¸Œå‡½æ•°åœ¨å…³é”®å­—å’Œåœ°å€ä¹‹é—´å»ºç«‹ä¸€å¯¹ä¸€å…³ç³».ä½†H(k1) = H(k2),å³ä¸ºå†²çª.\nè§£å†³å“ˆå¸Œå†²çªå¸¸ç”¨æ–¹æ³•:\né“¾åœ°å€æ³• å°†å“ˆå¸Œå€¼ç›¸åŒçš„å…ƒç´ æ„æˆä¸€ä¸ªåŒä¹‰è¯çš„å•é“¾è¡¨,å¹¶å°†å•é“¾è¡¨å¤´æŒ‡é’ˆå­˜æ”¾åœ¨å“ˆå¸Œè¡¨çš„åœ°iä¸ªå•å…ƒä¸­,æŸ¥æ‰¾,æ’å…¥å’Œåˆ é™¤ä¸»è¦åœ¨åŒä¹‰è¯é“¾è¡¨ä¸­. çº¿æ€§æ¢æµ‹ äºŒæ¬¡æ¢æµ‹ 2.2.3 uthash uthashçš„æ’å…¥ã€æŸ¥æ‰¾ã€åˆ é™¤çš„æ“ä½œæ—¶é—´éƒ½æ˜¯å¸¸é‡\n#include \"uthash.h\" struct my_struct { int id; /* we'll use this field as the key */ char name[10]; UT_hash_handle hh; /* makes this structure hashable */ }; struct my_struct *users = NULL; void add_user(struct my_struct *s) { HASH_ADD_INT(users, id, s); } uthashç”¨æ³• #include /* gets */ #include /* atoi, malloc */ #include /* strcpy */ #include \"uthash.h\" struct my_struct { int id; /* key */ char name[10]; UT_hash_handle hh; /* makes this structure hashable */ }; struct my_struct *users = NULL; void add_user(int user_id, char *name) { struct my_struct *s; HASH_FIND_INT(users, \u0026user_id, s); /* id already in the hash? */ if (s==NULL) { s = (struct my_struct *)malloc(sizeof *s); s-\u003eid = user_id; HASH_ADD_INT( users, id, s ); /* id: name of key field */ } strcpy(s-\u003ename, name); } struct my_struct *find_user(int user_id) { struct my_struct *s; HASH_FIND_INT(users, \u0026user_id, s); /* s: output pointer */ return s; } void delete_user(struct my_struct *user) { HASH_DEL(users, user); /* user: pointer to deletee */ free(user); } void delete_all() { struct my_struct *current_user, *tmp; HASH_ITER(hh, users, current_user, tmp) { HASH_DEL(users, current_user); /* delete it (users advances to next) */ free(current_user); /* free it */ } } void print_users() { struct my_struct *s; for(s=users; s != NULL; s=(struct my_struct*)(s-\u003ehh.next)) { printf(\"user id %d: name %s\\n\", s-\u003eid, s-\u003ename); } } int name_sort(struct my_struct *a, struct my_struct *b) { return strcmp(a-\u003ename,b-\u003ename); } int id_sort(struct my_struct *a, struct my_struct *b) { return (a-\u003eid - b-\u003eid); } void sort_by_name() { HASH_SORT(users, name_sort); } void sort_by_id() { HASH_SORT(users, id_sort); } int main(int argc, char *argv[]) { char in[10]; int id=1, running=1; struct my_struct *s; unsigned num_users; while (running) { printf(\" 1. add user\\n\"); printf(\" 2. add/rename user by id\\n\"); printf(\" 3. find user\\n\"); printf(\" 4. delete user\\n\"); printf(\" 5. delete all users\\n\"); printf(\" 6. sort items by name\\n\"); printf(\" 7. sort items by id\\n\"); printf(\" 8. print users\\n\"); printf(\" 9. count users\\n\"); printf(\"10. quit\\n\"); gets(in); switch(atoi(in)) { case 1: printf(\"name?\\n\"); add_user(id++, gets(in)); break; case 2: printf(\"id?\\n\"); gets(in); id = atoi(in); printf(\"name?\\n\"); add_user(id, gets(in)); break; case 3: printf(\"id?\\n\"); s = find_user(atoi(gets(in))); printf(\"user: %s\\n\", s ? s-\u003ename : \"unknown\"); break; case 4: printf(\"id?\\n\"); s = find_user(atoi(gets(in))); if (s) delete_user(s); else printf(\"id unknown\\n\"); break; case 5: delete_all(); break; case 6: sort_by_name(); break; case 7: sort_by_id(); break; case 8: print_users(); break; case 9: num_users=HASH_COUNT(users); printf(\"there are %u users\\n\", num_users); break; case 10: running=0; break; } } delete_all(); /* free any structures */ return 0; } å‚è€ƒé“¾æ¥ å®˜ç½‘:https://troydhanson.github.io/uthash/ https://blog.csdn.net/fan_h_l/article/details/107241520 https://blog.csdn.net/whatday/article/details/95926766 https://www.cnblogs.com/pam-sh/p/12827658.html 2.2.4 leetcodeé¢˜ç›® è®¾è®¡å“ˆå¸Œé›†åˆ\nè®¾è®¡å“ˆå¸Œæ˜ å°„\næ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº\n2.3 æ ‘ä¸äºŒå‰æ ‘ æ ‘(tree)æ˜¯ä¸€ç§ç”¨æ¥æ¨¡æ‹Ÿæ ‘çŠ¶ç»“æ„çš„æŠ½è±¡æ•°æ®ç»“æ„(ADT);\næ ‘çš„ç‰¹ç‚¹:\næ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºæ ¹èŠ‚ç‚¹ æ¯ä¸ªéæ ¹èŠ‚ç‚¹æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ é™¤äº†æ ¹ç»“ç‚¹å¤–,æ¯ä¸ªå­èŠ‚ç‚¹å¯åˆ†ä¸ºå¤šä¸ªä¸ç›¸äº¤çš„å­æ ‘ æ ‘ä¸­æ²¡æœ‰ç¯è·¯ 2.3.1 æ¦‚è¿° èŠ‚ç‚¹çš„åº¦: ä¸€ä¸ªèŠ‚ç‚¹å«æœ‰å­æ ‘çš„ä¸ªæ•° æ ‘çš„åº¦: æ ‘ä¸­æœ€å¤§çš„èŠ‚ç‚¹åº¦ å¶èŠ‚ç‚¹: åº¦ä¸ºé›¶çš„èŠ‚ç‚¹ çˆ¶èŠ‚ç‚¹ å­èŠ‚ç‚¹ å…„å¼ŸèŠ‚ç‚¹ èŠ‚ç‚¹çš„å±‚æ¬¡ æ·±åº¦: ä»»æ„èŠ‚ç‚¹n,nçš„æ·±åº¦ä¸ºä»nåˆ°ä¸€ç‰‡æ ‘å¶çš„æœ€é•¿è·¯å¾„é•¿,æ ¹çš„æ·±åº¦ä¸º0 é«˜åº¦: å¯¹ä»»æ„èŠ‚ç‚¹n,nçš„é«˜åº¦ä¸ºä»nåˆ°ä¸€ç‰‡æ ‘å¶çš„æœ€é•¿è·¯å¾„é•¿,æ‰€æœ‰æ ‘å¶çš„é«˜åº¦ä¸º0. æ£®æ— æ ‘ç”±ç§°ä¸ºç»“ç‚¹çš„å…ƒç´ æŒ‰ç…§å±‚æ¬¡ç»“æ„çš„æ–¹å¼ç»„ç»‡è€Œæˆã€‚æœ€é¡¶ç«¯ç§°ä¸ºæ ¹ã€‚ä¸æ ¹ç›´æ¥ç›¸è¿çš„ç»“ç‚¹ç§°ä¸ºæ ¹çš„å­ç»“ç‚¹ã€‚å­èŠ‚ç‚¹æœ¬èº«ä¹Ÿå¯ä»¥æœ‰å­ç»“ç‚¹ã€‚é™¤æ ¹ç»“ç‚¹å¤–ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æœ‰å”¯ä¸€çš„çˆ¶ç»“ç‚¹ã€‚\n2.3.2 æ ‘çš„ç§ç±» æ— åºæ ‘ æœ‰åºæ ‘ äºŒå‰æ ‘: æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šå«æœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘.\nå®Œå…¨äºŒå‰æ ‘: å¯¹äºä¸€é¢—æ·±åº¦ä¸ºdçš„äºŒå‰æ ‘,é™¤ç¬¬då±‚å¤–,å…¶ä»–å„å±‚èŠ‚ç‚¹æ•°ç›®å‡è¾¾æœ€å¤§å€¼,ä¸”ç¬¬då±‚æ‰€æœ‰èŠ‚ç‚¹ä»å·¦å‘å³è¿ç»­ç´§å¯†æ’åˆ—. æ»¡äºŒå‰æ ‘:æ‰€æœ‰å¶èŠ‚ç‚¹éƒ½æœ€åº•å±‚çš„å®Œå…¨äºŒå‰æ ‘. å¹³è¡¡äºŒå‰æ ‘(AVL):å½“ä¸”ä»…å½“ä»»ä½•èŠ‚ç‚¹çš„ä¸¤é¢—å­æ ‘çš„é«˜åº¦å·®ä¸å¤§äº1çš„äºŒå‰æ ‘. æ’åºäºŒå‰æ ‘:äºŒå‰æŸ¥æ‰¾æ ‘ éœå¤«æ›¼æ ‘:å¸¦æƒè·¯å¾„æœ€çŸ­çš„äºŒå‰æ ‘(åˆç§°æœ€ä¼˜äºŒå‰æ ‘).\nBæ ‘:ä¸€ç§å †è¯»å†™æ“ä½œè¿›è¡Œä¼˜åŒ–çš„è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘,èƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åº,æ‹¥æœ‰å¤šä½™ä¸¤ä¸ªå­æ ‘.\näºŒå‰æ ‘ äºŒå‰æŸ¥æ‰¾æ ‘(BST) ç¬›å¡å°”æ ‘ MVPæ ‘ Top tree Tæ ‘ è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ AVLæ ‘ çº¢é»‘æ ‘ åŠ æƒå¹³è¡¡æ ‘ AAæ ‘ Bæ ‘ Bæ ‘ B+æ ‘ å † äºŒé¡¹å † æ–æ³¢é‚£å¥‘å † Trie åç¼€æ ‘ åŸºæ•°æ ‘ ä¸‰å‰æŸ¥æ‰¾æ ‘ æ ‘æœ‰å¤šç§ç»“æ„å½¢å¼ï¼ŒåŒ…æ‹¬äºŒå‰æ ‘ã€ã€‚\n2.3.3 äºŒå‰æ ‘ äºŒå‰æ ‘ä¸¤ä¸ªæ¡ä»¶:\næœ¬èº«æ˜¯æœ‰åºæ ‘ æ ‘ä¸­åŒ…å«çš„å„ä¸ªèŠ‚ç‚¹çš„åº¦ä¸èƒ½è¶…è¿‡2,å³åªèƒ½æ˜¯0,1æˆ–è€…2 äºŒå‰æ ‘ä¸­ç»“ç‚¹åŒ…å«ä¸‰éƒ¨åˆ†ï¼šä¸€ä¸ªæ•°æ®æˆå‘˜ä¸¤ä¸ªå·¦å³æŒ‡é’ˆã€‚\ntypedef struct BiTreeNode_ { void *data; struct BiTreeNode_ *left; struct BiTreeNode_ *right; }BiTreeNode; typedef struct BiTree_ { int size; int (*compare)(const void *key1, const void *key2); void (*destroy)(void *data); BiTreeNode *root; }BiTree; /*æ ‘æ ¹*/ typedef struct tree{ Node * root; }Tree; äºŒå‰æ ‘ #include #include #include #include #include\"list_queue.h\" typedef struct _treenode { int data; struct _treenode *lchild; struct _treenode *rchild; }Tnode,Tree; void binarytree_create(Tree **Root) { int a = 0; printf(\"\\r\\nè¾“å…¥èŠ‚ç‚¹æ•°å€¼((å½“è¾“å…¥ä¸º100æ—¶ï¼Œå½“å‰èŠ‚ç‚¹åˆ›å»ºå®Œæˆ))):\"); scanf(\"%d\",\u0026a); if (a == 100) { *Root = NULL; } else { *Root = (Tnode *)malloc(sizeof(Tnode)); if (*Root == NULL) { return; } (*Root)-\u003edata = a; printf(\"\\r\\n create %d çš„å·¦å­©å­:\",a); binarytree_create(\u0026((*Root)-\u003elchild)); printf(\"\\r\\n create %d çš„å³å­©å­:\",a); binarytree_create(\u0026((*Root)-\u003erchild)); } return ; } void binarytree_destory(Tree *root) { if (root == NULL) { return; } binarytree_destory(root-\u003elchild); binarytree_destory(root-\u003erchild); free(root); } /*å…ˆåºéå†:æ ¹ç»“ç‚¹--ã€‹å·¦å­æ ‘---ã€‹å³å­æ ‘*/ void binarytree_preorder(Tree *root) { if (root == NULL) { return; } printf(\" %d \",root-\u003edata); binarytree_preorder(root-\u003elchild); binarytree_preorder(root-\u003erchild); return; } /*ä¸­åºéå†:å·¦å­æ ‘--ã€‹è·ŸèŠ‚ç‚¹---ã€‹å³å­æ ‘*/ void binarytree_inorder(Tree *root) { if (root == NULL) { return; } binarytree_inorder(root-\u003elchild); printf(\" %d \",root-\u003edata); binarytree_inorder(root-\u003erchild); return; } /*ååºéå†:å·¦å­æ ‘---ã€‹å³å­æ ‘-ã€‹æ ¹èŠ‚ç‚¹*/ void binarytree_postorder(Tree *root) { if (root == NULL) { return; } binarytree_postorder(root-\u003elchild); binarytree_postorder(root-\u003erchild); printf(\" %d \",root-\u003edata); return; } void binarytree_levelorder(Tree * root) { list_queue *queue = NULL; Tnode * node = NULL; if(root == NULL) { return; } queue = list_queue_create(); /*æ ¹èŠ‚ç‚¹å…ˆå…¥é˜Ÿ*/ list_queue_enqueue(queue,(void *)root); while(!list_queue_is_empty(queue)) { list_queue_dequeue(queue,(void *)\u0026node); printf(\" %d \",node-\u003edata); if(node-\u003elchild != NULL) { list_queue_enqueue(queue,(void *)node-\u003elchild); } if(node-\u003erchild != NULL) { list_queue_enqueue(queue,(void *)node-\u003erchild); } } free(queue); } /*æ‰“å°å¶å­èŠ‚ç‚¹*/ void binarytree_printfleaf(Tree *root) { if (root == NULL) { return; } if ((root-\u003elchild == NULL) \u0026\u0026 (root-\u003erchild == NULL)) { printf(\" %d \",root-\u003edata); } else { binarytree_printfleaf(root-\u003elchild); binarytree_printfleaf(root-\u003erchild); } } /*æ‰“å°å¶å­çš„ä¸ªæ•°*/ int binarytree_getleafnum(Tree*root) { if (root == NULL) { return 0; } if ((root-\u003elchild == NULL) \u0026\u0026 (root-\u003erchild == NULL)) { return 1; } return binarytree_getleafnum(root-\u003elchild) + binarytree_getleafnum(root-\u003erchild); } /*æ‰“å°æ•°çš„é«˜åº¦*/ int binarytree_gethigh(Tree *root) { int lhigh = 0; int rhigh = 0; if (root == NULL) { return 0; } lhigh = binarytree_gethigh(root-\u003elchild); rhigh = binarytree_gethigh(root-\u003erchild); return ((lhigh \u003e rhigh)?(lhigh + 1):(rhigh + 1)); } int main() { Tree *root = NULL; setenv(\"MALLOC_TRACE\",\"1.txt\",1); mtrace(); printf(\"\\r\\nåˆ›å»ºäºŒå‰æ ‘:\"); binarytree_create(\u0026root); printf(\"\\r\\nå…ˆåºéå†äºŒå‰æ ‘:\"); binarytree_preorder(root); printf(\"\\r\\nä¸­åºéå†äºŒå‰æ ‘:\"); binarytree_inorder(root); printf(\"\\r\\nååºéå†äºŒå‰æ ‘:\"); binarytree_postorder(root); printf(\"\\r\\nå±‚æ¬¡éå†äºŒå‰æ ‘:\"); binarytree_levelorder(root); printf(\"\\r\\næ‰“å°äºŒå‰æ ‘å¶å­èŠ‚ç‚¹:\"); binarytree_printfleaf(root); printf(\"\\r\\næ‰“å°äºŒå‰æ ‘å¶å­èŠ‚ç‚¹ä¸ªæ•°:%d\",binarytree_getleafnum(root)); printf(\"\\r\\næ‰“å°äºŒå‰æ ‘é«˜åº¦:%d\",binarytree_gethigh(root)); binarytree_destory(root); muntrace(); return 0; } binarytree #include #include #include #include #include /* Implement binary tree in array */ #define MAX_TREE_NODES (1 \u003c\u003c 8) struct node { int data; }; struct binary_tree { union { unsigned long nodes; struct node *n[MAX_TREE_NODES]; }; }; void init_binary_tree(struct binary_tree *tree) { int i; for(i = 0; i \u003c MAX_TREE_NODES; i++) { tree-\u003en[i] = NULL; } } struct node* create_node(int data) { struct node* n; n = malloc(sizeof(struct node)); if (n) n-\u003edata = data; return n; } void fake_a_tree(struct binary_tree* tree) { /* data is in ordered */ int i, data[10] = {7, 4, 9, 2, 6, 8, 10, 1, 3, 5}; init_binary_tree(tree); /* root start at 1 */ for (i = 0; i \u003c 10; i++) tree-\u003en[i+1] = create_node(data[i]); tree-\u003enodes = 10; } void _in_order(struct binary_tree* tree, int index) { if (!tree-\u003en[index]) return; /* left child at (index \u003c\u003c 1) */ _in_order(tree, index \u003c\u003c 1); printf(\"[%2d]: %4d\\n\", index, tree-\u003en[index]-\u003edata); /* right child at (index \u003c\u003c 1) + 1 */ _in_order(tree, (index \u003c\u003c 1) + 1); } void in_order(struct binary_tree* tree) { _in_order(tree, 1); } int main() { struct binary_tree tree; fake_a_tree(\u0026tree); in_order(\u0026tree); return 0; } äºŒå‰æ ‘æ€§è´¨:\näºŒå‰æ ‘ä¸­,ç¬¬iå±‚æœ€å¤šæœ‰ 2^(i-1)ä¸ªèŠ‚ç‚¹ å¦‚æœäºŒå‰æ ‘çš„æ·±åº¦ä¸ºK,åˆ™äºŒå‰æ ‘æœ€å¤šæœ‰2^K - 1ä¸ªèŠ‚ç‚¹ äºŒå‰æ ‘ä¸­ï¼Œç»ˆç«¯ç»“ç‚¹æ ‘(å¶å­èŠ‚ç‚¹æ ‘)ä¸ºn0ï¼Œåº¦ä¸º2çš„èŠ‚ç‚¹æ ‘ä¸ºn1ï¼Œåˆ™ n0=n1+1 æ»¡äºŒå‰æ ‘ å¦‚æœäºŒå‰æ ‘ä¸­é™¤äº†å¶å­èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„åº¦éƒ½ä¸º2ï¼Œåˆ™æ­¤äºŒå‰æ ‘ä¸ºæ»¡äºŒå‰æ ‘ã€‚\nå®Œå…¨äºŒå‰æ ‘ å¦‚æœäºŒå‰æ ‘ä¸­é™¤å»æœ€åä¸€å±‚èŠ‚ç‚¹ä¸ºæ»¡äºŒå‰æ ‘ï¼Œä¸”æœ€åä¸€å±‚çš„ç»“ç‚¹ä¾æ¬¡ä»å·¦åˆ°å³åˆ†å¸ƒï¼Œåˆ™æ­¤äºŒå‰æ ‘è¢«ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚\næ ‘çš„å‘¨æ¸¸ç®—æ³•åŒ…å«å…ˆåºéå†ã€ä¸­åºéå†ã€ååºéå†å’Œå±‚åºéå†ã€‚\nå…ˆåºéå†ï¼šå…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œç„¶åå·¦å­æ ‘ï¼Œæœ€åå³å­ç»“ç‚¹ã€‚æ·±åº¦ä¼˜å…ˆæ€æƒ³ã€‚ // é€’å½’ void traversal(TreeNode* cur) { if (cur == NULL) return; printf(\"cur-\u003eval = %d\\n\", cur-\u003eval); // ä¸­ traversal(cur-\u003eleft, vec); // å·¦ traversal(cur-\u003eright, vec); // å³ } void preorderTraversal(TreeNode* root) { traversal(root); } // è¿­æˆˆ #define MAXSIZE 10000 int* preorderTraversal(TreeNode* root) { struct TreeNode st[MAXSIZE]; int top = 0; int result[MAXSIZE]; if (root == NULL) return result; st[top] = root; int i = 0; while (top \u003e= 0) { TreeNode* node = st[top]; // ä¸­ top--; result[i++] = node-\u003eval; if (node-\u003eright) { // å³ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰ st[++top] = node-\u003eright } if (node-\u003eleft) { // å·¦ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰ st[++top] = node-\u003eleft; } } return result; } ä¸­åºéå†ï¼šå…ˆè®¿é—®å·¦å­ç»“ç‚¹ï¼Œç„¶åæ ¹ç»“ç‚¹ï¼Œæœ€åå³å­ç»“ç‚¹ã€‚ ååºéå†ï¼šå…ˆè®¿é—®å·¦å­ç»“ç‚¹ï¼Œç„¶åå³å­ç»“ç‚¹ï¼Œæœ€åæ ¹ç»“ç‚¹ã€‚ å±‚åºéå†ï¼šå…ˆè®¿é—®æ ‘çš„æ ¹ç»“ç‚¹ï¼Œç„¶åä¾æ¬¡å‘ä¸‹å±‚å¤„ç†ï¼ŒæŒ‰ç…§ä»å·¦å‘å³çš„é¡ºåºè®¿é—®æ¯å±‚ç»“ç‚¹ã€‚å¹¿åº¦ä¼˜å…ˆçš„ç­–ç•¥ã€‚ void traversal(TreeNode* cur) { if (cur == NULL) return; printf(\"cur-\u003eval = %d\\n\", cur-\u003eval); // ä¸­ traversal(cur-\u003eleft, vec); // å·¦ traversal(cur-\u003eright, vec); // å³ } vector\u003cint\u003e preorderTraversal(TreeNode* root) { vector\u003cint\u003e result; traversal(root, result); return result; } 2.3.4 äºŒå‰æŸ¥æ‰¾æ ‘(BST) äºŒå‰æŸ¥æ‰¾æ ‘ä¹Ÿç§°äºŒå‰æœç´¢æ ‘,æœ‰åºäºŒå‰æ ‘æˆ–æ’åºäºŒå‰æ ‘,å…·æœ‰æ€§è´¨:\nè‹¥ä»»æ„èŠ‚ç‚¹å·¦å­æ ‘ä¸ä¸ºç©º,åˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ è‹¥ä»»æ„èŠ‚ç‚¹çš„å³å­æ ‘ä¸ä¸ºç©º,åˆ™å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ ä»»æ„èŠ‚ç‚¹çš„å·¦,å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ æ²¡æœ‰é”®å€¼ç›¸ç­‰çš„èŠ‚ç‚¹ ä¸€é¢—äºŒå‰æœç´¢æ ‘è¦æ’å…¥ä¸€ä¸ªç»“ç‚¹ï¼Œè¦ä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚å¾€ä¸‹ï¼Œé€‚å½“åœ°ç§»åŠ¨å·¦æˆ–å³å­ç»“ç‚¹ä¸Šï¼Œå½“åˆ°è¾¾æ ‘çš„åˆ†æ”¯å°½å¤´æ—¶ï¼Œæ‰§è¡Œæ’å…¥æ“ä½œã€‚ äºŒå‰æœç´¢æ ‘æ˜¯ä¸€ç§ç”¨äºæŸ¥æ‰¾æ“ä½œçš„é«˜æ•ˆæ•°æ®ç»“æ„ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œåªéœ€æŸ¥æ‰¾ä¸€ä¸ªåˆ†æ”¯ä¸Šçš„æ•°æ®å³å¯ã€‚æŸ¥æ‰¾,æ’å…¥æ“ä½œçš„å¤æ‚åº¦æ˜¯ O(logn)ï¼Œæœç´¢,æ’å…¥,åˆ é™¤å¤æ‚åº¦ç­‰äºæ ‘é«˜,æœŸæœ›O(logn),æœ€åä¸ºO(n),(æ ‘é€€åŒ–ä¸ºçº¿æ€§è¡¨)nä¸ºæ ‘ä¸­ç»“ç‚¹æ•°ã€‚ ä¿æŒä¸€æ£µæ ‘çš„å¹³è¡¡æ˜¯æŒ‡å¯¹äºç»™å®šæ•°é‡çš„ç»“ç‚¹ï¼Œè¦ä½¿å¾—æ ‘çš„é«˜åº¦å°½å¯èƒ½çŸ­ã€‚\näºŒå‰æŸ¥æ‰¾æ ‘æ˜¯ç”±äºŒå‰æ ‘ç»„æˆçš„ä¸“ç”¨äºæŸ¥æ‰¾å’Œæœç´¢ç›®çš„çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚äºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾ä¸€ä¸ªç»“ç‚¹ï¼Œä»æ ¹ç»“ç‚¹å¼€å§‹ä¸€å±‚ä¸€å±‚å‘ä¸‹æŸ¥æ‰¾ï¼Œå½“é‡åˆ°ä¸€ä¸ªæ¯”ç›®æ ‡ç»“ç‚¹å€¼å¤§çš„ç»“ç‚¹æ—¶ï¼Œé¡ºç€è¯¥ç»“ç‚¹å·¦å­æ ‘ç»§ç»­æŸ¥æ‰¾ï¼Œå¦‚æœé‡åˆ°çš„ç»“ç‚¹å€¼å°äºç›®æ ‡ç»“ç‚¹ï¼Œåˆ™é¡ºç€è¯¥ç»“ç‚¹çš„å³å­æ ‘æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡ç»“ç‚¹ä¸ºæ­¢ã€‚\næŸ¥æ‰¾ç®—æ³• 1.è‹¥bæ˜¯ç©ºæ ‘,åˆ™æœç´¢å¤±è´¥,å¦åˆ™; 2.è‹¥xç­‰äºbçš„æ ¹èŠ‚ç‚¹çš„æ•°æ®åŸŸä¹‹å€¼,åˆ™æŸ¥æ‰¾æˆåŠŸ; 3.è‹¥xå°äºbçš„æ ¹èŠ‚ç‚¹çš„æ•°æ®åŸŸä¹‹å€¼,åˆ™æœç´¢å·¦å­æ ‘ 4.æŸ¥æ‰¾å³å­æ ‘\næ’å…¥ç®—æ³• 1.è‹¥bæ˜¯ç©ºæ ‘,åˆ™å°†sæ‰€æŒ‡èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹æ’å…¥;å¦åˆ™ 2.è‹¥s-\u003edataç­‰äºbçš„æ ¹èŠ‚ç‚¹çš„æ•°æ®åŸŸå€¼,åˆ™è¿”å›,å¦åˆ™; 3.è‹¥s-\u003edataå°äºbçš„æ ¹èŠ‚ç‚¹çš„æ•°æ®åŸŸä¹‹å€¼,åˆ™æŠŠsæ‰€å€¼èŠ‚ç‚¹æ’å…¥åˆ°å·¦å­æ ‘ä¸­,å¦åˆ™ 4.æŠŠsæ‰€æŒ‡èŠ‚ç‚¹æ’å…¥åˆ°å³å­æ ‘ä¸­,(æ–°æ’å…¥èŠ‚ç‚¹æ€»æ˜¯å¶å­èŠ‚ç‚¹)\nåˆ é™¤ç®—æ³• 1.è‹¥*pèŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹,å³PL(å·¦å­æ ‘)å’ŒPR(å³å­æ ‘)å‡ä¸ºç©ºæ ‘.ç”±äºåˆ å»å¶å­èŠ‚ç‚¹ä¸ç ´åæ•´æ£µæ ‘çš„ç»“æ„,åˆ™åªéœ€ä¿®æ”¹å…¶åŒäº²èŠ‚ç‚¹çš„æŒ‡é’ˆå³å¯.\nbinarysearch #include #include #include #define OK 1 #define ERROR 0 #define TRUE 1 #define FALSE 0 typedef int Status; typedef char ElemType; typedef struct node { ElemType data; struct node *lchild, *rchild; } BTree, *BTreePtr; /**************** æ’å…¥ **********************/ Status Insert(BTreePtr *T, ElemType e) { BTreePtr p; if (*T == NULL) { *T = (BTreePtr)malloc(sizeof(BTree)); (*T)-\u003edata = e; return TRUE; } else { p = *T; while ( p != NULL) { if (e \u003e p-\u003edata) { if (p-\u003erchild == NULL) { p-\u003erchild = (BTreePtr) malloc (sizeof(BTree)); p-\u003erchild-\u003edata = e; return TRUE; } p = p-\u003erchild; } else { if (p-\u003elchild == NULL) { p-\u003elchild = (BTreePtr) malloc (sizeof(BTree)); p-\u003elchild-\u003edata = e; return TRUE; } p = p-\u003elchild; } } } return FALSE; } /**************** åˆ é™¤ **********************/ Status Delete(BTreePtr T, ElemType e) { BTreePtr p, pp, minP, minPP, child; child = NULL; p = T; pp = NULL; while ( (p != NULL) \u0026\u0026 (p-\u003edata != e) ) { pp = p; if (e \u003e p-\u003edata) { p = p-\u003erchild; } else { p = p-\u003elchild; } } if (p == NULL) return FALSE; //åŒèŠ‚ç‚¹ if ((p-\u003elchild != NULL) \u0026\u0026 (p-\u003erchild != NULL) { minPP = p; minP = p-\u003erchild; while (minP-\u003elchild != NULL) { minPP = minP; minP = minP-\u003elchild; } p-\u003edata = minP-\u003edata; minPP-\u003elchild = minP-\u003erchild; free(minP); return TRUE; } //æœ‰ä¸€ä¸ªèŠ‚ç‚¹ if ((p-\u003elchild != NULL) || (p-\u003erchild != NULL)) { //åº”è¯¥å°†åŸæœ‰çš„ppåŒchildè¿æ¥åœ¨ä¸€èµ· if (p-\u003elchild) { child = p-\u003elchild; } else { child = p-\u003erchild; } if(pp-\u003edata\u003ep-\u003edata) { pp-\u003elchild=child; } else { pp-\u003erchild=child; } free(p); return TRUE; } //æ²¡æœ‰èŠ‚ç‚¹ if (pp-\u003elchild == p) {//è¿™é‡Œé¢ä¸´ppé™¤pä»¥å¤–çš„èŠ‚ç‚¹ä¸ºnullçš„æƒ…å†µ pp-\u003elchild = child; } else { pp-\u003erchild = child; } return TRUE; } /**************** æŸ¥æ‰¾ **********************/ Status Find(BTreePtr T, ElemType e) { if (T == NULL) return FALSE; while ((T != NULL) \u0026\u0026 (T-\u003edata != e)) { if (e \u003e T-\u003edata) { T = T-\u003erchild; } else { T = T-\u003elchild; } } if (T) { return TRUE; } else { return FALSE; } } /**************** æœ€å¤§å€¼ **********************/ ElemType FindMax(BTreePtr T) { ElemType max; while(T != NULL) { max = T-\u003edata; T = T-\u003erchild; } return max; } /**************** æœ€å°å€¼ **********************/ ElemType FindMin(BTreePtr T) { ElemType min; while(T != NULL) { min = T-\u003edata; T = T-\u003elchild; } return min; } void PreOrderTraverse(BTreePtr T)//å‰åºéå†äºŒå‰æ ‘ { if (T == NULL) return; if(T) { printf(\"%d \",T-\u003edata); PreOrderTraverse(T-\u003elchild); PreOrderTraverse(T-\u003erchild); } } void DestroyTree(BTreePtr T) { if (T) { if (T-\u003elchild) { DestroyTree(T-\u003elchild); } if(T-\u003erchild) { DestroyTree(T-\u003erchild); } free(T); T = NULL; } } /***************** æ‰§è¡Œæµ‹è¯• *************************/ int main(int argc, char const *argv[]) { BTreePtr T; T = NULL; int a[] = {33, 16, 50, 13, 18, 34, 58, 15, 17, 25, 51, 66, 19, 27, 55}; int i; for (i = 0; i \u003c 15; i++) { Insert(\u0026T, a[i]); } printf(\"Max is %d\\n\", FindMax(T)); printf(\"Min is %d\\n\", FindMin(T)); Delete(T, 18); Delete(T, 13); PreOrderTraverse(T); DestroyTree(T); return 0; } bst #include #include #include #include #include enum child_dir { left_child, right_child, root, }; struct node { unsigned long data; struct node *left; struct node *right; }; struct root { struct node *r; }; void dump(struct node *node, int level, enum child_dir dir) { if (!node) return; dump(node-\u003eright, level + 1, right_child); if (dir == left_child) printf(\"%*s\\n\", level*3, \"|\"); printf(\"%*s - %05lu\\n\", level*3, \" \", node-\u003edata); if (dir == right_child) printf(\"%*s\\n\", level*3, \"|\"); dump(node-\u003eleft, level + 1, left_child); } struct node* find(struct root *root, unsigned long data) { struct node* n = root-\u003er; while (n) { if (n-\u003edata == data) return n; if (data \u003c n-\u003edata) n = n-\u003eleft; else n = n-\u003eright; } return NULL; } struct node* new_node(unsigned long data) { struct node *n; n = malloc(sizeof(struct node)); n-\u003edata = data; n-\u003eleft = n-\u003eright = NULL; return n; } void insert(struct root *root, struct node *new) { struct node *parent; if (!root-\u003er) { root-\u003er = new; return; } parent = root-\u003er; while (true) { /* Don't support duplicate data */ if (new-\u003edata == parent-\u003edata) break; if (new-\u003edata \u003c parent-\u003edata) { if (!parent-\u003eleft) { parent-\u003eleft = new; break; } parent = parent-\u003eleft; } else { if (!parent-\u003eright) { parent-\u003eright = new; break; } parent = parent-\u003eright; } } } struct node* delete(struct root *root, unsigned long data) { struct node *n = root-\u003er, **p = \u0026root-\u003er; struct node *child; while (n \u0026\u0026 n-\u003edata != data) { if (data \u003c n-\u003edata) { p = \u0026n-\u003eleft; n = n-\u003eleft; } else { p = \u0026n-\u003eright; n = n-\u003eright; } } if (!n) return NULL; if (n-\u003eleft \u0026\u0026 n-\u003eright) { struct node *rn = n-\u003eright, **rp = \u0026n-\u003eright; while (rn-\u003eleft) { rp = \u0026rn-\u003eleft; rn = rn-\u003eleft; } n-\u003edata = rn-\u003edata; n = rn; p = rp; } child = n-\u003eleft ? n-\u003eleft : n-\u003eright; *p = child; return NULL; } void insert_test() { struct root tree; struct node* n; tree.r = NULL; insert(\u0026tree, new_node(9)); insert(\u0026tree, new_node(5)); insert(\u0026tree, new_node(2)); insert(\u0026tree, new_node(8)); insert(\u0026tree, new_node(18)); insert(\u0026tree, new_node(13)); insert(\u0026tree, new_node(21)); insert(\u0026tree, new_node(20)); dump(tree.r, 0, root); n = find(\u0026tree, 18); if (n \u0026\u0026 n-\u003edata == 18) printf(\"Get 18\\n\"); } void delete_test() { struct root tree; struct node* n; tree.r = NULL; insert(\u0026tree, new_node(9)); insert(\u0026tree, new_node(5)); insert(\u0026tree, new_node(2)); insert(\u0026tree, new_node(8)); insert(\u0026tree, new_node(18)); insert(\u0026tree, new_node(13)); insert(\u0026tree, new_node(21)); insert(\u0026tree, new_node(20)); dump(tree.r, 0, root); delete(\u0026tree, 20); printf(\"Delete 20\\n\"); dump(tree.r, 0, root); delete(\u0026tree, 9); printf(\"Delete 9\\n\"); dump(tree.r, 0, root); } int main() { //insert_test(); delete_test(); return 0; } 2.3.5 å¹³è¡¡æ ‘ å¹³è¡¡æ ‘æ˜¯ä¸€ç±»æ”¹è¿›çš„äºŒå‰æŸ¥æ‰¾æ ‘,ä¸€èˆ¬äºŒå‰æŸ¥æ‰¾æ ‘çš„æŸ¥è¯¢å¤æ‚åº¦ä¸ç›®æ ‡èŠ‚ç‚¹åˆ°æ ‘æ ¹çš„è·ç¦»(æ·±åº¦)æœ‰å…³,å› æ­¤å½“æ·±åº¦è¾ƒå¤§æ—¶,æŸ¥è¯¢å‡æ‘Šå¤æ‚åº¦ä¼šä¸Šå‡. å¹³è¡¡æŒ‡æ‰€æœ‰å¶å­çš„æ·±åº¦è¶‹äºå¹³è¡¡,æ›´å¹¿ä¹‰æŒ‡æ ‘ä¸Šæ‰€æœ‰å¯èƒ½æŸ¥æ‰¾çš„å‡æ‘Šå¤æ‚åº¦åä½.å¹³è¡¡æ ‘çš„æ“ä½œæ—¶åŸºäºæ ‘æ—‹è½¬æ“ä½œ,é€šè¿‡æ—‹è½¬å¯ä½¿æ ‘è¶‹äºå¹³è¡¡. å¯¹ä¸€é¢—æŸ¥æ‰¾æ ‘è¿›è¡ŒæŸ¥è¯¢,æ–°å¢,åˆ é™¤ç­‰æ“ä½œ,æ‰€èŠ±çš„æ—¶é—´ä¸æ ‘çš„é«˜åº¦hæˆæ¯”ä¾‹,å¹¶ä¸ä¸æ ‘çš„å®¹é‡næˆæ¯”ä¾‹.\nAVLæ ‘ åœ¨AVLæ ‘ä¸­,ä»»ä¸€èŠ‚ç‚¹å¯¹äºçš„ä¸¤é¢—å­æ ‘çš„æœ€å¤§é«˜åº¦å·®ä¸º1,å› æ­¤ä¹Ÿç§°ä¸ºé«˜åº¦å¹³è¡¡æ ‘.æŸ¥æ‰¾,æ’å…¥å’Œåˆ é™¤çš„å¹³å‡å’Œæœ€åæ—¶é—´å¤æ‚åº¦æ˜¯O(logn),å¢åŠ å’Œåˆ é™¤å…ƒç´ çš„æ“ä½œåˆ™å¯èƒ½éœ€è¦å€Ÿç”±ä¸€å±‚æˆ–å¤šæ¬¡æ—‹è½¬,ä»¥å®ç°æ ‘çš„é‡æ–°å¹³è¡¡. é«˜åº¦ä¸ºhçš„AVLæ ‘,æ€»èŠ‚ç‚¹æ•°æœ€å¤šä¸º2^h-1; å½“å‰èŠ‚ç‚¹æ•°ä¸ºNæ—¶,é«˜åº¦hæœ€å¤šä¸º:\nlog(5*0.5 * (N + 1)) - 2\nçº¢é»‘æ ‘ çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘,å…¸å‹çš„ç”¨é€”æ˜¯å®ç°å…³è”æ•°ç»„.çº¢é»‘æ ‘å®ç°å¤åˆ¶,æŸ¥æ‰¾,æ’å…¥å’Œåˆ é™¤æ—¶é—´å¤æ‚åº¦ä¸ºO(logn) çº¢é»‘æ ‘ç›¸å¯¹äºAVLæ ‘,ç‰ºç‰²äº†éƒ¨åˆ†å¹³è¡¡æ€§ä»¥æ¢å–æ’å…¥\\åˆ é™¤æ“ä½œæ—¶å°‘é‡çš„æ—‹è½¬æ“ä½œ,æ•´ä½“æ€§èƒ½ä¼˜äºAVLæ ‘.\nçº¢é»‘æ ‘ä¸AVLæ ‘çš„ç›¸æ¯”: AVLæ ‘åœ¨æ’å…¥,åˆ é™¤èŠ‚ç‚¹æ—¶è¦æŠŠæ ‘è°ƒæ•´åˆ°å®Œå…¨å¹³è¡¡,çº¢é»‘æ ‘åªè¦è°ƒæ•´åˆ°å¤§è‡´å¹³è¡¡,å› æ­¤é€šå¸¸çº¢é»‘æ ‘çš„æ’å…¥,åˆ é™¤èŠ‚ç‚¹æ€§èƒ½ç¨å¥½. AVLçš„æŸ¥æ‰¾æ€§èƒ½é€šå¸¸æ¯”çº¢é»‘æ ‘å¥½ å¦‚æœèŠ‚ç‚¹çš„å¢åˆ æ“ä½œè¿œå°äºæŸ¥æ‰¾æ“ä½œ,åˆ™åº”é€‰æ‹©AVL;åä¹‹,çº¢é»‘æ ‘å¯èƒ½æ›´å¥½.\nçº¢é»‘æ ‘æ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½å¸¦æœ‰é¢œè‰²å±æ€§çš„äºŒå‰æ ‘,é¢œè‰²ä¸ºçº¢è‰²æˆ–é»‘è‰².åœ¨äºŒå‰æŸ¥æ‰¾æ ‘å¼ºåˆ¶ä¸€èˆ¬è¦æ±‚ä»¥å¤–,å¯¹äºä»»ä½•æœ‰æ•ˆçš„çº¢é»‘æ ‘æˆ‘ä»¬æ€è®²äº†å¼±å°é¢å¤–è¦æ±‚: 1.èŠ‚ç‚¹æ˜¯çº¢æˆ–é»‘è‰² 2.æ ¹æ˜¯é»‘è‰² 3.æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²(å¶å­æ˜¯NILèŠ‚ç‚¹) 4.æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»å³ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹.(ä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½å³ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹.) 5.ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒè‹åé¢çš„é»‘è‰²èŠ‚ç‚¹. çº¢é»‘æ ‘å…³é”®ç‰¹æ€§:ä»æ ¹åˆ°å¶å­çš„æœ€é•¿çš„å¯èƒ½è·¯å¾„ä¸å¤šäºæœ€çŸ­çš„å¯èƒ½è·¯å¾„çš„ä¸¤å€é•¿.çº¢é»‘æ ‘æ˜¯å¤§è‡´å¹³è¡¡çš„.æ’å…¥,åˆ é™¤å’ŒæŸ¥æ‰¾æŸä¸ªå€¼æœ€åæƒ…å†µä¸‹ä¸æ ‘çš„é«˜åº¦æˆæ¯”ä¾‹.\nB+æ ‘ B+æ ‘é€šå¸¸ç”¨äºæ•°æ®åº“å’Œæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸­.B+æ ‘çš„ç‰¹ç‚¹æ˜¯èƒ½å¤Ÿä¿æŒæ•°æ®ç¨³å®šæœ‰åº,å…¶æ’å…¥ä¸ä¿®æ”¹æ‹¥æœ‰è¾ƒæ–‡æ¡£çš„å¯¹æ•°æ—¶é—´å¤æ‚åº¦.B+æ ‘å…ƒç´ è‡ªåº•å‘ä¸Šæ’å…¥,ä¸äºŒå‰æ ‘ç›¸å. B+æ ‘æ˜¯å†…éƒ¨èŠ‚ç‚¹å¯å³åœ¨é¢„å®šèŒƒå›´å†…çš„å¯å˜é‡ç›®çš„å­èŠ‚ç‚¹.å› æ­¤,B+æ ‘ä¸éœ€è¦åƒå…¶ä»–è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘é‚£æ ·é‡æ–°å¹³è¡¡.\nå­—å…¸æ ‘ Trie #include #include #include #define OK 1 #define ERROR 0 #define TRUE 1 #define FALSE 0 typedef int Status; typedef struct Node { char data; struct Node *children[26]; Status end; } Trie, *TriePtr; void Init(TriePtr *T) { (*T) = (TriePtr)malloc(sizeof(Trie)); (*T)-\u003edata = '/'; (*T)-\u003eend = FALSE; } void Insert(TriePtr T, char *str) { int index; char c; while(c = *str++) { index = c - 'a'; if (T-\u003echildren[index] == NULL) { TriePtr Node; Node = (TriePtr)malloc(sizeof(Trie)); Node-\u003edata = c; Node-\u003eend = FALSE; T-\u003echildren[index] = Node; } T = T-\u003echildren[index]; } T-\u003eend = TRUE; } Status Search(TriePtr T, char *str) { int index; char c; while(c = *str++) { index = c - 'a'; if (T-\u003echildren[index] == NULL) { return FALSE; } T = T-\u003echildren[index]; } if (T-\u003eend) { return TRUE; } else { return FALSE; } } int main(int argc, char const *argv[]) { TriePtr T; Init(\u0026T); char *str = \"hello\"; char *str2 = \"hi\"; Insert(T, str); printf(\"str is search %d\\n\", Search(T, str)); printf(\"str2 is search %d\\n\", Search(T, str2)); return 0; } 2.3.6 å †æ ‘å’Œä¼˜å…ˆé˜Ÿåˆ— å †(heap)ä¹Ÿç§°ä¸ºä¼˜å…ˆé˜Ÿåˆ—,å †éµå®ˆé˜Ÿåˆ—æ“ä½œæ¨¡å¼,åœ¨å †åº•æ’å…¥å…ƒç´ ,åœ¨å †é¡¶å–å‡ºå…ƒç´ ,ä½†å †ä¸­å…ƒç´ çš„æ’åˆ—ä¸æ˜¯æŒ‰ç…§åˆ°æ¥çš„å…ˆåé¡ºåº,è€Œæ˜¯æŒ‰ç…§ä¸€å®šçš„æœ‰åºé¡ºåºæ’åˆ—çš„. å †çš„æœ¬è´¨æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘,å¯ä½¿ç”¨äºŒå‰æ ‘è¡¨ç¤ºå †,ä¹Ÿå¯ä½¿ç”¨æ•°ç»„æ¥è¡¨ç¤º. å †çš„ç‰¹æ€§: å¿…é¡»æ˜¯å®Œå…¨äºŒå‰æ ‘ ç”¨æ•°ç»„å®ç° ä»»ä¸€èŠ‚ç‚¹çš„å€¼æ˜¯å…¶å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼ æœ€å¤§å€¼æ—¶,ç§°ä¸ºæœ€å¤§å †,ä¹Ÿç§°å¤§é¡¶å † æœ€å°æ—¶,ç§°ä¸ºæœ€å°å †,ä¹Ÿç§°å°é¡¶å †. å †ä¸èƒ½ä¿è¯æ•´æ£µæ ‘éƒ½æ˜¯æœ‰åºçš„,å †ä¸­çš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶æ—¶é—´å¤æ‚åº¦ä¸ºO(log2n)\nå †æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œé€šå¸¸å…¶å­ç»“ç‚¹å­˜å‚¨çš„å€¼æ¯”çˆ¶ç»“ç‚¹çš„å€¼å°ï¼Œæ‰€ä»¥ï¼Œæ ¹ç»“ç‚¹ä¸ºæ ‘ä¸­æœ€å¤§çš„ç»“ç‚¹(å¤§é¡¶å †)ã€‚åŒæ ·ï¼Œæ ¹ç»“ç‚¹ä¹Ÿå¯ä»¥æ˜¯æ ‘ä¸­æœ€å°çš„ç»“ç‚¹(å°é¡¶å †)ã€‚èƒ½å¤Ÿå¿«é€Ÿç¡®å®šåŒ…å«æœ€å¤§(å°)å€¼çš„ç‰¹ç‚¹ã€‚ å †æ—¶å·¦å¹³è¡¡çš„æ ‘ï¼Œéšç€ç»“ç‚¹å¢åŠ ï¼Œæ ‘ä¼šé€çº§ä»å·¦è‡³å³å¢é•¿ã€‚ä¸€ä¸ªè¾ƒå¥½åœ°è¡¨ç¤ºå·¦å¹³è¡¡äºŒå‰æ ‘çš„æ–¹å¼æ˜¯ï¼Œå°†ç»“ç‚¹é€šè¿‡å±‚åºéå†æ–¹å¼è¿ç»­å­˜å‚¨åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚\ntypedef struct Heap_ { int size; int (*compare)(const void *key1, const void *key2); void (*destroy)(void *data); void **tree; } heap #include #include #include #include #include /* Implement heap */ #define MAX_HEAP_SIZE (1 \u003c\u003c 8) struct element { int data; }; struct heap { union { unsigned long elements; struct element *elem[MAX_HEAP_SIZE]; }; }; void init_heap(struct heap *heap) { int i; for(i = 0; i \u003c MAX_HEAP_SIZE; i++) { heap-\u003eelem[i] = NULL; } } void dump_heap(struct heap *heap, int index) { struct element *elem; int level; if (index \u003e heap-\u003eelements) return; elem = heap-\u003eelem[index]; level = fls(index); dump_heap(heap, index * 2 + 1); if (!(index % 2) \u0026\u0026 index != 1) printf(\"%*s\\n\", level*3, \"|\"); printf(\"%*s - %05d\\n\", level*3, \" \", elem-\u003edata); if (index % 2 \u0026\u0026 index != 1) printf(\"%*s\\n\", level*3, \"|\"); dump_heap(heap, index * 2); } void dump(struct heap *heap, int elements) { int i; for (i = 1; i \u003c= elements; i++) printf(\"[%02d]: %4d\\n\", i, heap-\u003eelem[i]-\u003edata); } struct element* create_element(int data) { struct element *elem; elem = malloc(sizeof(struct element)); if (elem) elem-\u003edata = data; return elem; } void fake_a_heap(struct heap *heap) { /* data is in ordered */ int i, data[10] = {7, 4, 9, 2, 6, 8, 10, 1, 3, 5}; init_heap(heap); /* root start at 1 */ for (i = 0; i \u003c 10; i++) heap-\u003eelem[i+1] = create_element(data[i]); heap-\u003eelements = 10; } void swap(struct heap *heap, int i, int j) { struct element *tmp; tmp = heap-\u003eelem[j]; heap-\u003eelem[j] = heap-\u003eelem[i]; heap-\u003eelem[i] = tmp; } void heapify(struct heap *heap, int parent) { struct element **elem = heap-\u003eelem; int elements = heap-\u003eelements; int left, right, max; while (true) { left = parent * 2; right = left + 1; max = parent; if (left \u003c= elements \u0026\u0026 elem[max]-\u003edata \u003c elem[left]-\u003edata) max = left; if (right \u003c= elements \u0026\u0026 elem[max]-\u003edata \u003c elem[right]-\u003edata) max = right; if (max == parent) break; swap(heap, max, parent); parent = max; } } void build_heap(struct heap *heap) { int i; for (i = heap-\u003eelements / 2; i \u003e= 1; i--) heapify(heap, i); } int heap_sort(struct heap *heap) { int elements = heap-\u003eelements; while (heap-\u003eelements) { swap(heap, 1, heap-\u003eelements); heap-\u003eelements--; heapify(heap, 1); } return elements; } int main() { struct heap heap; int elements; fake_a_heap(\u0026heap); dump_heap(\u0026heap, 1); printf(\"After Heapify:\\n\"); build_heap(\u0026heap); dump_heap(\u0026heap, 1); printf(\"After Heap sort:\\n\"); elements = heap_sort(\u0026heap); dump(\u0026heap, elements); return 0; } å †æ’åºï¼Œè¦æ’åºçš„æ•°æ®é¦–å…ˆå­˜å‚¨åœ¨ä¸€ä¸ªå †ä¸­ã€‚ä»å †ä¸­ä¸€æ¬¡å–å‡ºä¸€ä¸ªç»“ç‚¹ã€‚æ”¾ç½®åˆ°æœ‰åºæ•°æ®é›†çš„å°¾éƒ¨ã€‚å½“å–å‡ºæ¯ä¸ªç»“ç‚¹æ—¶ï¼Œå®ƒçš„ä¸‹ä¸€ä¸ªç»“ç‚¹å°±ä¼šæµ®ç°åˆ°å †çš„é¡¶éƒ¨ã€‚\nä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä»å †è¡ç”Ÿçš„æ•°æ®ç»“æ„ã€‚åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œæ•°æ®ä¿å­˜åœ¨ä¸€ä¸ªå †ä¸­ï¼Œå¯å¿«é€Ÿç¡®å®šä¸‹ä¸€ä¸ªæœ€é«˜ä¼˜å…ˆçº§çš„ç»“ç‚¹ã€‚\nä¼˜å…ˆé˜Ÿåˆ—å°†æ•°æ®æŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºæ’åˆ—ã€‚ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ç”±è®¸å¤šæœ‰åºå…ƒç´ æ„æˆï¼Œæ‰€ä»¥ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ å¯ä»¥æœ‰æ•ˆè€Œå¿«é€Ÿçš„ç¡®å®šã€‚\ntypedef Heap PQueue; 2.3.7 leetcodeé¢˜ç›® å…ˆåºéå†æ„é€ äºŒå‰æ ‘ ä»ä¸­åºä¸ååºéå†æ„é€ äºŒå‰æ ‘ äºŒå‰æ ‘çš„å±‚æ¬¡éå† ä»äºŒå‰æœç´¢æ ‘åˆ°æ›´å¤§å’Œæ ‘ äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ å‰Kä¸ªé«˜é¢‘å•è¯\u003cå †\u003e 2.4 å›¾ å›¾(Graph)æ˜¯ç”±é¡¶ç‚¹çš„æœ‰ç©·éç©ºé›†åˆå’Œé¡¶ç‚¹ä¹‹é—´çš„è¾¹çš„é›†åˆç»„æˆ,é€šå¸¸è¡¨ç¤ºä¸º:G(V,E).å…¶ä¸­,Gè¡¨ç¤ºä¸€ä¸ªå›¾,Væ˜¯å…¥Gä¸­é¡¶ç‚¹çš„é›†åˆ,Eæ˜¯å›¾Gä¸­çš„é›†åˆ.\nå›¾æ˜¯ä¸€ç§çµæ´»çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥å®šä¹‰å¯¹è±¡ä¹‹é—´å…³è”æˆ–è”ç³»çš„æ¨¡å‹ã€‚å¯¹è±¡ç”±é¡¶ç‚¹è¡¨ç¤ºï¼Œè€Œå¯¹è±¡ç›´æ¥çš„å…³ç³»æˆ–å…³è”åˆ™é€šè¿‡é¡¶ç‚¹ä¹‹é—´çš„è¾¹æ¥è¡¨ç¤ºã€‚ å›¾çš„è®¿é—®æ–¹å¼ï¼šå¹¿åº¦ä¼˜å…ˆå’Œæ·±åº¦ä¼˜å…ˆã€‚\n2.4.1 åŸºç¡€çŸ¥è¯† å›¾ç”±ä¸¤ç§ç±»å‹çš„å…ƒç´ ç»„æˆï¼šé¡¶ç‚¹å’Œè¾¹ï¼Œé¡¶ç‚¹ä»£è¡¨å¯¹è±¡ï¼Œè¾¹åˆ™å»ºç«‹èµ·å¯¹è±¡ä¹‹é—´çš„å…³ç³»æˆ–å…³è”ã€‚å›¾çš„è¾¹å¯å…³è”å€¼æˆ–æƒé‡ä¿¡æ¯ã€‚\nä¸€ç»„é¡¶ç‚¹ï¼šç”¨V(vertex)è¡¨ç¤ºé¡¶ç‚¹é›†åˆ ä¸€ç»„è¾¹ï¼šç”¨E(edge)è¡¨ç¤ºè¾¹çš„é›†åˆ å›¾åˆ†ä¸ºæœ‰å‘å›¾å’Œæ— å‘å›¾ã€‚æœ‰å‘å›¾ï¼Œè¾¹æ˜¯ç”±ä¸¤ä¸ªé¡¶ç‚¹ç»„æˆçš„æœ‰åºå¯¹ï¼Œå…·æœ‰ç‰¹å®šçš„æ–¹å‘ã€‚è¾¹ä¹Ÿå¯ç§°ä¸ºå¼§ã€‚æ— å‘å›¾ä¸­ï¼Œè¾¹æ˜¯æ²¡æœ‰æ–¹å‘çš„ã€‚ (v, w)è¡¨ç¤ºæ— å‘è¾¹ï¼Œå³vå’Œwæ˜¯äº’é€šçš„ \u003c v, w \u003eè¡¨ç¤ºæœ‰å‘è¾¹ï¼Œè¯¥è¾¹å§‹äºvï¼Œç»ˆäºw å›¾å¯åˆ†ä¸ºè¿é€šå›¾å’Œéè¿é€šå›¾ è¿é€šå›¾ï¼šæ‰€æœ‰çš„ç‚¹éƒ½å³è·¯å¾„ç›¸è¿ éè¿é€šå›¾ï¼šå­˜åœ¨æŸä¸¤ä¸ªç‚¹æ²¡æœ‰è·¯å¾„ç›¸è¿ å¼ºè¿é€šå›¾ï¼š å›¾ä¸­çš„é¡¶ç‚¹åº¦\nåº¦ å…¥åº¦ å‡ºåº¦ 2.4.2 å›¾è¡¨ç¤º å›¾çš„è¡¨ç¤ºæ–¹æ³•æ˜¯G=(V, E)ï¼ŒVä»£è¡¨é¡¶ç‚¹çš„é›†åˆï¼Œè€ŒEå’ŒVä¹‹é—´æ˜¯äºŒå…ƒå…³ç³»ã€‚ å›¾ä¸­ç”±ä¸¤ä¸ªé‡è¦å…³ç³»é‚»æ¥(adjacency)å’Œå…³è”(incidence)ã€‚é‚»æ¥æ˜¯ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚å…³è”æ˜¯é¡¶ç‚¹å’Œè¾¹ä¹‹é—´çš„å…³ç³»ã€‚ é‚»æ¥çŸ©é˜µè¡¨ç¤º\né‚»æ¥é“¾è¡¨è¡¨ç¤º\ntypedef struct AdjList_ { void *vertex; Set adjacent; }AdjList; typedef struct Graph_ { int vcount; int ecount; int (*match)(const void *key1, const void *key2); List adjlists; } graph #include #include #include #include #include struct vertex; struct vertex_adjs { struct vertex *v; struct vertex_adjs *next; }; struct vertex { int data; struct vertex_adjs *adj; }; #define MAX_GRAPH_VERTEX (1 \u003c\u003c 8) struct graph { struct vertex *vxs[MAX_GRAPH_VERTEX]; }; void init_graph(struct graph *graph) { int i; for (i = 0; i \u003c MAX_GRAPH_VERTEX; i++) graph-\u003evxs[i] = NULL; } struct vertex *create_vertex(int data) { struct vertex *v; v = malloc(sizeof(struct vertex)); if (v) { v-\u003edata = data; v-\u003eadj = NULL; } return v; } struct vertex_adjs *create_vertex_adj(struct vertex *v) { struct vertex_adjs *v_adj; v_adj = malloc(sizeof(struct vertex_adjs)); if (!v_adj) return NULL; v_adj-\u003ev = v; v_adj-\u003enext = NULL; return v_adj; } void insert_adj(struct vertex *v, struct vertex *adj) { struct vertex_adjs **v_adj; v_adj = \u0026v-\u003eadj; while (*v_adj) v_adj = \u0026(*v_adj)-\u003enext; *v_adj = create_vertex_adj(adj); } void dump_raw(struct graph *graph) { int i; for (i = 0; i \u003c MAX_GRAPH_VERTEX; i++) { struct vertex *v = graph-\u003evxs[i]; struct vertex_adjs *adj; if (v == NULL) continue; printf(\"Vertex[%02d]: %8d -\u003e\", i, v-\u003edata); adj = v-\u003eadj; while (adj) { printf(\" %8d,\", adj-\u003ev-\u003edata); adj = adj-\u003enext; } printf(\"\\n\"); } } /* 1 ----- 2 ----- 3 | / | / | / | / | / | / | / | / | / | / 4 ----- 5 */ void fake_a_graph(struct graph *graph) { int i; init_graph(graph); for (i = 0; i \u003c 5; i++) graph-\u003evxs[i] = create_vertex(i+1); /* connect 1 -\u003e 2, 1 -\u003e 4 */ insert_adj(graph-\u003evxs[0], graph-\u003evxs[1]); insert_adj(graph-\u003evxs[0], graph-\u003evxs[3]); /* connect 2 -\u003e 1, 2 -\u003e 3, 2 -\u003e 5, 2 -\u003e 4 */ insert_adj(graph-\u003evxs[1], graph-\u003evxs[0]); insert_adj(graph-\u003evxs[1], graph-\u003evxs[2]); insert_adj(graph-\u003evxs[1], graph-\u003evxs[4]); insert_adj(graph-\u003evxs[1], graph-\u003evxs[3]); /* connect 3 -\u003e 2, 3 -\u003e 5 */ insert_adj(graph-\u003evxs[2], graph-\u003evxs[1]); insert_adj(graph-\u003evxs[2], graph-\u003evxs[4]); /* connect 4 -\u003e 1, 4 -\u003e 2, 4 -\u003e 5 */ insert_adj(graph-\u003evxs[3], graph-\u003evxs[0]); insert_adj(graph-\u003evxs[3], graph-\u003evxs[1]); insert_adj(graph-\u003evxs[3], graph-\u003evxs[4]); /* connect 5 -\u003e 4, 5 -\u003e 2, 5 -\u003e 3 */ insert_adj(graph-\u003evxs[4], graph-\u003evxs[3]); insert_adj(graph-\u003evxs[4], graph-\u003evxs[1]); insert_adj(graph-\u003evxs[4], graph-\u003evxs[3]); } int main() { struct graph g; fake_a_graph(\u0026g); dump_raw(\u0026g); return 0; } 2.4.3 å›¾éå† å›¾çš„æœç´¢æ–¹æ³•ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚ æ·±åº¦ä¼˜å…ˆéå†(DFS) æ€è·¯: ä»å›¾ä¸­æŸç‚¹vå‡ºå‘: 1.è®¿é—®é¡¶ç‚¹v 2.ä»vçš„æœªè¢«è®¿é—®çš„é‚»æ¥ç‚¹ä¸­é€‰å–ä¸€ä¸ªé¡¶ç‚¹w,ä»wå‡ºå‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†. 3.é‡å¤ä¸Šè¿°ä¸¤æ­¥,ç›´åˆ°å›¾ä¸­æ‰€æœ‰å’Œvæœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹éƒ½è¢«è®¿é—®. ä¼ªä»£ç :\n// void DFS(Vertex v) { vistied[v] = true; for (v çš„æ¯ä¸ªé‚»æ¥ç‚¹ w) { if (!visited[w]) { DFS(w); } } } dfs #include #include #include \"Graph.h\" #define MAX_NODES 1000 int visited[MAX_NODES]; // array to store visiting order // indexed by vertex 0..nV-1 bool dfsPathCheck(Graph g, int nV, Vertex v, Vertex dest) { Vertex w; for (w = 0; w \u003c nV; w++) if (adjacent(g, v, w) \u0026\u0026 visited[w] == -1) { visited[w] = v; if (w == dest) return true; else if (dfsPathCheck(g, nV, w, dest)) return true; } return false; } bool findPathDFS(Graph g, int nV, Vertex src, Vertex dest) { Vertex v; for (v = 0; v \u003c nV; v++) visited[v] = -1; visited[src] = src; return dfsPathCheck(g, nV, src, dest); } int main(void) { int V = 6; Graph g = newGraph(V); Edge e; e.v = 0; e.w = 1; insertEdge(g, e); e.v = 0; e.w = 4; insertEdge(g, e); e.v = 0; e.w = 5; insertEdge(g, e); e.v = 5; e.w = 4; insertEdge(g, e); e.v = 4; e.w = 2; insertEdge(g, e); e.v = 4; e.w = 3; insertEdge(g, e); e.v = 5; e.w = 3; insertEdge(g, e); e.v = 1; e.w = 2; insertEdge(g, e); e.v = 3; e.w = 2; insertEdge(g, e); int src = 0, dest = 5; if (findPathDFS(g, V, src, dest)) { Vertex v = dest; while (v != src) { printf(\"%d - \", v); v = visited[v]; } printf(\"%d\\n\", src); } return 0; } å¹¿åº¦ä¼˜å…ˆéå†(BFS) æ€è·¯: 1.é¡¶ç‚¹vå…¥é˜Ÿåˆ— 2.å½“é˜Ÿåˆ—éç©ºæ—¶åˆ™ç»§ç»­æ‰§è¡Œ,å¦åˆ™ç®—æ³•ç»“æŸ. 3.å‡ºé˜Ÿåˆ—å–å¾—é˜Ÿå¤´é¡¶ç‚¹vâ€™,è®¿é—®é¡¶ç‚¹v å¹¶æ ‡è®°é¡¶ç‚¹vå·²è¢«è®¿é—®. 4.æŸ¥æ‰¾é¡¶ç‚¹vçš„ç¬¬ä¸€ä¸ªé‚»æ¥é¡¶ç‚¹col 5.è‹¥vçš„é‚»æ¥é¡¶ç‚¹colæœªè¢«è®¿é—®è¿‡çš„,åˆ™colç»§ç»­. 6.æŸ¥æ‰¾é¡¶ç‚¹vçš„å¦ä¸€ä¸ªæ–°çš„é‚»æ¥é¡¶ç‚¹col,è½¬åˆ°æ­¥éª¤5å…¥é˜Ÿåˆ—,ç›´åˆ°é¡¶ç‚¹vçš„æ‰€æœ‰æœªè¢«è®¿é—®è¿‡çš„é‚»æ¥ç‚¹å¤„ç†å®Œ,è½¬åˆ°æ­¥éª¤2.\nbfs_queue #include #include #include \"Graph.h\" #include \"queue.h\" #define MAX_NODES 1000 int visited[MAX_NODES]; // array to store visiting order // indexed by vertex 0..nV-1 bool findPathBFS(Graph g, int nV, Vertex src, Vertex dest) { Vertex v; for (v = 0; v \u003c nV; v++) visited[v] = -1; visited[src] = src; queue Q = newQueue(); QueueEnqueue(Q, src); while (!QueueIsEmpty(Q)) { v = QueueDequeue(Q); Vertex w; for (w = 0; w \u003c nV; w++) ( if (adjacent(g, v, w) \u0026\u0026 visited[w] == -1) { visited[w] = v; if (w == dest) return true; else QueueEnqueue(Q, w); } ) } return false; } int main(void) { int V = 10; Graph g = newGraph(V); Edge e; e.v = 0; e.w = 1; insertEdge(g, e); e.v = 0; e.w = 2; insertEdge(g, e); e.v = 0; e.w = 5; insertEdge(g, e); e.v = 1; e.w = 5; insertEdge(g, e); e.v = 2; e.w = 3; insertEdge(g, e); e.v = 3; e.w = 4; insertEdge(g, e); e.v = 3; e.w = 5; insertEdge(g, e); e.v = 3; e.w = 8; insertEdge(g, e); e.v = 4; e.w = 5; insertEdge(g, e); e.v = 4; e.w = 7; insertEdge(g, e); e.v = 4; e.w = 8; insertEdge(g, e); e.v = 5; e.w = 6; insertEdge(g, e); e.v = 7; e.w = 8; insertEdge(g, e); e.v = 7; e.w = 9; insertEdge(g, e); e.v = 8; e.w = 9; insertEdge(g, e); int src = 0, dest = 6; if (findPathBFS(g, V, src, dest)) { Vertex v = dest; while (v != src) { printf(\"%d - \", v); v = visited[v]; } printf(\"%d\\n\", src); } return 0; } æ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢,æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(n^2)\næ·±åº¦ä¼˜å…ˆ:ä»åˆå§‹ç‚¹å‡ºå‘,ä¸æ–­å‘å‰èµ°,å¦‚æœç¢°åˆ°æ­»è·¯,å°±å¾€å›èµ°ä¸€æ­¥,å°è¯•å¦ä¸€æ¡è·¯,ç›´åˆ°å‘ç°ç›®æ ‡ä½ç½®. å¹¿åº¦ä¼˜å…ˆ:ä»åˆå§‹ç‚¹å‡ºå‘,æŠŠæ‰€æœ‰å¯èƒ½çš„è·¯å¾„éƒ½èµ°ä¸€é,å¦‚æœé‡Œé¢æ²¡æœ‰ç›®æ ‡ä½ç½®,åˆ™å°è¯•æŠŠæ‰€æœ‰ä¸¤æ­¥èƒ½å¤Ÿåˆ°çš„ä½ç½®éƒ½èµ°ä¸€é,çœ‹æœ‰æ²¡æœ‰ç›®æ ‡ä½ç½®.\n2.4.4 æœ€çŸ­è·¯å¾„ è¿ªæ°æ–¯ç‰¹æ‹‰Dijkstraç®—æ³• Dijkstraç®—æ³•é€‚ç”¨äºæƒå€¼ä¸ºæ­£çš„å›¾. Dijkstraç®—æ³•å±äºå•æºç®—æ³•,å³åªèƒ½æ±‚å‡ºæŸç‚¹åˆ°å…¶å®ƒç‚¹æœ€çŸ­è·ç¦»,å¹¶ä¸èƒ½å¾—å‡ºä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·ç¦». åœ¨æºç‚¹å¯è¾¾çš„æƒ…å†µä¸‹,Dijkstraç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ—¶ O(ElogV) ç®—æ³•æ­¥éª¤: 1.å°†æ‰€æœ‰è¾¹åˆå§‹åŒ–ä¸ºæ— ç©·å¤§ 2.æ—‹è½¬ä¸€ä¸ªå¼€å§‹çš„é¡¶ç‚¹,æ·»åŠ åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­. 3.å¯¹äºè¯¥ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹è¿›è¡Œåˆ¤æ–­,å¦‚æœåˆ°è¯¥ç‚¹çš„è·ç¦»å°äºåŸå…ˆçš„å€¼,åˆ™è¯¥å€¼è¿›è¡Œæ›´æ–°. 4.å°†è¯¥ç‚¹æ‰€æœ‰é‚»æ¥é¡¶ç‚¹æ·»åŠ åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­. 5.ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­æŒ‘é€‰é™¤ä¸€ä¸ªè·¯å¾„å€¼æœ€å°çš„é¡¶ç‚¹,å°†å…¶å¼¹å‡º,ä½œä¸ºæ–°çš„é¡¶ç‚¹,é‡å¤æ­¥éª¤3,4,5 6.ç›´åˆ°æ‰€æœ‰ç‚¹éƒ½è¢«å¤„ç†è¿‡ä¸€æ¬¡.\nè¿ªæ°æ–¯ç‰¹æ‹‰ #include #include #define MAX 20 #define INF 999 int mat[MAX][MAX]; int V; int dist[MAX]; int q[MAX]; int qp = 0; void enqueue(int v) { q[qp++] = v; } int cf(void *a, void *b) { int *x = (int *)a; int *y = (int *)b; return *y - *x; } int dequeue() { qsort(q, qp, sizeof(int), cf); return q[--qp]; } int queue_has_something() { return (qp \u003e 0); } int visited[MAX]; int vp = 0; void dijkstra(int s) { dist[s] = 0; int i; for (i = 0; i \u003c V; ++i) { if (i != s) { dist[i] = INF; } enqueue(i); } while (queue_has_something()) { int u = dequeue(); visited[vp++] = u; for (i = 0; i \u003c V; ++i) { if (mat[u][i]) { if (dist[i] \u003e dist[u] + mat[u][i]) { dist[i] = dist[u] + mat[u][i]; } } } } } int main(int argc, char const *argv[]) { printf(\"Enter the number of vertices: \"); scanf(\" %d\", \u0026V); printf(\"Enter the adj matrix: \"); int i, j; for (i = 0; i \u003c V; ++i) { for (j = 0; j \u003c V; ++j) { scanf(\" %d\", \u0026mat[i][j]); } } dijkstra(0); printf(\"\\nNode\\tDist\\n\"); for (i = 0; i \u003c V; ++i) { printf(\"%d\\t%d\\n\", i, dist[i]); } return 0; } å¼—æ´›ä¼Šå¾·Floydç®—æ³• Floydç®—æ³•æ˜¯ä¸€ä¸ªç»å…¸çš„åŠ¨æ€è§„åˆ’ç®—æ³•.é¦–å…ˆç›®æ ‡æ˜¯å¯»æ‰¾ä»ç‚¹iåˆ°jçš„æœ€çŸ­è·¯å¾„. Floydç®—æ³•å¯ä»¥æ±‚å‡ºä»»æ„ä¸¤ç‚¹çš„æœ€çŸ­è·ç¦».æ—¶é—´å¤æ‚åº¦:O(ä½ ^3) ä»ä»»æ„èŠ‚ç‚¹iåˆ°ä»»æ„èŠ‚ç‚¹jçš„æœ€çŸ­è·¯å¾„ä¸å¤–ä¹2ç§å¯èƒ½: 1.æ˜¯ä¹‹é—´ä»iåˆ°j 2æ˜¯ä»iåˆ°ç»è¿‡è‹¥å¹²ä¸ªèŠ‚ç‚¹kåˆ°j è®¾Dist(i,j)ä¸ºèŠ‚ç‚¹uåˆ°èŠ‚ç‚¹vçš„æœ€çŸ­è·¯å¾„çš„è·ç¦»ï¼Œå¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹kï¼Œæ£€æŸ¥Dis(i,k) + Dis(k,j) \u003c Dis(i,j) æ˜¯å¦æˆç«‹ï¼Œå¦‚æœæˆç«‹ï¼Œè¯æ˜ä»iåˆ°kå†åˆ°jçš„è·¯å¾„æ¯”iç›´æ¥åˆ°jçš„è·¯å¾„çŸ­ï¼Œåˆ™è®¾ç½®Dis(i,j) = Dis(i,k) + Dis(k,j)ï¼Œè¿™æ ·éå†å®Œæ‰€æœ‰èŠ‚ç‚¹kï¼ŒDis(i,j)ä¸­è®°å½•çš„ä¾¿æ˜¯iåˆ°jçš„æœ€çŸ­è·¯å¾„çš„è·ç¦»ã€‚\nfor (int k = 0; k \u003c n; k++) { for (int i = 0; i \u003c n; i++) { for (int j = 0; j \u003c n; j++) { if (A[i][j] \u003e (A[i][k] + A[k][j])) { A[i][j] = A[i][k] + A[k][j]; path[i][j] = k; } } } } 2.4.5 æ‹“æ‰‘æ’åº æ‹“æ‰‘æ’åºæ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾(DAG)çš„æ‰€æœ‰é¡¶ç‚¹çš„çº¿æ€§åºåˆ—.ä¸”è¯¥åºåˆ—å¿…é¡»æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶:\næ¯ä¸ªé¡¶ç‚¹å‡ºç°ä¸”åªå‡ºç°ä¸€æ¬¡ è‹¥å­˜åœ¨ä¸€æ¡é¡¶ç‚¹Aåˆ°é¡¶ç‚¹Bçš„è·¯å¾„,é‚£ä¹ˆåœ¨åºåˆ—ä¸­é¡¶ç‚¹Aå‡ºç°åœ¨é¡¶ç‚¹Bçš„å‰é¢. æœ‰å‘æ— ç¯å›¾(DAG)æ‰æœ‰æ‹“æ‰‘æ’åºï¼ŒéDAGå›¾æ²¡æœ‰æ‹“æ‰‘æ’åºã€‚ æ‹“æ‰‘æ’åºæ­¥éª¤ï¼š ä»DAGå›¾ä¸­é€‰æ‹©ä¸€ä¸ª æ²¡æœ‰å‰ç¼€(å³å…¥åº¦ä¸º0)çš„é¡¶ç‚¹å¹¶è¾“å‡º ä»å›¾ä¸­åˆ é™¤è¯¥é¡¶ç‚¹å’Œæ‰€æœ‰ä»¥å®ƒä¸ºèµ·ç‚¹çš„æœ‰å‘è¾¹ é‡å¤1å’Œ2ç›´åˆ°å½“å‰çš„DAGå›¾ä¸ºç©ºæˆ–å½“å‰å›¾ä¸­ä¸å­˜åœ¨æ— å‰ç¼€çš„é¡¶ç‚¹ä¸ºæ­¢ã€‚åä¸€ç§æƒ…å†µè¯´æ˜æœ‰å‘å›¾ä¸­å¿…ç„¶å­˜åœ¨ç¯ã€‚ 2.4.6 leetcodeé¢˜ç›® åˆ¤æ–­äºŒåˆ†å›¾ å…‹éš†å›¾ æ‰¾åˆ°å°é•‡çš„æ³•å®˜ é’¥åŒ™å’Œæˆ¿é—´ æœ€çŸ­è·¯å¾„è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ 3 å¸¸è§ç®—æ³• 3.1 é€’å½’æ€æƒ³ 3.1.1 é€’å½’æ€æƒ³ é€’å½’æ€æƒ³æ˜¯:å°†å¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜æ¥æ±‚è§£,ç„¶åå†å°†å°é—®é¢˜åˆ†è§£ä¸ºæ›´å°çš„é—®é¢˜.é€å±‚åˆ†è§£,ç›´åˆ°é—®é¢˜è§„æ¨¡è¢«åˆ†è§£åˆ°å¯ä»¥ç›´æ¥è®¡ç®—ç»“æœ. å¦‚æœæŠŠä¸€å±‚ä¸€å±‚åˆ†è§£è¿‡ç¨‹ç”»æˆå›¾,å®ƒå…¶å®å°±æ˜¯ä¸€æ£µæ ‘,ç§°ä¸ºé€’å½’æ ‘.\næ–æ³¢é‚£å¥‘æ•°åˆ—\nint fib(int N) { if (N \u003c = 1) { return N; } return fib(N-1) + fib(N-2); } é€’å½’çš„è¿‡ç¨‹ä¸­,ç¬¦åˆåè¿›å…ˆå‡ºè§„åˆ™,æ‰€ä»¥ç”¨ä¸€ä¸ªå †æ ˆçš„æ•°æ®ç»“æ„.å‡½æ•°é€’å½’è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨äº§ç”Ÿæ ˆå¸§,å½“å‡½æ•°æ ˆå¸§çš„æ·±åº¦è¶Šæ¥è¶Šå¤§,æ ˆä¹Ÿä¹Ÿè¶Šæ¥è¶Šå¤§,å¦‚æœé€’å½’æ²¡æœ‰ç»ˆæ­¢æ¡ä»¶,åˆ™ä¼šçˆ†æ ˆ.é€’å½’ç®—æ³•ç¬¬ä¸€æ­¥è¦æ€è€ƒçš„å°±æ˜¯é€’å½’ç»ˆæ­¢æ¡ä»¶. é€’å½’æ€æƒ³çš„ä¸¤ä¸ªå»¶ç”³ç®—æ³•:åˆ†æ²»ç®—æ³•å’ŒåŠ¨æ€è§„åˆ’. é€’å½’çš„ä¸€èˆ¬ç»“æ„:\nvoid func() { if (ç¬¦åˆè¾¹ç•Œæ¡ä»¶) { ... return ..; } // æŸç§å½¢å¼çš„è°ƒç”¨ func(); } é˜¶ä¹˜å‡½æ•°:\nint factorial(int n) { if (n \u003c= 1) { return 1; } return n * factorial(n-1); } å‚è€ƒé“¾æ¥:https://www.jianshu.com/p/b2d2edb4ba5b 3.1.2 é€’å½’åŸºæœ¬æ­¥éª¤: 1.å®šä¹‰ä¸€ä¸ªå‡½æ•°,æ˜ç¡®å‡½æ•°åŠŸèƒ½ 2.å¯»æ‰¾é—®é¢˜ä¸å­é—®é¢˜ä¹‹é—´çš„å…³ç³»(é€’æ¨å…¬å¼) 3.å°†é€’æ¨å…¬å¼åœ¨å®šä¹‰çš„å‡½æ•°ä¸­å®ç° 4.æ¨å¯¼æ—¶é—´å¤æ‚åº¦,åˆ¤å®šæ˜¯å¦å¯ä»¥æ¥å—,æ— æ³•æ¥å—æ›´æ¢ç®—æ³•.\n3.1.3 ä»£è¡¨é¢˜ç›® çˆ¬æ¥¼æ¢¯ 70 int climbStairs(int n) { int *mem = (int *)malloc(sizeof(int) * (n+1)); int mem[n] = {}; return climb(n, mem); } int climb(int n, int *mem) { if (n == 1) { return 1; } if (n == 2) { return 2; } if (mem[n] \u003e 0) { return mem[n]; } mem[0] = climb(n-1, mem) + climb(n-2, mem); return mem[n]; } é’è›™è·³å°é˜¶ 10-II int numWays(int n) { int num[n+1] = {-1}; return jump(n, num); } int jump(int n, int *num) { if (num[n] != -1) { return num[n]; } if (n == 1 || n == 0) { return 1; } num[n] = (jump(n-1, num) + jump(n-2, num) % 1e9+7); return num[n]; } 3.1.4 è§¦ç±»æ—é€š åè½¬äºŒå‰æ ‘ 226 1).å¯¹äºæ ¹èŠ‚ç‚¹1æ¥è¯´,å‡è®¾2,3èŠ‚ç‚¹ä¸‹çš„èŠ‚ç‚¹éƒ½å·²ç»ç¿»è½¬,é‚£ä¹ˆåªè¦ç¿»è½¬2,2èŠ‚ç‚¹å³æ»¡è¶³éœ€æ±‚. 2).å¯¹äº2,3èŠ‚ç‚¹æ¥è¯´,ä¹Ÿæ˜¯ç¿»è½¬å…¶å·¦å³èŠ‚ç‚¹å³å¯. ä¾æ­¤ç±»æ¨,å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹,ä¾æ¬¡ç¿»è½¬å…¶å·¦å³èŠ‚ç‚¹,æ‰€ä»¥æˆ‘ä»¬å¯çŸ¥é—®é¢˜ä¸å­é—®é¢˜çš„å…³ç³»æ˜¯ç¿»è½¬(æ ¹èŠ‚ç‚¹) = ç¿»è½¬(æ ¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹) + ç¿»è½¬(æ ¹èŠ‚ç‚¹çš„å³èŠ‚ç‚¹),å³ invert(root) = invert(root-\u003eleft) + invert(root-\u003eright) åŠ å·æ˜¯è¿½åŠ åˆ°rootä¸Šçš„æ„æ€\ntypedef struct TreeNode { int data; TreeNode *left; TreeNode *right; } TreeNode invertTree(TreeNode *root) { if (root == NULL) { return NULL; } TreeNode *left = (struct TreeNode *)malloc(sizeof(TreeNode)); TreeNode *right = (struct TreeNode *)malloc(sizeof(TreeNode)); left = invertTree(root.left); rgith = invertTree(root.right); root.left = right; root.right = left; return root; } è·¯å¾„æ€»å’Œ 112 ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œ,åˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„,è¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œ. typedef struct TreeNode { int data; struct TreeNode *left; struct TreeNode *right; } bool hasPathSum(TreeNode *root, int sum) { if (root == NULL) { return false; } if (root.left == NULL \u0026\u0026 root.right == NULL) { return root.data == sum; } int remain = sum - root.data; return hasPathSum(root.left, remain) || hashPashSum(root.right, remain); } ç»†èƒåˆ†è£‚ https://www.jianshu.com/p/b2d2edb4ba5b\n3.2 åˆ†æ²»æ³• æŠŠå¤æ‚é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–è€…æ›´å¤šç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œå†æŠŠå­é—®é¢˜åˆ†æˆæ›´å°çš„å­é—®é¢˜â€¦ï¼Œç›´åˆ°å¯ä»¥ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£ä¸ºå­é—®é¢˜è§£çš„åˆå¹¶ã€‚ åˆ†æ²»æ³•åº”ç”¨ï¼šæ’åºç®—æ³•(å¿«é€Ÿæ’åºã€å½’å¹¶æ’åº);å‚…é‡Œå¶å˜æ¢()ã€‚\n3.2.1 æ¦‚è¿° åˆ†æ²»æ³•æ€æƒ³:å°†ä¸€ä¸ªéš¾ä»¥ç›´æ¥è§£å†³çš„å¤§é—®é¢˜,åˆ†å‰²æˆä¸€äº›è§„æ¨¡å°çš„ç›¸åŒé—®é¢˜,åˆ†è€Œæ²»ä¹‹.\nåˆ†æ²»æ³•:æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜,å†æŠŠå­é—®é¢˜åˆ†æˆæ›´å°çš„å­é—®é¢˜â€¦,ç›´åˆ°æœ€åå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£,åŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶.åˆ†æ²»æ³•æ€æƒ³:æ’åº(å¿«é€Ÿæ’åº,å½’å¹¶æ’åº),å‚…é‡Œå¶å˜æ¢(å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ 1):æ•°å­¦å½’çº³æ˜¯ä½¿ç”¨åˆ†æ²»æ€æƒ³. 2):åˆ†æ²»æ€æƒ³ä¸ä¸€å®šä½¿ç”¨é€’å½’ç»“æ„. é€’å½’ç»“æ„æ˜¯å¾ªç¯ç»“æ„çš„ä¸€ç§,ä¹Ÿæ˜¯åˆ†æ²»æ€æƒ³åº”ç”¨æœ€å¤šçš„ä¸€ç§ç¨‹åºç»“æ„,ä½†ä¸ä¸€å®šä½¿ç”¨å®ƒ.åˆ†æ²»æ³•çš„æ ¸å¿ƒæ˜¯å¦‚ä½•åˆ†\n3.2.2 ç­–ç•¥ åˆ†æ²»ç­–ç•¥:å¯¹äºä¸€ä¸ªè§„æ¨¡ä¸ºnçš„é—®é¢˜,è‹¥è¯¥é—®é¢˜å¯ä»¥å®¹æ˜“è§£å†³åˆ™ç›´æ¥è§£å†³,å¦åˆ™å°†å…¶åˆ†è§£ä¸ºkä¸ªè§„æ¨¡è¾ƒå°çš„å­é—®é¢˜,å­é—®é¢˜ä¹‹é—´ç›¸äº’ç‹¬ç«‹ä¸”ä¸åŸé—®é¢˜å½¢å¼ç›¸åŒ,å¯é€’å½’æ±‚è§£.åˆ†æ²»é€šå¸¸ç”¨é€’å½’å®ç°.\n3.2.3 åº”ç”¨åœºæ™¯ åˆ†æ²»æ³•ç‰¹å¾:\né—®é¢˜ç¼©å°åˆ°ä¸€å®šç¨‹åº¦å¯å®¹æ˜“è§£å†³. é—®é¢˜å¯åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„ç›¸åŒé—®é¢˜,å³é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨. å­é—®é¢˜çš„è§£å¯åˆå¹¶ä¸ºè¯¥é—®é¢˜çš„è§£. é—®é¢˜åˆ†è§£çš„å­é—®é¢˜ç›¸äº’ç‹¬ç«‹,å­é—®é¢˜ä¹‹é—´ä¸åŒ…å«å…¬å‘Šå­é—®é¢˜. 3.2.4 æ­¥éª¤ åˆ†æ²»æ³•ä¸€å±‚é€’å½’æ­¥éª¤:\nåˆ†è§£:å°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²è§„æ¨¡è¾ƒå°,ç›¸äº’ç‹¬ç«‹,ä¸åŸé—®é¢˜å½¢å¼ç›¸åŒçš„å­é—®é¢˜. è§£å†³:è‹¥å­é—®é¢˜å¯ç›´æ¥æ±‚è§£,åˆ™ç›´æ¥æ±‚è§£,å¦åˆ™é€’å½’è§£å„ä¸ªå­é—®é¢˜. åˆå¹¶:å°†å„ä¸ªå­é—®é¢˜çš„è§£åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£. 3.2.5 åº”ç”¨ åˆ†æ²»æ€ç»´æ–¹å¼ï¼šäºŒåˆ†æœç´¢;å¤§æ•´æ•°ä¹˜æ³•;åˆå¹¶æ’åº;å¿«é€Ÿæ’åºã€‚\næ±‚xçš„næ¬¡å¹‚ å¯¹æ•°å¤æ‚åº¦O(logn)\nint power(int x, int n) { int result; if (n == 1) { return x; } if (n % 2 == 0) { result = power(x, n/2) * power(x, n / 2); } else { result = power(x, (n + 1) / 2) * power(x, (n - 1) / 2); } return result; } 3.2.6 leetcodeé¢˜ç›® æœç´¢äºŒç»´çŸ©é˜µII æ±‚ä¼—æ•° åˆå¹¶kä¸ªæ’åºé“¾è¡¨ 3.3 æ’åºç®—æ³• å„ç§æ’åºç®—æ³•ï¼Œä¸»è¦åŒ…æ‹¬ï¼šæ’å…¥æ’åºã€å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€è®¡æ•°æ’åºå’ŒæŠ€æœ¯æ’åºã€‚äºŒåˆ†æŸ¥æ‰¾ï¼Œ\n3.3.1 å†’æ³¡æ’åº é‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„å…ƒç´ åˆ—ï¼Œä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºï¼ˆå¦‚ä»å¤§åˆ°å°ã€é¦–å­—æ¯ä»Aåˆ°Zï¼‰é”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚ å†’æ³¡æ’åºç®—æ³•å¤æ‚åº¦æ˜¯O(n^2)\nstatic void bubleSort(int[] arr) { int size = arr.length; // for (int out = size - 1; out \u003e 0; out--) { // for (int in = 0; in \u003c out; in++) { if (arr[in] \u003e arr[in + 1]) { swap(arr, in, in + 1); } } } } #define SWAP(a,b) \\ do{\\ (a) ^= (b);\\ (b) ^= (a);\\ (a) ^= (b);\\ }while(0) /*å†’æ³¡æ’åº*/ void bubble_sort(int a[],int size) { int i = 0; int j = 0; int swap_flg = 0; if (size \u003c 1) { return; } for (i = size - 1; i \u003e 0; i--) {/*æ’åºçš„è¶Ÿæ•°*/ swap_flg = 0;/*æ¯æ¬¡è®¾ç½®äº¤æ¢æ ‡è¯†ä¸º0*/ for (j = 0; j \u003c i; j++) { /*æœ¬è¶Ÿæ’åºçš„éå†å…ƒç´ ä¸ªæ•°*/ if (a[j] \u003e a[j + 1]) { SWAP(a[j],a[j+1]); swap_flg = 1; } } /*æœ¬è¶Ÿæ•°ï¼Œæ— æ•°æ®äº¤æ¢çš„è¯ï¼Œè¯´æ˜å·²ç»æœ‰åºï¼Œç›´æ¥é€€å‡º*/ if (swap_flg == 0) { break; } } return; } #include using namespace std; template\u003ctypename T\u003e //æ•´æ•°æˆ–æµ®ç‚¹æ•°çš†å¯ä½¿ç”¨ void bubble_sort(T arr[], int len) { int i, j; T temp; for (i = 0; i \u003c len - 1; i++) { for (j = 0; j \u003c len - 1 - i; j++) { if (arr[j] \u003e arr[j + 1]) { temp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = temp; } } } } 3.3.2 é€‰æ‹©æ’åº é€‰æ‹©æ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)\nstatic void selectSort(int[] arr) { int size = arr.lenght; // for (int out = 0; out \u003c size; out++) { int mixIndex = out; // for (int in = out - 1; in \u003c size; in++) { if (arr[mixIndex] \u003e arr[in]) { mixIndex = in; } } if (mixIndex != out) { swap(arr, mixIndex, out); } } } /*é€‰æ‹©æ’åº*/ void select_sort(int a[],int size) { int i = 0; int j = 0; int min = 0; for (i = 0; i \u003c size - 1; i++) { min = i; for (j = i + 1; j \u003c size; j++) { if (a[j] \u003c a[min]) { min = j; } } if (min != i) { SWAP(a[i],a[min]); } } return; } 3.3.3 æ’å…¥æ’åº æ’å…¥æ’åºæ¯æ¬¡ä»æ— åºæ•°æ®é›†åˆä¸­å–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œæ’å…¥åˆ°å·²ç»æ’å¥½åºçš„æ•°æ®é›†ä¸­é€‚å½“ä½ç½®ï¼Œä½¿æ•°æ®é›†ä»ç„¶æœ‰åºã€‚æ’å…¥æ’åºä¸éœ€è¦é¢å¤–ç©ºé—´ã€‚æ—¶é—´å¤æ‚åº¦O(n2)\nstatic void insertSort(int[] arr) { int size = arr.lenght; // for (int out = 1; out \u003c size; out++) { // int temp = arr[out]; int in = out; // // while (in - 1 \u003e= 0 \u0026\u0026 arr[in - 1] \u003e temp) { arr[in] = arr[in - 1]; in--; } if (in != out) { arr[in] = temp; } } } /*æ’å…¥æ’åº*/ void insert_sort(int a[],int size) { for (int i = 1; i \u003c size; i ++)/*éœ€è¦æ’å…¥çš„å…ƒç´ ä¸ªæ•°*/ { int key = a[i];/*ä¿å­˜æ’å…¥çš„å…ƒç´ æ•°æ®*/ int j = i - 1; /* i ä¹‹å‰çš„å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰¾åˆ°æ¯”keyå°çš„æ’å…¥åˆ°ä»–åé¢ï¼Œ * æ¯”keyå¤§çš„ï¼Œéœ€è¦å¾€åæŒªä¸€ä¸ªä½ç½®*/ while((j \u003e= 0) \u0026\u0026 (a[j] \u003e key)) { a[j + 1] = a[j]; j--; } a[j + 1] = key; } return; } int issort(void *data, int size, int esize, int (*compare)(const void *key1, const void *key2)) { char *a = data; void *key; int i, j; if ((key = (char *)malloc(esize)) == NULL) { return -1; } for (j = 1; j \u003c size; j++) { i = j - 1; while (i \u003e= 0 \u0026\u0026 compare(\u0026a[i * esize], key) \u003e 0) { mamcpy(\u0026a[(i + 1) * esize], \u0026a[i * esize], esize); i--; } memcpy(\u0026a[(i + 1) * esize], key, esize); } free(key); return 0; } 3.3.4 å¸Œå°”æ’åº å¸Œå°”æ’åºæ—¶é—´å¤æ‚åº¦O(n*(logn)^2)\nstatic void shellSort(int[] arr) { int size = arr.lenght; int h = 1; while (h \u003c= size / 3) { // h = h * 3 + 1; } while (h \u003e 0) { for (int out = h; out \u003c size; out++) { int temp = arr[out]; int in = out; // while (in - h \u003e= 0 \u0026\u0026 arr[in - h] \u003e temp) { arr[in] = arr[in - h]; in = in - h; } if (in != out) { arr[in] = temp; } } h = (h - 1) / 3; } } 3.3.5 å½’å¹¶æ’åº å½’å¹¶æ’åºæ˜¯ä¸€ç§åˆ†æ”¯æ’åºç®—æ³•ã€‚å½’å¹¶æ’åºéœ€è¦é¢å¤–å­˜å‚¨ç©ºé—´æ¥å®Œæˆæ’åºã€‚\nint min(int x, int y) { return x \u003c y ? x : y; } void merge_sort(int arr[], int len) { int *a = arr; int *b = (int *)malloc(len * sizeof(int)); int seg, start; for (seg = 1; seg \u003c len; seg += seg) { for (start ) } } #include #include #include #include void dump(int *arr, int size) { int idx; for (idx = 0; idx \u003c size; idx++) printf(\"%08d\\n\", arr[idx]); } void __merge(int *arr, int p, int q, int r) { int *tmp; int i, j, k; tmp = (int*)malloc((r - p + 1) * sizeof(int)); if (!tmp) abort(); for (i = p, j = q + 1, k = 0; i \u003c= q \u0026\u0026 j \u003c= r;) { if (arr[i] \u003c= arr[j]) tmp[k++] = arr[i++]; else tmp[k++] = arr[j++]; } if (i == q + 1) { for (; j \u003c= r;) tmp[k++] = arr[j++]; } else { for (; i \u003c= q;) tmp[k++] = arr[i++]; } memcpy(arr + p, tmp, (r - p + 1) * sizeof(int)); free(tmp); } void __merge_sort(int *arr, int p, int r) { int q; if (p \u003e= r) return; q = (p + r) / 2; __merge_sort(arr, p, q); __merge_sort(arr, q + 1, r); __merge(arr, p, q, r); } void merge_sort(int *arr, int size) { __merge_sort(arr, 0, size - 1); } void merge_verify() { int test[10] = {5, 8, 9, 23, 67, 1, 3, 7, 31, 56}; __merge(test, 0, 4, 9); dump(test, 10); } void merge_sort_test() { int test[10] = {5, 8, 9, 23, 67, 1, 3, 7, 31, 56}; merge_sort(test, 10); dump(test, 10); } int main() { //merge_verify(); merge_sort_test(); return 0; } 3.3.6 å¿«é€Ÿæ’åº å¿«é€Ÿæ’åºæ˜¯ä¸€ç§åˆ†æ²»æ’åºç®—æ³•ã€‚ä¸éœ€è¦é¢å¤–å­˜å‚¨ç©ºé—´ï¼Œæ—¶é—´å¤æ‚åº¦O(nlgn)\nå¿«é€Ÿæ’åºä¸‰ä¸ªæ­¥éª¤ï¼š\nåˆ†ï¼šè®¾å®šä¸€ä¸ªåˆ†å‰²å€¼å¹¶å°†æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚ æ²»ï¼šåˆ†åˆ«åœ¨ä¸¤éƒ¨åˆ†ä½¿ç”¨é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨å¿«é€Ÿæ’åºæ–¹æ³•ã€‚ å’Œï¼šå¯¹åˆ†å‰²éƒ¨åˆ†æ’åºç›´è‡³å®Œæˆã€‚ typedef struct _Range { int start; int end; } Range; Range now_Range(int s, int e) { Range r; r.start = s; r.end = e; return r; } void swap(int *x, int *y) { int t = *x; *x = *y; *y = t; } void quick_sort(int arr[], const int len) { if (len \u003c= 0) { return; } Range r[len]; int p = 0; r[p++] = new_Range(0, len - 1); while (p) { Range range = r[--p]; if (range.start \u003e= range.end) { continue; } int mid = arr[(range.start + range.end) / 2]; int left = range.start; int right = range.end; do { while (arr[left] \u003c mid) { ++left; } while (arr[right] \u003e mid) { --right; } if (left \u003c= right) { swap(\u0026arr[left], \u0026arr[right]); left++; right--; } } while (left \u003c= right); if (range.start \u003c right) { r[p++] = new_Range(range.start, right); } if (range.end \u003e left) { r[p++] = new_Range(left, range.end); } } } void QuickSort(int *arr, int low, int high) { if (low \u003c high) { int i = low; int j = high; int k = arr[low]; while (i \u003c j) { // ä»å³å‘å·¦æ‰¾ç¬¬ä¸€ä¸ªå°äºkçš„æ•° while (i \u003c j \u0026\u0026 arr[j] \u003e= k) { j--; } if (i \u003c j) { arr[i++] = arr[j]; } // ä»å·¦å‘å³æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºkçš„æ•° while (i \u003c j \u0026\u0026 arr[i] \u003c k) { i++; } if (i \u003c j) { arr[j--] = arr[i]; } } arr[i] = k; // é€’å½’è°ƒç”¨ QuickSort(arr, low, i - 1); // æ’åºkå·¦è¾¹ QuickSort(arr, i + 1, high); // æ’åºkå³è¾¹ } } void quick_sort( int *a, int n) { int i, j, p, tmp; if (n \u003c 2) return; p = a[n / 2]; // Get the middle element as pivot .. for ( i = 0, j = n -1;; i++, j--) { while (a[i] \u003c p) i++; while (p \u003c a[j]) j--; if ( i \u003e= j) break; tmp = a[i]; a[i] = a[j]; a[j] = tmp; //swap both .. } quick_sort( a, i); quick_sort( a + i, n - i); } #include #include #include #include void dump(int *arr, int size) { int idx; for (idx = 0; idx \u003c size; idx++) printf(\"%08d\\n\", arr[idx]); } void swap(int *a, int *b) { int tmp = *a; *a = *b; *b = tmp; } int partition(int *arr, int p, int r) { //int pivot = arr[r]; int i, j; i = j = p; for (; j \u003c r; j++) { if (arr[j] \u003c arr[r]) { if(i != j) { swap(arr + i, arr + j); } i++; } } swap(arr + i, arr + r); return i; } void __quick_sort(int *arr, int p, int r) { int q; if (p \u003e= r) return; q = partition(arr, p, r); __quick_sort(arr, p, q-1); __quick_sort(arr, q+1, r); } void quick_sort(int *arr, int size) { __quick_sort(arr, 0, size - 1); } void quick_sort_test() { int test[10] = {5, 8, 9, 23, 67, 1, 3, 7, 31, 56}; quick_sort(test, 10); dump(test, 10); } int main() { quick_sort_test(); return 0; } #include using namespace std; void Qsort(int arr[], int low, int high){ if (high \u003c= low) return; int i = low; int j = high + 1; int key = arr[low]; while (true) { /*ä»å·¦å‘å³æ‰¾æ¯”keyå¤§çš„å€¼*/ while (arr[++i] \u003c key) { if (i == high) { break; } } /*ä»å³å‘å·¦æ‰¾æ¯”keyå°çš„å€¼*/ while (arr[--j] \u003e key) { if (j == low) { break; } } if (i \u003e= j) break; /*äº¤æ¢i,jå¯¹åº”çš„å€¼*/ int temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } /*ä¸­æ¢å€¼ä¸jå¯¹åº”å€¼äº¤æ¢*/ int temp = arr[low]; arr[low] = arr[j]; arr[j] = temp; Qsort(arr, low, j - 1); Qsort(arr, j + 1, high); } qsort/sortå‡½æ•° åœ¨cè¯­è¨€åº“å‡½æ•°ä¸­å·²ç»å®ç°äº†qsortå‡½æ•°, qsortå‡½æ•°ç”¨æ³•:\nvoid qsort(void *base, int nelem, int width, int (*fcmp)(const void *, const void *)); // å‚æ•°:1 å¸¦æ’åºæ•°ç»„é¦–åœ°å€, nelem æ•°ç»„ä¸­å¾…æ’å…ƒç´ æ•°é‡ width å„å…ƒç´ æ‰€åœ¨ç©ºé—´å¤§å° *fcmp æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ // int æ•°ç»„ int cmp(const void *a, const void *b) { return (*(int *)a - *(int *)b); } qsort(arr, n, sizeof(arr[0]), cmp); // char æ•°ç»„ int com(const void *a, const void *b) { return *(char *)a - *(char *)b; } char word[100]; qsort(word, 100, sizeof(word[0]), cmp); // double ç±»å‹ int cmp(const void *a, const void *b) { return *(double *)a \u003e *(double*)b ? 1 : -1; } double in[100]; qsort(in, 100, sizeof(in[00]), cmp); // struct ç»“æ„ä½“ struct Sample { double data; int num; }st[100]; int cmp(const void *a, const void *b) { return (*(Sample *)a).data \u003e (*(Sampel *)b).data ? 1 : -1; } qsort(s, 100, sizeof(s[0]), cmp); // int cmp(const void *a, const void *b) { struct Sample *c = (Sample *)a; struct Sample *d = (Sample *)b; if(c-\u003ex != d-\u003ex) { return c-\u003ex - d-\u003ex; } else { return d-\u003ey - c-\u003ey; } } qsort(s,100,sizeof(s[0]),cmp); truct Sample { int data; char str[100]; }s[100]; //æŒ‰ç…§ç»“æ„ä½“ä¸­å­—ç¬¦ä¸²strçš„å­—å…¸é¡ºåºæ’åº int cmp (const void *a, const void *b) { return strcmp((*(Sample *)a)-\u003estr , (*(Sample *)b)-\u003estr); } qsort(s,100,sizeof(s[0]),cmp); 3.3.7 å †æ’åº æ¡¶æ’åºç®—æ³•åŸºæœ¬åŸç†ï¼šæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ åˆ†ä¸ºè‹¥å¹²ä¸ªæ•°æ®å—ï¼Œä¹Ÿå°±æ˜¯è‹¥å¹²ä¸ªæ¡¶ï¼Œç„¶åå¯¹æ¯ä¸ªæ¡¶é‡Œçš„æ•°æ®è¿›è¡Œæ’åºï¼Œæœ€åå°†æ‰€æœ‰æ¡¶é‡Œçš„æ•°æ®ä¾æ¬¡æ’åˆ—ã€‚ å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š (1)æ€æ ·åˆ’åˆ†æ•°æ®å—ï¼Œä¹Ÿå°±æ˜¯åˆ†å‡ ä¸ªæ¡¶ï¼Œæ¯ä¸ªæ¡¶æ”¾å“ªå‡ ä¸ªæ•°æ®ã€‚ (2)å¯¹æ¯ä¸ªæ•°æ®å—é‡Œçš„æ•°æ®æ€æ ·æ’åºã€‚ å †æ’åºä½¿åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„è®¾è®¡çš„ä¸€ç§é€‰æ‹©æ’åºç®—æ³•ã€‚å †æ˜¯ä¸€ç§è¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„(é€šå¸¸å †ç”¨ä¸€ç»´æ•°ç»„å®ç°),å¹¶æ»¡è¶³æ€§è´¨ï¼›æœ€å¤§å †(å¤§é¡¶å †)ä¸ºä¾‹ï¼Œå…¶çˆ¶èŠ‚ç‚¹çš„å€¼æ€»æ˜¯å¤§äºå®ƒçš„å­©å­èŠ‚ç‚¹ã€‚ å †æ’åºçš„è¿‡ç¨‹ï¼š 1.ç”±è¾“å…¥çš„æ— åºæ•°ç»„æ„é€ ä¸€ä¸ªæœ€å¤§å †ï¼Œä½œä¸ºåˆå§‹çš„æ— åºåŒº 2.æŠŠå †é¡¶å…ƒç´ (æœ€å¤§å€¼)å’Œå †å°¾å…ƒç´ äº’æ¢ 3.æŠŠå †(æ— åºåŒº)çš„å°ºå¯¸ç¼©å°1ï¼Œå¹¶è°ƒç”¨heapify(A,0)ä»æ–°çš„å †é¡¶å…ƒç´ å¼€å§‹è¿›è¡Œå †è°ƒæ•´ã€‚ 4.é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°å †çš„å°ºå¯¸ä¸º1 å› ä¸ºæ¯æ¬¡æ’å…¥æ•°æ®æ•ˆç‡æ˜¯O(logN)ï¼Œè€Œæˆ‘ä»¬éœ€è¦è¿›è¡Œnæ¬¡å¾ªç¯ï¼Œå°†æ•°ç»„ä¸­æ¯ä¸ªå€¼æ’å…¥åˆ°å †ä¸­ï¼Œæ‰€ä»¥å®ƒçš„æ‰§è¡Œæ—¶é—´æ˜¯O(N*logN)çº§ã€‚\n#include #include typedef struct node { int key; struct node *next; } KeyNode; void bucket_sort(int keys[], int size, int bucket_size) { int i, j; KeyNode **bucket_table = (KeyNode **)mallov(bucket_size * sizeof(KeyNode*)); for(i = 0;i \u003c bucket_size;i++) { bucket_table[i] = (KeyNode*)malloc(sizeof(KeyNode)); bucket_table[i]-\u003ekey = 0; bucket_table[i]-\u003enext = NULL; } for(j = 0;j \u003c size;j++) { KeyNode *node = (KeyNode *)malloc(sizeof(KeyNode)); node-\u003ekey = keys[j]; node-\u003enext = NULL; int index = keys[j]/10; KeyNode *p = bucket_table[index]; if(p-\u003ekey == 0) { bucket_table[index]-\u003enext = node; (bucket_table[index]-\u003ekey)++; } else { while(p-\u003enext != NULL \u0026\u0026 p-\u003enext-\u003ekey \u003c= node-\u003ekey) p = p-\u003enext; node-\u003enext = p-\u003enext; p-\u003enext = node; (bucket_table[index]-\u003ekey)++; } } //print result KeyNode * k = NULL; for(i = 0;i \u003c bucket_size;i++) for(k = bucket_table[i]-\u003enext;k!=NULL;k=k-\u003enext) printf(\"%d \",k-\u003ekey); printf(\"\\n\"); } int main() { int raw[] = {49,38,65,97,76,13,27,49}; int size = sizeof(raw)/sizeof(int); bucket_sort(raw,size,10); } void Heapify(int A[], int i, int size) { int lef_child = 2 * i + 1; int right_child = 2 * i + 2; int max = i; if (lef_child \u003c size \u0026\u0026 A[lef_child] \u003e A[max]) { max = lef_child; } if (right_child \u003c size \u0026\u0026 A[right_child] \u003e A[max]) { max = right_child; } if (max != i) { Swap(A, i max); Heapify(A, max, size); } } int BuildHeap(int A[], int n) { int heap_size = n; for (int i = heap_size / w - 1; i \u003e= 0; i--) { Heapify(A, i, heap_size); return heap_size; } } void HeapSort(int A[], int n) { int heap_size = BuildHeap(A, n); while (heap_size \u003e 1) { Swap(A, 0, heap_size); Heap(A, 0, heap_size); } } 3.3.8 leetcodeæ’åº æŒ‰å¥‡å¶æ’åºæ•°ç»„ å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åº åˆå¹¶åŒºé—´ æœ€å¤§æ•° æœ€æ¥è¿‘åŸç‚¹çš„Kä¸ªç‚¹ 3.4 è´ªå¿ƒç®—æ³• 3.4.1 åŸºæœ¬æ¦‚å¿µ è´ªå¿ƒç®—æ³•:åœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶,æ€»æ˜¯åšå‡ºåœ¨å½“å‰æ˜¯æœ€å¥½çš„é€‰æ‹©,å³ä¸è€ƒè™‘æ•´ä½“æœ€ä¼˜,ä»…è€ƒè™‘å±€éƒ¨æœ€ä¼˜è§£. è´ªå¿ƒç®—æ³•æ²¡æœ‰å›ºå®šç®—æ³•æ¡†æ¶,ç®—æ³•å…³é”®æ˜¯è´ªå¿ƒç­–ç•¥çš„é€‰æ‹©.ä»–æƒ³ç®—æ³•ä¸æ˜¯æ‰€æœ‰é—®é¢˜éƒ½å¾—åˆ°æœ€ä¼˜è§£,é€‰æ‹©è´ªå¿ƒç­–ç•¥å¿…é¡»å…·å¤‡æ— åæ•ˆæ€§,å³æŸä¸ªçŠ¶æ€ä»¥åçš„è¿‡ç¨‹ä¸ä¼šå½±å“ä¸€èµ·çš„çŠ¶æ€,åªä¸å½“å‰çŠ¶æ€æœ‰å…³.\n3.4.2 æè¿° è´ªå¿ƒç®—æ³•å®ç°æ­¥éª¤: 1.å»ºç«‹æ•°å­¦æ¨¡å‹æè¿°é—®é¢˜ 2.æŠŠæ±‚è§£çš„é—®é¢˜åˆ†æˆè‹¥å¹²ä¸ªå­é—®é¢˜ 3.å¯¹æ¯ä¸ªå­é—®é¢˜æ±‚è§£,å¾—åˆ°å­é—®é¢˜çš„å±€éƒ¨æœ€ä¼˜è§£ 4.æŠŠå­é—®é¢˜çš„è§£å±€éƒ¨æœ€ä¼˜è§£åˆæˆåŸæ¥é—®é¢˜çš„ä¸€ä¸ªè§£. å®ç°ç®—æ³•è¿‡ç¨‹:\nwhile (èƒ½æœç»™å®šæ€»ç›®æ ‡å‰è¿›ä¸€æ­¥) { åˆ©ç”¨å¯è¡Œçš„å†³ç­–,æ±‚å‡ºå¯è¡Œè§£çš„ä¸€ä¸ªè§£å…ƒç´ ; } ç”±æ‰€æœ‰è§£å…ƒç´ ç»„åˆæˆé—®é¢˜çš„ä¸€ä¸ªå¯è¡Œè§£ 3.4.3 åº”ç”¨ æœ€å°ç”Ÿæˆæ ‘ç®—æ³• è´ªå¿ƒç®—æ³•ç»å…¸å®è·µ:æœ€å°ç”Ÿæˆæ ‘ç®—æ³• è®¾G=(V, E)æ˜¯æ— å‘è¿é€šå¸¦æƒå›¾,å³ä¸€ä¸ªç½‘ç»œ,Eä¸­çš„æ¯ä¸€æ¡è¾¹(v,w) çš„å…¨ä¸º c[v][w].å¦‚æœGçš„å­—ä½“ Gâ€™ æ˜¯ä¸€é¢—åŒ…å« G çš„æ‰€æœ‰é¡¶ç‚¹çš„æ•°,åˆ™ç§° Gâ€™ ä¸º G çš„ç”Ÿæˆæ ‘.ç”Ÿæˆæ ‘ä¸Šå„è¾¹æƒçš„æ€»å’Œç§°ä¸ºç”Ÿæˆæ ‘çš„è€—è´¹.åœ¨ G çš„æ‰€æœ‰ç”Ÿæˆæ ‘ä¸­,è€—è´¹æœ€å°çš„ç”Ÿæˆæ ‘ç§°ä¸º G çš„æœ€å°ç”Ÿæˆæ ‘. æœ€å°ç”Ÿæˆæ ‘çš„æ€§è´¨: è®¾G=(V, E)æ˜¯è¿é€šå¸¦æƒå›¾, Uæ˜¯Vçš„çœŸå­é›†.å¦‚æœ(u,v)å±äºE,ä¸”uå±äºE,vå±äºV-U,ä¸”åœ¨æ‰€æœ‰è¿™æ ·çš„è¾¹ä¸­,(u,v)çš„æƒc[u][v]æœ€å°,é‚£ä¹ˆä¸€å®šå­˜åœ¨Gçš„ä¸€é¢—æœ€å°ç”Ÿæˆæ ‘,å®ƒäº¦æ˜¯(u,v)ä¸ºå…¶ä¸­ä¸€æ¡è¾¹,è¿™ä¸ªæ€§è´¨æœ‰æ—¶ä¹Ÿç§°ä¸ºMSTæ€§è´¨.\nPrimç®—æ³• è®¾G=(V, E)æ˜¯è¿é€šå¸¦æƒå›¾, V={1,2,â€¦,n}.æ„é€ Gçš„æœ€å°ç”Ÿæˆæ ‘Primç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯:**é¦–å…ˆç½®S={1},ç„¶å,åªæœ‰Sæ˜¯Vçš„çœŸå­é›†,å°±è¿›è¡Œå¦‚ä¸‹çš„è´ªå¿ƒé€‰æ‹©:é€‰å–æ»¡è¶³æ·»åŠ iå±äºS,jå±äºV-S,ä¸”c[i][j]æœ€å°çš„è¾¹,å°†é¡¶ç‚¹jæ·»åŠ åˆ°Sä¸­.è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´è¿›è¡Œåˆ°S=Væ—¶ä¸ºæ­¢.åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­é€‰å–åˆ°çš„æ‰€æœ‰è¾¹æ°å¥½æ„æˆGçš„ä¸€é¢—æœ€å°ç”Ÿæˆæ ‘.\nPrim /** * @file * @author [Timothy Maloney](https://github.com/sl1mb0) * @brief [Prim's algorithm](https://en.wikipedia.org/wiki/Prim%27s_algorithm) * implementation in C to find the MST of a weighted, connected graph. * @details Prim's algorithm uses a greedy approach to generate the MST of a *weighted connected graph. The algorithm begins at an arbitrary vertex v, and *selects a next vertex u, where v and u are connected by a weighted edge whose *weight is the minimum of all edges connected to v. * @references Page 319 \"Introduction to the Design and Analysis of Algorithms\" *- Anany Levitin * * To test - run './prim -test' * prim() will find the MST of the following adj. matrix: * *\t0 1 2 3 * 1 0 4 6 * 2 4 0 5 * 3 6 5 0 * * The minimum spanning tree for the above weighted connected graph is given by *the following adj matrix: * *\t0 1 2 3 *\t1 0 0 0 *\t2 0 0 0 *\t3 0 0 0 * * * The following [link](https://visualgo.net/en/mst) provides a visual *representation of graphs that can be used to test/verify the algorithm for *different adj matrices and their weighted, connected graphs. */ #include /// for assert() #include /// for uint16_t #include /// for IO operations #include /// for string comparison #define MAX 20 #define INF 999 /** * @brief Finds index of minimum element in edge list for an arbitrary vertex * @param arr graph row * @param N number of elements in arr * @returns index of minimum element in arr */ uint16_t minimum(uint16_t arr[], uint16_t N) { uint16_t index = 0; uint16_t min = INF; for (uint16_t i = 0; i \u003c N; i++) { if (arr[i] \u003c min) { min = arr[i]; index = i; } } return index; } /** * @brief Used to find MST of user-generated adj matrix G * @returns void */ void prim(uint16_t G[][MAX], uint16_t MST[][MAX], uint16_t V) { uint16_t u, v; uint16_t E_t[MAX], path[MAX]; uint16_t V_t[MAX], no_of_edges; E_t[0] = 0; // edges for current vertex V_t[0] = 1; // list of visited vertices for (uint16_t i = 1; i \u003c V; i++) { E_t[i] = G[i][0]; path[i] = 0; V_t[i] = 0; } no_of_edges = V - 1; while (no_of_edges \u003e 0) { u = minimum(E_t, V); while (V_t[u] == 1) { E_t[u] = INF; u = minimum(E_t, V); } v = path[u]; MST[v][u] = E_t[u]; MST[u][v] = E_t[u]; no_of_edges--; V_t[u] = 1; for (uint16_t i = 1; i \u003c V; i++) { if (V_t[i] == 0 \u0026\u0026 G[u][i] \u003c E_t[i]) { E_t[i] = G[u][i]; path[i] = v; } } } } /** * @brief Self-test implementations * @returns void */ static void test(uint16_t G[][MAX], uint16_t MST[][MAX], uint16_t V) { uint16_t test[4][4] = { {0, 1, 2, 3}, {1, 0, 4, 6}, {2, 4, 0, 5}, {3, 6, 5, 0}}; uint16_t solution[4][4] = { {0, 1, 2, 3}, {1, 0, 0, 0}, {2, 0, 0, 0}, {3, 0, 0, 0}}; V = 4; for (uint16_t i = 0; i \u003c V; ++i) { for (uint16_t j = 0; j \u003c V; ++j) { G[i][j] = test[i][j]; } } prim(\u0026(*G), \u0026(*MST), V); for (uint16_t i = 0; i \u003c V; ++i) { for (uint16_t j = 0; j \u003c V; ++j) { assert(MST[i][j] == solution[i][j]); } } } /** * @brief Function user_graph(); * gets user input adj. matrix and finds MST of that graph * @returns void */ void user_graph(uint16_t G[][MAX], uint16_t MST[][MAX], uint16_t V) { printf(\"Enter the number of vertices: \"); scanf(\" %hd\", \u0026V); assert(V \u003c= MAX); printf(\"Enter the adj matrix\\n\"); uint16_t i, j; for (i = 0; i \u003c V; ++i) { for (j = 0; j \u003c V; ++j) { printf(\"G[%d][%d]: \", i, j); scanf(\" %hd\", \u0026G[i][j]); if (G[i][j] == 0) G[i][j] = INF; } } prim(\u0026(*G), \u0026(*MST), V); printf(\"minimum spanning tree:\\n\"); for (i = 0; i \u003c V; ++i) { printf(\"\\n\"); for (j = 0; j \u003c V; ++j) { printf(\"%d\\t\", MST[i][j]); } } } /** * @brief Main function * @param argc commandline argument count (ignored) * @param argv commandline array of arguments (ignored) * @returns 0 on exit */ int main(int argc, char const *argv[]) { uint16_t G[MAX][MAX]; ///\u003c weighted, connected graph G uint16_t MST[MAX][MAX]; ///\u003c adj matrix to hold minimum spanning tree of G uint16_t V; ///\u003c number of vertices in V in G if (argc == 2 \u0026\u0026 strcmp(argv[1], \"-test\") == 0) { test(\u0026(*G), \u0026(*MST), V); } else { user_graph(\u0026(*G), \u0026(*MST), V); } return 0; } 3.4.4 leetcodeé¢˜ç›® æŸ æª¬æ°´æ‰¾é›¶ åˆ†å‘é¥¼å¹² 3.5 åŠ¨æ€è§„åˆ’ åŠ¨æ€è§„åˆ’(DP):æ˜¯ä¸€ç§é€šè¿‡æŠŠåŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•.å¸¸ç”¨äºé‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜,åŠ¨æ€è§„åˆ’æ—¶é—´é€šå¸¸è¿œå°äºæœ´ç´ è§£æ³•.\n3.5.1 åŸºæœ¬æ¦‚å¿µ åŠ¨æ€è§„åˆ’:è¦è§£ä¸€ä¸ªç»™å®šé—®é¢˜,éœ€è¦è§£å…¶ä¸åŒéƒ¨åˆ†(å³å­é—®é¢˜),å†æ ¹æ®å­é—®é¢˜çš„è§£ä»¥å¾—å‡ºåŸé—®é¢˜çš„è§£.é€šå¸¸å­é—®é¢˜éå¸¸ç›¸ä¼¼,å­é—®é¢˜è§£ç®—å‡ºå,å°†å…¶è®°å½•. åŠ¨æ€è§„åˆ’è¿‡ç¨‹æ˜¯:æ¯æ¬¡å†³ç­–ä¾èµ–äºå½“å‰çŠ¶æ€,åˆéšå³å¼•èµ·çŠ¶æ€è½¬ç§».ä¸€ä¸ªå†³ç­–åºåˆ—å°±æ˜¯åœ¨å˜åŒ–çš„çŠ¶æ€ä¸­äº§ç”Ÿé™¤ç•™çš„,è¿™ç§å¤šé˜¶æ®µæœ€ä¼˜åŒ–å†³ç­–è§£å†³è¿‡ç¨‹ç§°ä¸ºåŠ¨æ€è§„åˆ’. åŠ¨æ€è§„åˆ’ä¸åˆ†æ²»æ³•çš„åŒºåˆ«æ˜¯å­é—®é¢˜é€šå¸¸ä¸æ˜¯ç‹¬ç«‹çš„.\n3.5.2 æè¿°ç®—æ³• å¯é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„é—®é¢˜3ä¸ªæ€§è´¨: 1) æœ€ä¼˜åŒ–åŸç†:å¦‚æœé—®é¢˜çš„æœ€ä¼˜è§£æ‰€åŒ…å«çš„å­é—®é¢˜çš„è§£ä¹Ÿæ˜¯æœ€ä¼˜çš„,åˆ™ç§°è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„,å³æ»¡è¶³æœ€ä¼˜åŒ–åŸç†. 2) æ— åæ•ˆæ€§:å³æŸé˜¶æ®µçŠ¶æ€ç¡®å®šå,å°±ä¸å—ä¹‹åçš„å†³ç­–å½±å“,å³æŸçŠ¶æ€ä»¥åè¿‡ç¨‹ä¸å½±å“ä»¥å‰çš„çŠ¶æ€,åªä¸å½“å‰çŠ¶æ€æœ‰å…³. 3) æœ‰é‡å å­é—®é¢˜:\nåŠ¨æ€è§„åˆ’æ‰€å¤„ç†çš„é—®é¢˜æ˜¯ä¸€ä¸ªå¤šé˜¶æ®µå†³ç­–é—®é¢˜,ç”±åˆå§‹çŠ¶æ€å¼€å§‹,é€šè¿‡ä¸­é—´é˜¶æ®µå†³ç­–çš„é€‰æ‹©,è¾¾åˆ°ç»“æŸçŠ¶æ€.å½¢æˆä¸€ä¸ªå†³ç­–åºåˆ—. åŠ¨æ€è§„åˆ’æ±‚è§£ä¸‰è¦ç´ :\n(1) é—®é¢˜çš„èŠ‚ç‚¹ (2) æ¯ä¸ªé˜¶æ®µçš„çŠ¶æ€ (3) ä»å‰ä¸€ä¸ªé˜¶æ®µè½¬åŒ–åˆ°åä¸€ä¸ªé˜¶æ®µä¹‹é—´çš„é€’æ¨å…³ç³»\næœ€ä¼˜å†³ç­–è¡¨\nf(n, m) = max{f(n-1, m), f(n-1, m-w[n]) + P(n, m)}\n3.5.3 èƒŒåŒ…é—®é¢˜ é—®é¢˜æè¿°: æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªä½“ç§¯ä¸ºVçš„èƒŒåŒ….(æ¯ç§ç‰©å“åªæœ‰ä¸€ä»¶)ç¬¬iä»¶ç‰©å“çš„ä½“ç§¯æ˜¯volume[i],ä»·å€¼æ˜¯value[i],æ±‚è§£å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„ä½“ç§¯ç»¼åˆä¸è¶…è¿‡èƒŒåŒ…ä½“ç§¯,ä¸”ä»·å€¼æ€»å’Œæœ€å¤§. è§£é¢˜æ€è·¯: p[i][j]ä»£è¡¨å‰iä»¶ç‰©å“ç»„åˆåœ¨å®¹é‡ä¸ºjçš„èƒŒåŒ…çš„æœ€ä¼˜è§£.å°†å‰iä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºvçš„èƒŒåŒ…ä¸­è¿™ä¸ªå­é—®é¢˜,è‹¥åªè€ƒè™‘ç¬¬iä»¶ç‰©å“çš„ç­–ç•¥(æ”¾æˆ–ä¸æ”¾),é‚£ä¹ˆå¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªåªç‰µæ‰¯å‰i-1ç‰©å“çš„é—®é¢˜.å¦‚æœä¸æ”¾ç¬¬iä»¶ç‰©å“,é‚£ä¹ˆé—®é¢˜å°±è½¬åŒ–ä¸º\"å‰i-1ä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºvçš„èƒŒåŒ…ä¸­,ä»·å€¼ä¸ºp[i-1][v];å¦‚æœæ”¾ç¬¬iä»¶ç‰©å“,é‚£ä¹ˆé—®é¢˜å°±è½¬åŒ–ä¸º\"å‰i-1ç‰©å“æ”¾å…¥å‰©ä¸‹çš„å®¹é‡ä¸ºv-volume[i]çš„èƒŒåŒ…ä¸­\",æ­¤æ—¶èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼å°±æ˜¯p[i-1][j-volume]å†åŠ ä¸Šé€šè¿‡æ”¾å…¥ç¬¬iä»¶ç‰©å“è·å¾—çš„ä»·å€¼value[i].\nçŠ¶æ€è½¬ç§»æ–¹ç¨‹:\np[i][j] = max{p[i-1][j-vol] + value[i], p[i-1][j]} ä¼ªä»£ç æè¿°:\nfor i = 1...N for j = V...0 p[j] = max{p[j-volume[i]] + value[i], p[j]}; dp #include int v[]={6,3,5,4,6}; int w[]={2,2,6,5,4}; int dp[100][100]; int Max(int a,int b){ if(a\u003e=b){ return a; }else{ return b; } } int getAns(int i,int wi) { for(int x=0;x\u003c=i;x++) { dp[x][0]=0; } for(int x = 0; x \u003c= wi; x++) { dp[0][x]=0; } for(int x = 1; x \u003c= i; x++) { for(int y=1;y\u003c=wi;y++) { if(y\u003e=w[x-1]) { dp[x][y]=Max(dp[x-1][y],v[x-1]+dp[x-1][y-w[x-1]]); } else { dp[x][y]=dp[x-1][y]; } printf(\"%4d\",dp[x][y]); } printf(\"\\n\"); } return dp[i][wi]; } int main() { int max=getAns(5,10); printf(\"%d\\n\",max); return 0; } 3.5.4 æœ€é•¿å…¬å…±å­åºåˆ— é—®é¢˜æè¿°: ä¸€ä¸ªæ•£åˆ—S,å¦‚æœåˆ†åˆ«æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªå·²çŸ¥æ•°åˆ—çš„å­åºåˆ—,ä¸”æ˜¯æ‰€æœ‰åŒ¹é…æ­¤æ¡ä»¶åºåˆ—ä¸­æœ€é•¿çš„,åˆ™Sç§°ä¸ºå·²çŸ¥åºåˆ—çš„æœ€é•¿å…¬å…±å­åºåˆ—(LCS) ç»™å®šä¸¤ä¸ªåºåˆ—X,Y,æ±‚ä¸¤ä¸ªåºåˆ—çš„æœ€é•¿å…¬å…±å­åºåˆ—. è§£é¢˜æ€è·¯: æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜å­˜åœ¨æœ€ä¼˜å­ç»“æ„ï¼›è¿™ä¸ªé—®é¢˜å¯åˆ†è§£æˆæ›´å°ï¼Œæ›´ç®€å•çš„â€œå­é—®é¢˜â€ï¼Œè¿™ä¸ªå­é—®é¢˜å¯ä»¥åˆ†æˆæ›´å¤šçš„å­é—®é¢˜ï¼Œå› æ­¤æ•´ä¸ªé—®é¢˜å°±å˜å¾—ç®€å•äº†ã€‚ æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜çš„å­é—®é¢˜çš„è§£æ˜¯å¯ä»¥é‡å¤ä½¿ç”¨çš„ï¼Œå³ï¼Œæ›´é«˜çº§åˆ«çš„å­é—®é¢˜é€šå¸¸ä¼šé‡ç”¨ä½çº§å­é—®é¢˜çš„è§£ã€‚æ‹¥æœ‰è¿™ä¸ªä¸¤ä¸ªå±æ€§çš„é—®é¢˜å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æ¥è§£å†³ï¼Œè¿™æ ·å­é—®é¢˜çš„è§£å°±å¯ä»¥å­˜å‚¨èµ·æ¥ï¼Œè€Œä¸ç”¨é‡å¤è®¡ç®—ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦åœ¨ä¸€ä¸ªè¡¨ä¸­å­˜å‚¨åŒä¸€çº§åˆ«çš„å­é—®é¢˜çš„è§£ï¼Œå› æ­¤è¿™ä¸ªè§£å¯è¢«æ›´é«˜çº§çš„å­é—®é¢˜ä½¿ç”¨ã€‚è®¾æœ‰äºŒç»´æ•°ç»„f[i][j]è¡¨ç¤ºXçš„iä½å’ŒYçš„jä½ä¹‹å‰çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œåˆ™æœ‰ï¼š\nf[1][1] = same(1,1) f[i][j] = max{f[i-1][j-1] + same(i, j), f[i-1][j], f[i][j-1]} å…¶ä¸­ï¼Œsame(a,b)å½“Xçš„ç¬¬aä½ä¸Yçš„ç¬¬bä½å®Œå…¨ç›¸åŒæ˜¯\"1\"ï¼Œå¦åˆ™ä½\"1\"ã€‚ æ­¤æ—¶ï¼Œf[i][j]ä¸­æœ€å¤§çš„æ•°ä¾¿æ˜¯Xå’ŒYçš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œä¾æ®è¯¥æ•°ç»„å›æº¯ï¼Œä¾¿å¯æ‰¾å‡ºæœ€é•¿å…¬å…±å­åºåˆ—ã€‚ è¯¥ç®—æ³•çš„ç©ºé—´ã€æ—¶é—´å¤æ‚åº¦ä½O(n^2)ï¼Œç»è¿‡ä¼˜åŒ–åï¼Œç©ºé—´å¤æ‚åº¦ä½O(n)ã€‚\nä¼ªä»£ç :\nfunction LCSLength(X[1..m], Y[1..n]) C = array(0..m, 0..n) for i := 0..m C[i, 0] = 0; for j := 0..n C[0, j] = 0 for i := 1..m for j := 1..n if X[i] = Y[j] C[i, j] := C[i-1, j-1] + 1 else C[i, j] := max(C[i, j-1], C[i-1,j]) return C[m, n] æœ€é•¿å…¬å…±åºåˆ—æ•° #include #include int dp[100][100]; int Max(int a,int b,int c){ int max=a; if(b\u003emax){ max=b; } if(c\u003emax){ max=c; } return max; } int getMax(char s1[],char s2[],int m,int n){ int i,j; for(i=0;i\u003cm;i++){ //å½“ s2å– 1ä¸ªçš„æ—¶å€™ ,s1ä¸ºå¯å˜é•¿åº¦ if(s1[i]==s2[0]){ dp[i][0]=1; for(j=i+1;j\u003cm;j++){ dp[j][0]=1; } break; } } for(i=0;i\u003cn;i++){ //å½“ s1å– 1ä¸ªçš„æ—¶å€™ ,s2ä¸ºå¯å˜é•¿åº¦ if(s2[i]==s1[0]){ dp[0][i]=1; for(j=i+1;j\u003cn;j++){ dp[0][j]=1; } break; } } for(i=1;i\u003cm;i++){ for(j=1;j\u003cn;j++){ if(s1[i]==s2[j]){ dp[i][j]=Max(dp[i-1][j-1]+1,dp[i-1][j],dp[i][j-1]); }else{ dp[i][j]=dp[i-1][j]\u003e=dp[i][j-1]?dp[i-1][j]:dp[i][j-1]; } } } return dp[m-1][n-1]; } int main() { int m,n; char s1[100]; char s2[100]; gets(s1); gets(s2); m=strlen(s1); n=strlen(s2); printf(\"%d\\n\",getMax(s1,s2,m,n)); return 0; } Fibonacci_dp // Fibonacci Series using Dynamic Programming /* Author: Moinak Banerjee(moinak878) Date : 1 October ,2019 */ #include #include int fib(int n) { // Out of Range checking if (n \u003c 0) { printf(\"\\nNo Such term !\\n\"); exit(0); } // declaring array to store fibonacci numbers -- memoization int *f = (int *)malloc((n + 2) * sizeof(int)); // one extra to handle edge case, n = 0 int i; /* let 0th and 1st number of the series be 0 and 1*/ f[0] = 0; f[1] = 1; for (i = 2; i \u003c= n; i++) { // Adding the previous 2 terms to make the 3rd term f[i] = f[i - 1] + f[i - 2]; } int out = f[n]; free(f); return out; } int main(int argc, char *argv[]) { int number; // Asks for the number/position of term in Fibonnacci sequence if (argc == 2) { number = atoi(argv[1]); } else { printf(\"Enter the value of n(n starts from 0 ): \"); scanf(\"%d\", \u0026number); } printf(\"The nth term is : %d \\n\", fib(number)); return 0; } 3.5.5 leetcodeé¢˜ç›® æœ€å¤§å­åºå’Œ ç¼–è¾‘è·ç¦» å¤§ç¤¼åŒ… æœ€é•¿ä¸Šå‡å­åºåˆ— 3.6 å›æº¯æ³• 3.6.1 åŸºæœ¬æ¦‚å¿µ å›æº¯ç®—æ³•å®é™…ä¸Šä¸€ä¸ªç±»ä¼¼æšä¸¾çš„æœç´¢å°è¯•è¿‡ç¨‹,ä¸»è¦æ˜¯åœ¨æœç´¢å°è¯•è¿‡ç¨‹ä¸­å¯»æ‰¾é—®é¢˜çš„è§£,å½“å‘ç°å·²ä¸æ»¡è¶³æ±‚è§£æ¡ä»¶æ—¶,å°±\"å›æº¯\"è¿”å›,å°è¯•åˆ«çš„è·¯å¾„. å›æº¯æ³•æ˜¯ä¸€ç§è¿­ä»£æœç´¢æ³•,æŒ‰é€‰ä¼˜æ¡ä»¶è¯¦æƒ…æœç´¢,ä»¥è¾¾åˆ°ç›®æ ‡.ä½†å½“æ¢ç´¢åˆ°æŸä¸€æ­¥æ—¶,å‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡,å°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©,è¿™ç§èµ°ä¸é€šå°±é€€å›å†èµ°çš„æŠ€æœ¯ä¸ºå›æº¯æ³•,è€Œæ»¡è¶³å›æº¯æ¡ä»¶çš„æŸä¸ªçŠ¶æ€çš„ç‚¹ç§°ä¸º\"å›æº¯æ³•\". è®¸å¤šå¤æ‚åº¦,è§„æ¨¡è¾ƒå¤§çš„é—®é¢˜éƒ½çœ‹çœ‹è€Œå·²ä½¿ç”¨å›æº¯æ³•,æœ‰\"é€šç”¨è§£é¢˜æ–¹æ³•\"çš„ç¾ç§°.\nåœ¨åŒ…å«é—®é¢˜çš„æ‰€æœ‰è§£çš„è§£ç©ºé—´æ ‘ä¸­,æŒ‰ç…§æ·±åº¦ä¼˜å…ˆçš„ç­–ç•¥,ä»æ ¹èŠ‚ç‚¹å‡ºå‘æ·±åº¦æ¢ç´¢è§£ç©ºé—´æ ‘.å½“æ¢ç´¢åˆ°æŸä¸€èŠ‚ç‚¹æ—¶,è¦å…ˆåˆ¤æ–­è¯¥èŠ‚ç‚¹æ˜¯å¦åŒ…å«é—®é¢˜çš„è§£,å¦‚æœåŒ…å«,å°±ä»è¯¥èŠ‚ç‚¹å‡ºå‘ç»§ç»­æ¢ç´¢ä¸‹å»,å¦‚æœè¯¥èŠ‚ç‚¹ä¸åŒ…å«é—®é¢˜çš„è§£,åˆ™é€å±‚å‘å…¶è¶³åèŠ‚ç‚¹å›æº¯.(å…¶å®å›æº¯æ³•å°±æ˜¯å †éšå¼å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•). è‹¥ç”¨å›æº¯æ³•æ±‚é—®é¢˜çš„æ‰€æœ‰è§£æ—¶,è¦å›æº¯çš„æ ¹,ä¸”æ ¹èŠ‚ç‚¹çš„æ‰€æœ‰å¯è¡Œçš„å­æ ‘éƒ½è¦å·²è¢«æœç´¢éæ‰ç»“æŸ,è€Œè‹¥ä½¿ç”¨å›æº¯æ³•æ±‚ä»»ä¸€ä¸ªè§£æ—¶,åªè¦æœç´¢åˆ°é—®é¢˜çš„ä¸€ä¸ªè§£å°±å¯ä»¥ç»“æŸ. å›æº¯æ³•ä¸€èˆ¬è§£é¢˜æ­¥éª¤: 1.é’ˆå¯¹æ‰€ç»™é—®é¢˜,ç¡®å®šé—®é¢˜çš„è§£ç©ºé—´;é¦–å…ˆåº”æ˜ç¡®å®šä¹‰é—®é¢˜çš„è§£ç©ºé—´,è§£ç©ºé—´åº”è‡³å°‘åŒ…å«é—®é¢˜çš„ä¸€ä¸ª(æœ€ä¼˜)è§£. 2.ç¡®å®šèŠ‚ç‚¹çš„æ‰©å±•æœç´¢è§„åˆ™ 3.ä»¥æ·±åº¦ä¼˜å…ˆæ–¹å¼æœç´¢è§£ç©ºé—´,å¹¶åœ¨æœç´¢è¿‡ç¨‹ä¸­ç”¨å‰ªæå‡½æ•°é¿å…æ— æ•ˆæœç´¢\nä¼ªä»£ç :\n// void iterativeBacktrack() { int t = 1; while (t \u003e 0) { if (f(n, t) \u003c= g(n, t)) { for (int i = f(n,t); i \u003c= g(n,t); i++) { x[t] = h(i); if (constraint(t) \u0026\u0026 bound(t)) { // if (solution(t)) { output(x); } else { t++; } } else { t--; } } } } } 3.6.2 å…«çš‡åé—®é¢˜ é—®é¢˜æè¿° å…«çš‡åé—®é¢˜ä½¿ä¸€ä¸ªä»¥å›½é™…è±¡æ£‹ä¸ºèƒŒæ™¯çš„é—®é¢˜:å¦‚ä½•èƒ½å¤Ÿåœ¨ 8x8 çš„å›½é™…è±¡æ£‹æ£‹ç›˜ä¸Šæ”¾ç€å…«ä¸ªçš‡å,ä½¿å¾—ä»»ä½•ä¸€ä¸ªçš‡åéƒ½æ— æ³•ç›´æ¥åƒæ‰å…¶ä»–çš„çš‡å?ä¸ºäº†è¾¾åˆ°æ­¤ç›®çš„,ä»»ä¸¤ä¸ªçš‡åéƒ½ä¸èƒ½å¤„äºåŒä¸€æ¡æ¨ªè¡Œ,çºµè¡Œæˆ–æ–œçº¿ä¸Š. è½¬åŒ–è§„åˆ™:å…¶å®å…«çš‡åé—®é¢˜å¯ä»¥æ¨å¹¿ä¸ºæ›´ä¸€èˆ¬çš„nçš‡åæ‘†æ”¾é—®é¢˜;è¿™æ—¶æ£‹ç›˜å¤§å°å˜ä¸ºnxn,è€Œçš‡åä¸ªæ•°ä¹Ÿå˜æˆn.å½“ä¸”ä»…å½“n = 1 æˆ– n \u003e= 4 æ—¶é—´é—®é¢˜æœ‰è§£ã€‚ä»¤ä¸€ä¸ªä¸€ç»´æ•°ç»„a[n]ä¿å­˜æ‰€å¾—è§£ï¼Œå…¶ä¸­a[i]è¡¨ç¤ºæŠŠç¬¬iä¸ªçš‡åæ”¾åœ¨ç¬¬iè¡Œçš„åˆ—æ•°(æ³¨æ„içš„å€¼éƒ½æ˜¯ä»0å¼€å§‹è®¡ç®—çš„),ä¸‹é¢å°±å…«çš‡åé—®é¢˜çš„çº¦æŸæ¡ä»¶ã€‚ ï¼ˆ1ï¼‰å› ä¸ºæ‰€æœ‰çš„çš‡åéƒ½ä¸èƒ½æ”¾åœ¨åŒä¸€åˆ—ï¼Œå› ä¸ºä»»æ„ä¸¤ä¸ªa[0]â€¦a[7]çš„å€¼ä¸èƒ½å­˜åœ¨ç›¸åŒçš„ä¸¤ä¸ªå€¼ ï¼ˆ2ï¼‰æ‰€æœ‰çš„çš‡åéƒ½ä¸èƒ½åœ¨å †è§’çº¿ä¸Šï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•æ£€æµ‹ä¸¤ä¸ªçš‡åæ˜¯å¦åœ¨åŒä¸€ä¸ªå¯¹è§’çº¿ä¸Šï¼Ÿæˆ‘ä»¬å°†æ£‹ç›˜çš„æ–¹æ ¼æˆä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå¦‚ä¸‹ï¼š å‡è®¾æœ‰ä¸¤ä¸ªçš‡åè¢«æ”¾ç½®åœ¨(i,j)å’Œ(k,l)çš„ä½ç½®ä¸Šï¼Œæ˜æ˜¾ï¼Œå½“ä¸”ä»…å½“|i-k|=|j-l|æ—¶ï¼Œä¸¤ä¸ªçš‡åæ‰åœ¨åŒä¸€æ¡å¯¹è§’çº¿ä¸Šã€‚\nä¼ªä»£ç æè¿°\nint queens(int Queens) { int i, k, flag, not_finish = 1, count = 0, // æ­£åœ¨å¤„ç†çš„å…ƒç´ ä¸‹æ ‡ï¼Œè¡¨ç¤ºå‰i-1ä¸ªå…ƒç´ å·²ç¬¦åˆè¦æ±‚ï¼Œåœ¨å¤„ç†ç¬¬iä¸ªå…ƒç´  int a[Queeens+1]; // å…«çš‡åé—®é¢˜çš„çš‡åæ‰€åœ¨çš„è¡Œåˆ—ä½ç½®ï¼Œä»1å¼€å§‹ç®—èµ·ï¼Œæ‰€ä»¥åŠ 1 i = 1; a[1] = 1; // ä¸ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ èµ‹åˆå€¼ while (not_finish) { // not_finish=1 å¤„ç†å°šæœªç»“æŸ while(not_finish \u0026\u0026 i \u003c= Queens) { // å¤„ç†å°šæœªç»“æŸä¸”è¿˜æ²¡å¤„ç†åˆ°ç¬¬Queeensä¸ªå…ƒç´  for (flag=1, k=1; flag \u0026\u0026 k \u003c i; k++) { // åˆ¤æ–­æ˜¯å¦æœ‰å¤šä¸ªçš‡ååœ¨åŒä¸€è¡Œ if (a[k] == a[i]) { flag = 0; } } // åˆ¤æ–­æ˜¯å¦æœ‰å¤šä¸ªçš‡ååœ¨åŒä¸€ä¸ªå¯¹è§’çº¿ for (k=1; flag \u0026\u0026 k \u003c i; k++) { if ((a[i] == a[k] - (k-i)) || (a]i] == a[k] + [k-i])) { flag = 0; } } } } } 3.6.3 leetcodeé¢˜ç›® Nçš‡å æ‹¬å·ç”Ÿæˆ å•è¯æœç´¢ è§£æ•°ç‹¬ 4 å‚è€ƒé“¾æ¥ å¤æ‚åº¦é€ŸæŸ¥è¡¨ https://liam.page/2016/06/20/big-O-cheat-sheet/ çº¿æ€§è¡¨ https://zh.wikipedia.org/wiki/%E7%BA%BF%E6%80%A7%E8%A1%A8 å•é“¾è¡¨ https://www.jianshu.com/p/73f0d8f807aa http://cocofe.cn/\næ•°æ®ç»“æ„ https://github.com/wangzheng0822/algo/ ",
  "wordCount" : "31223",
  "inLanguage": "en",
  "datePublished": "2022-07-05T00:17:58+08:00",
  "dateModified": "2022-07-05T00:17:58+08:00",
  "author":[{
    "@type": "Person",
    "name": "Zain"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://liuz0123.gitee.io/zain/posts/tech/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "zain's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://liuz0123.gitee.io/zain/img/Q.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>



<script async src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>


<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://liuz0123.gitee.io/zain/" accesskey="h" title="Zain&#39;s Blog (Alt + H)">
            <img src="https://liuz0123.gitee.io/zain/img/Q.gif" alt="logo" aria-label="logo"
                 height="35">Zain&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                         stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://liuz0123.gitee.io/zain/search" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                <span>ğŸ” æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://liuz0123.gitee.io/zain/" title="ğŸ  ä¸»é¡µ">
                <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://liuz0123.gitee.io/zain/posts" title="ğŸ“š æ–‡ç« ">
                <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://liuz0123.gitee.io/zain/tags" title="ğŸ§© æ ‡ç­¾">
                <span>ğŸ§© æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://liuz0123.gitee.io/zain/archives/" title="â± æ—¶é—´è½´">
                <span>â± æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://liuz0123.gitee.io/zain/about" title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº">
                <span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span>
                </a>
            </li>
            <li>
                <a href="https://liuz0123.gitee.io/zain/links" title="ğŸ¤ é—²è¨€ä¿—è¯­">
                <span>ğŸ¤ é—²è¨€ä¿—è¯­</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="https://liuz0123.gitee.io/zain/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://liuz0123.gitee.io/zain/posts/">ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://liuz0123.gitee.io/zain/posts/tech/">ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯</a></div>
            <h1 class="post-title">
                æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€
            </h1>
            <div class="post-meta">Create:&nbsp;<span title='2022-07-05 00:17:58 +0800 CST'>2022-07-05</span>&nbsp;|&nbsp;Update:&nbsp;2022-07-05&nbsp;|&nbsp;Words:&nbsp;31223&nbsp;|&nbsp;&nbsp;63 min&nbsp;|&nbsp;
&nbsp;Zain



                &nbsp;|&nbsp;tags: &nbsp;
                <ul class="post-tags-meta">
                    <a href="https://liuz0123.gitee.io/zain/tags/leetcode/">leetcode</a>
                </ul>

                
                <span id="busuanzi_container_page_pv">
                &nbsp;| Viewers: <span id="busuanzi_value_page_pv"></span>
            </span>

</div>
        </header> 
        <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">æ–‡ç« ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-%e7%a8%8b%e5%ba%8f%e6%80%a7%e8%83%bd" aria-label="1 ç¨‹åºæ€§èƒ½">1 ç¨‹åºæ€§èƒ½</a><ul>
                        
                <li>
                    <a href="#11-%e7%a9%ba%e9%97%b4%e5%a4%8d%e6%9d%82%e5%ba%a6" aria-label="1.1 ç©ºé—´å¤æ‚åº¦">1.1 ç©ºé—´å¤æ‚åº¦</a></li>
                <li>
                    <a href="#12-%e6%97%b6%e9%97%b4%e5%a4%8d%e6%9d%82%e5%ba%a6" aria-label="1.2 æ—¶é—´å¤æ‚åº¦">1.2 æ—¶é—´å¤æ‚åº¦</a><ul>
                        
                <li>
                    <a href="#121-%e5%b8%b8%e8%a7%81%e7%ae%97%e6%b3%95%e5%a4%a7o" aria-label="1.2.1 å¸¸è§ç®—æ³•å¤§O">1.2.1 å¸¸è§ç®—æ³•å¤§O</a></li>
                <li>
                    <a href="#122-%e5%b8%b8%e8%a7%81%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" aria-label="1.2.2 å¸¸è§æ•°æ®ç»“æ„">1.2.2 å¸¸è§æ•°æ®ç»“æ„</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%9c%ac%e7%ab%a0%e5%8f%82%e8%80%83" aria-label="æœ¬ç« å‚è€ƒï¼š">æœ¬ç« å‚è€ƒï¼š</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84" aria-label="2 åŸºæœ¬æ•°æ®ç»“æ„">2 åŸºæœ¬æ•°æ®ç»“æ„</a><ul>
                        
                <li>
                    <a href="#21-%e7%ba%bf%e6%80%a7%e8%a1%a8" aria-label="2.1 çº¿æ€§è¡¨">2.1 çº¿æ€§è¡¨</a><ul>
                        
                <li>
                    <a href="#211-%e6%95%b0%e7%bb%84" aria-label="2.1.1 æ•°ç»„">2.1.1 æ•°ç»„</a></li>
                <li>
                    <a href="#212-%e5%8d%95%e9%93%be%e8%a1%a8" aria-label="2.1.2 å•é“¾è¡¨">2.1.2 å•é“¾è¡¨</a></li>
                <li>
                    <a href="#213-%e5%8f%8c%e9%93%be%e8%a1%a8" aria-label="2.1.3 åŒé“¾è¡¨">2.1.3 åŒé“¾è¡¨</a></li>
                <li>
                    <a href="#214-%e8%b7%b3%e8%a1%a8" aria-label="2.1.4 è·³è¡¨">2.1.4 è·³è¡¨</a></li>
                <li>
                    <a href="#215-%e6%a0%88" aria-label="2.1.5 æ ˆ">2.1.5 æ ˆ</a></li>
                <li>
                    <a href="#216-%e9%98%9f%e5%88%97" aria-label="2.1.6 é˜Ÿåˆ—">2.1.6 é˜Ÿåˆ—</a></li>
                <li>
                    <a href="#217-leetcode%e9%a2%98%e7%9b%ae" aria-label="2.1.7 leetcodeé¢˜ç›®">2.1.7 leetcodeé¢˜ç›®</a></li></ul>
                </li>
                <li>
                    <a href="#22-%e5%93%88%e5%b8%8c%e8%a1%a8" aria-label="2.2 å“ˆå¸Œè¡¨">2.2 å“ˆå¸Œè¡¨</a><ul>
                        
                <li>
                    <a href="#221-%e5%93%88%e5%b8%8c%e5%87%bd%e6%95%b0%e8%ae%be%e8%ae%a1" aria-label="2.2.1 å“ˆå¸Œå‡½æ•°è®¾è®¡">2.2.1 å“ˆå¸Œå‡½æ•°è®¾è®¡</a></li>
                <li>
                    <a href="#222-%e5%93%88%e5%b8%8c%e5%86%b2%e7%aa%81" aria-label="2.2.2 å“ˆå¸Œå†²çª">2.2.2 å“ˆå¸Œå†²çª</a></li>
                <li>
                    <a href="#223-uthash" aria-label="2.2.3 uthash">2.2.3 uthash</a></li>
                <li>
                    <a href="#224-leetcode%e9%a2%98%e7%9b%ae" aria-label="2.2.4 leetcodeé¢˜ç›®">2.2.4 leetcodeé¢˜ç›®</a></li></ul>
                </li>
                <li>
                    <a href="#23-%e6%a0%91%e4%b8%8e%e4%ba%8c%e5%8f%89%e6%a0%91" aria-label="2.3 æ ‘ä¸äºŒå‰æ ‘">2.3 æ ‘ä¸äºŒå‰æ ‘</a><ul>
                        
                <li>
                    <a href="#231-%e6%a6%82%e8%bf%b0" aria-label="2.3.1 æ¦‚è¿°">2.3.1 æ¦‚è¿°</a></li>
                <li>
                    <a href="#232-%e6%a0%91%e7%9a%84%e7%a7%8d%e7%b1%bb" aria-label="2.3.2 æ ‘çš„ç§ç±»">2.3.2 æ ‘çš„ç§ç±»</a></li>
                <li>
                    <a href="#233-%e4%ba%8c%e5%8f%89%e6%a0%91" aria-label="2.3.3 äºŒå‰æ ‘">2.3.3 äºŒå‰æ ‘</a></li>
                <li>
                    <a href="#234-%e4%ba%8c%e5%8f%89%e6%9f%a5%e6%89%be%e6%a0%91bst" aria-label="2.3.4 äºŒå‰æŸ¥æ‰¾æ ‘(BST)">2.3.4 äºŒå‰æŸ¥æ‰¾æ ‘(BST)</a></li>
                <li>
                    <a href="#235-%e5%b9%b3%e8%a1%a1%e6%a0%91" aria-label="2.3.5 å¹³è¡¡æ ‘">2.3.5 å¹³è¡¡æ ‘</a></li>
                <li>
                    <a href="#236-%e5%a0%86%e6%a0%91%e5%92%8c%e4%bc%98%e5%85%88%e9%98%9f%e5%88%97" aria-label="2.3.6 å †æ ‘å’Œä¼˜å…ˆé˜Ÿåˆ—">2.3.6 å †æ ‘å’Œä¼˜å…ˆé˜Ÿåˆ—</a></li>
                <li>
                    <a href="#237-leetcode%e9%a2%98%e7%9b%ae" aria-label="2.3.7 leetcodeé¢˜ç›®">2.3.7 leetcodeé¢˜ç›®</a></li></ul>
                </li>
                <li>
                    <a href="#24-%e5%9b%be" aria-label="2.4 å›¾">2.4 å›¾</a><ul>
                        
                <li>
                    <a href="#241-%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86" aria-label="2.4.1 åŸºç¡€çŸ¥è¯†">2.4.1 åŸºç¡€çŸ¥è¯†</a></li>
                <li>
                    <a href="#242-%e5%9b%be%e8%a1%a8%e7%a4%ba" aria-label="2.4.2 å›¾è¡¨ç¤º">2.4.2 å›¾è¡¨ç¤º</a></li>
                <li>
                    <a href="#243-%e5%9b%be%e9%81%8d%e5%8e%86" aria-label="2.4.3 å›¾éå†">2.4.3 å›¾éå†</a></li>
                <li>
                    <a href="#244-%e6%9c%80%e7%9f%ad%e8%b7%af%e5%be%84" aria-label="2.4.4 æœ€çŸ­è·¯å¾„">2.4.4 æœ€çŸ­è·¯å¾„</a></li>
                <li>
                    <a href="#245-%e6%8b%93%e6%89%91%e6%8e%92%e5%ba%8f" aria-label="2.4.5 æ‹“æ‰‘æ’åº">2.4.5 æ‹“æ‰‘æ’åº</a></li>
                <li>
                    <a href="#246-leetcode%e9%a2%98%e7%9b%ae" aria-label="2.4.6 leetcodeé¢˜ç›®">2.4.6 leetcodeé¢˜ç›®</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#3-%e5%b8%b8%e8%a7%81%e7%ae%97%e6%b3%95" aria-label="3 å¸¸è§ç®—æ³•">3 å¸¸è§ç®—æ³•</a><ul>
                        
                <li>
                    <a href="#31-%e9%80%92%e5%bd%92%e6%80%9d%e6%83%b3" aria-label="3.1 é€’å½’æ€æƒ³">3.1 é€’å½’æ€æƒ³</a><ul>
                        
                <li>
                    <a href="#311-%e9%80%92%e5%bd%92%e6%80%9d%e6%83%b3" aria-label="3.1.1 é€’å½’æ€æƒ³">3.1.1 é€’å½’æ€æƒ³</a></li>
                <li>
                    <a href="#312-%e9%80%92%e5%bd%92%e5%9f%ba%e6%9c%ac%e6%ad%a5%e9%aa%a4" aria-label="3.1.2 é€’å½’åŸºæœ¬æ­¥éª¤:">3.1.2 é€’å½’åŸºæœ¬æ­¥éª¤:</a></li>
                <li>
                    <a href="#313-%e4%bb%a3%e8%a1%a8%e9%a2%98%e7%9b%ae" aria-label="3.1.3 ä»£è¡¨é¢˜ç›®">3.1.3 ä»£è¡¨é¢˜ç›®</a></li>
                <li>
                    <a href="#314-%e8%a7%a6%e7%b1%bb%e6%97%81%e9%80%9a" aria-label="3.1.4 è§¦ç±»æ—é€š">3.1.4 è§¦ç±»æ—é€š</a></li></ul>
                </li>
                <li>
                    <a href="#32-%e5%88%86%e6%b2%bb%e6%b3%95" aria-label="3.2 åˆ†æ²»æ³•">3.2 åˆ†æ²»æ³•</a><ul>
                        
                <li>
                    <a href="#321-%e6%a6%82%e8%bf%b0" aria-label="3.2.1 æ¦‚è¿°">3.2.1 æ¦‚è¿°</a></li>
                <li>
                    <a href="#322-%e7%ad%96%e7%95%a5" aria-label="3.2.2 ç­–ç•¥">3.2.2 ç­–ç•¥</a></li>
                <li>
                    <a href="#323-%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="3.2.3 åº”ç”¨åœºæ™¯">3.2.3 åº”ç”¨åœºæ™¯</a></li>
                <li>
                    <a href="#324-%e6%ad%a5%e9%aa%a4" aria-label="3.2.4 æ­¥éª¤">3.2.4 æ­¥éª¤</a></li>
                <li>
                    <a href="#325-%e5%ba%94%e7%94%a8" aria-label="3.2.5 åº”ç”¨">3.2.5 åº”ç”¨</a></li>
                <li>
                    <a href="#326-leetcode%e9%a2%98%e7%9b%ae" aria-label="3.2.6 leetcodeé¢˜ç›®">3.2.6 leetcodeé¢˜ç›®</a></li></ul>
                </li>
                <li>
                    <a href="#33-%e6%8e%92%e5%ba%8f%e7%ae%97%e6%b3%95" aria-label="3.3 æ’åºç®—æ³•">3.3 æ’åºç®—æ³•</a><ul>
                        
                <li>
                    <a href="#331-%e5%86%92%e6%b3%a1%e6%8e%92%e5%ba%8f" aria-label="3.3.1 å†’æ³¡æ’åº">3.3.1 å†’æ³¡æ’åº</a></li>
                <li>
                    <a href="#332-%e9%80%89%e6%8b%a9%e6%8e%92%e5%ba%8f" aria-label="3.3.2 é€‰æ‹©æ’åº">3.3.2 é€‰æ‹©æ’åº</a></li>
                <li>
                    <a href="#333-%e6%8f%92%e5%85%a5%e6%8e%92%e5%ba%8f" aria-label="3.3.3 æ’å…¥æ’åº">3.3.3 æ’å…¥æ’åº</a></li>
                <li>
                    <a href="#334-%e5%b8%8c%e5%b0%94%e6%8e%92%e5%ba%8f" aria-label="3.3.4 å¸Œå°”æ’åº">3.3.4 å¸Œå°”æ’åº</a></li>
                <li>
                    <a href="#335-%e5%bd%92%e5%b9%b6%e6%8e%92%e5%ba%8f" aria-label="3.3.5 å½’å¹¶æ’åº">3.3.5 å½’å¹¶æ’åº</a></li>
                <li>
                    <a href="#336-%e5%bf%ab%e9%80%9f%e6%8e%92%e5%ba%8f" aria-label="3.3.6 å¿«é€Ÿæ’åº">3.3.6 å¿«é€Ÿæ’åº</a></li>
                <li>
                    <a href="#337-%e5%a0%86%e6%8e%92%e5%ba%8f" aria-label="3.3.7 å †æ’åº">3.3.7 å †æ’åº</a></li>
                <li>
                    <a href="#338-leetcode%e6%8e%92%e5%ba%8f" aria-label="3.3.8 leetcodeæ’åº">3.3.8 leetcodeæ’åº</a></li></ul>
                </li>
                <li>
                    <a href="#34-%e8%b4%aa%e5%bf%83%e7%ae%97%e6%b3%95" aria-label="3.4 è´ªå¿ƒç®—æ³•">3.4 è´ªå¿ƒç®—æ³•</a><ul>
                        
                <li>
                    <a href="#341-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="3.4.1 åŸºæœ¬æ¦‚å¿µ">3.4.1 åŸºæœ¬æ¦‚å¿µ</a></li>
                <li>
                    <a href="#342-%e6%8f%8f%e8%bf%b0" aria-label="3.4.2 æè¿°">3.4.2 æè¿°</a></li>
                <li>
                    <a href="#343-%e5%ba%94%e7%94%a8" aria-label="3.4.3 åº”ç”¨">3.4.3 åº”ç”¨</a></li>
                <li>
                    <a href="#344-leetcode%e9%a2%98%e7%9b%ae" aria-label="3.4.4 leetcodeé¢˜ç›®">3.4.4 leetcodeé¢˜ç›®</a></li></ul>
                </li>
                <li>
                    <a href="#35-%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92" aria-label="3.5 åŠ¨æ€è§„åˆ’">3.5 åŠ¨æ€è§„åˆ’</a><ul>
                        
                <li>
                    <a href="#351-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="3.5.1 åŸºæœ¬æ¦‚å¿µ">3.5.1 åŸºæœ¬æ¦‚å¿µ</a></li>
                <li>
                    <a href="#352-%e6%8f%8f%e8%bf%b0%e7%ae%97%e6%b3%95" aria-label="3.5.2 æè¿°ç®—æ³•">3.5.2 æè¿°ç®—æ³•</a></li>
                <li>
                    <a href="#353-%e8%83%8c%e5%8c%85%e9%97%ae%e9%a2%98" aria-label="3.5.3 èƒŒåŒ…é—®é¢˜">3.5.3 èƒŒåŒ…é—®é¢˜</a></li>
                <li>
                    <a href="#354-%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97" aria-label="3.5.4 æœ€é•¿å…¬å…±å­åºåˆ—">3.5.4 æœ€é•¿å…¬å…±å­åºåˆ—</a></li>
                <li>
                    <a href="#355-leetcode%e9%a2%98%e7%9b%ae" aria-label="3.5.5 leetcodeé¢˜ç›®">3.5.5 leetcodeé¢˜ç›®</a></li></ul>
                </li>
                <li>
                    <a href="#36-%e5%9b%9e%e6%ba%af%e6%b3%95" aria-label="3.6 å›æº¯æ³•">3.6 å›æº¯æ³•</a><ul>
                        
                <li>
                    <a href="#361-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="3.6.1 åŸºæœ¬æ¦‚å¿µ">3.6.1 åŸºæœ¬æ¦‚å¿µ</a></li>
                <li>
                    <a href="#362-%e5%85%ab%e7%9a%87%e5%90%8e%e9%97%ae%e9%a2%98" aria-label="3.6.2 å…«çš‡åé—®é¢˜">3.6.2 å…«çš‡åé—®é¢˜</a></li>
                <li>
                    <a href="#363-leetcode%e9%a2%98%e7%9b%ae" aria-label="3.6.3 leetcodeé¢˜ç›®">3.6.3 leetcodeé¢˜ç›®</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#4-%e5%8f%82%e8%80%83%e9%93%be%e6%8e%a5" aria-label="4 å‚è€ƒé“¾æ¥">4 å‚è€ƒé“¾æ¥</a>
                </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            const id = encodeURI(element.getAttribute('id')).toLowerCase();
            if (element === activeElement){
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        
        <div class="post-content"><h2 id="1-ç¨‹åºæ€§èƒ½">1 ç¨‹åºæ€§èƒ½<a hidden class="anchor" aria-hidden="true" href="#1-ç¨‹åºæ€§èƒ½">#</a></h2>
<p>â€‚ç¨‹åºæ€§èƒ½æ˜¯æŒ‡è¿è¡Œç¨‹åºæ‰€éœ€è¦çš„<strong>å†…å­˜å¤§å°(ç©ºé—´å¤æ‚åº¦)å’Œæ—¶é—´(æ—¶é—´å¤æ‚åº¦)</strong>,è¿è¡Œæ—¶é—´å’Œå ç”¨ç©ºé—´æ˜¯ç®—æ³•æ€§èƒ½æœ€å…³é”®çš„æŒ‡æ ‡ã€‚
â€‚è½¯ä»¶ç¨‹åºæ€§èƒ½è¡¡é‡æŒ‡æ ‡:
â€ƒå“åº”æ—¶é—´ã€å¯åŠ¨æ—¶é—´ã€æ‰§è¡Œæ—¶é—´ã€æ‰§è¡Œé€Ÿåº¦ã€è®¡ç®—èµ„æºåˆ†é…ã€å†…å­˜åˆ†é…ã€ç£ç›˜ååé‡ã€ç½‘ç»œååé‡ã€è´Ÿè½½æ‰¿å—èƒ½åŠ›</p>
<h3 id="11-ç©ºé—´å¤æ‚åº¦">1.1 ç©ºé—´å¤æ‚åº¦<a hidden class="anchor" aria-hidden="true" href="#11-ç©ºé—´å¤æ‚åº¦">#</a></h3>
<p>â€‚ç©ºé—´å¤æ‚åº¦(Space complexity)ï¼Œç®—æ³•å®Œå…¨è¿è¡Œæ‰€éœ€å­˜å‚¨ç©ºé—´ã€‚è¡¨ç¤ºç®—æ³•çš„å­˜å‚¨ç©ºé—´ä¸æ•°æ®è§„æ¨¡ä¹‹é—´çš„å¢é•¿å…³ç³»ï¼šå¸¸é‡ç©ºé—´ã€çº¿æ€§ç©ºé—´ã€äºŒç»´ç©ºé—´ã€‚
â€‚ç®—æ³•åœ¨è®¡ç®—æœºå­˜å‚¨å™¨ä¸Šæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´ï¼ŒåŒ…æ‹¬<strong>å­˜å‚¨ç¨‹åºæœ¬èº«å ç”¨çš„å­˜å‚¨ç©ºé—´ï¼Œç®—æ³•è¾“å…¥è¾“å‡ºæ•°æ®æ‰€å çš„å­˜å‚¨ç©ºé—´å’Œç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨çš„å­˜å‚¨ç©ºé—´</strong>ã€‚</p>
<h3 id="12-æ—¶é—´å¤æ‚åº¦">1.2 æ—¶é—´å¤æ‚åº¦<a hidden class="anchor" aria-hidden="true" href="#12-æ—¶é—´å¤æ‚åº¦">#</a></h3>
<p>â€‚æ—¶é—´å¤æ‚åº¦(Time complexity)ï¼Œç®—æ³•å®Œå…¨è¿è¡Œæ‰€éœ€è¿ç®—æ—¶é—´ã€‚æ—¶é—´å¤æ‚åº¦é€šå¸¸ç”¨å¤§Oç¬¦åˆè¡¨ç¤ºã€‚</p>
<p><img loading="lazy" src="https://i.loli.net/2021/10/27/UxWCvnRQLYz5eiG.png" alt="20211027233029"  />
</p>
<h4 id="121-å¸¸è§ç®—æ³•å¤§o">1.2.1 å¸¸è§ç®—æ³•å¤§O<a hidden class="anchor" aria-hidden="true" href="#121-å¸¸è§ç®—æ³•å¤§o">#</a></h4>
<p>â€ƒ å¸¸é‡é˜¶O(1); å¯¹æ•°é˜¶O(logn); çº¿æ€§é˜¶O(n); çº¿æ€§å¯¹æ•°é˜¶O(nlogn); kæ¬¡æ–¹é˜¶O(n^k)
<img loading="lazy" src="https://i.loli.net/2021/10/28/GWOFcUi3qdVIlmf.png" alt="20211028010721"  />
</p>
<h4 id="122-å¸¸è§æ•°æ®ç»“æ„">1.2.2 å¸¸è§æ•°æ®ç»“æ„<a hidden class="anchor" aria-hidden="true" href="#122-å¸¸è§æ•°æ®ç»“æ„">#</a></h4>
<p>{% pullquote mindmap mindmap-md %}</p>
<ul>
<li>æ•°æ®ç»“æ„ä¸ç®—æ³•
<ul>
<li>çº¿æ€§è¡¨
<ul>
<li>æ•°ç»„</li>
<li>é“¾è¡¨
<ul>
<li>å•é“¾è¡¨</li>
<li>åŒé“¾è¡¨</li>
<li>å¾ªç¯é“¾è¡¨</li>
<li>åŒå‘å¾ªç¯é“¾è¡¨</li>
<li>é™æ€é“¾è¡¨</li>
</ul>
</li>
<li>æ ˆ
<ul>
<li>é¡ºåºæ ˆ</li>
<li>é“¾å¼æ ˆ</li>
</ul>
</li>
<li>é˜Ÿåˆ—
<ul>
<li>æ™®é€šé˜Ÿåˆ—</li>
<li>åŒç«¯é˜Ÿåˆ—</li>
<li>é˜»å¡é˜Ÿåˆ—</li>
<li>å¹¶å‘é˜Ÿåˆ—</li>
<li>é˜»å¡å¹¶å‘é˜Ÿåˆ—</li>
</ul>
</li>
</ul>
</li>
<li>æ•£åˆ—è¡¨
<ul>
<li>æ•£åˆ—å‡½æ•°</li>
<li>å†²çªè§£å†³
<ul>
<li>é“¾è¡¨æ³•</li>
<li>å¼€æ”¾åœ°å€</li>
<li>å…¶ä»–</li>
</ul>
</li>
<li>åŠ¨æ€æ‰©å®¹</li>
<li>ä½ç½®</li>
</ul>
</li>
<li>æ ‘
<ul>
<li>äºŒå‰æ ‘
<ul>
<li>äºŒå‰æŸ¥æ‰¾æ ‘</li>
<li>å¹³è¡¡äºŒå‰æ ‘</li>
<li>å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘
<ul>
<li>AVLæ ‘</li>
<li>çº¢é»‘æ ‘</li>
</ul>
</li>
<li>å®Œå…¨äºŒå‰æ ‘</li>
<li>æ»¡äºŒå‰æ ‘</li>
</ul>
</li>
<li>å¤šè·¯æŸ¥æ‰¾æ ‘
<ul>
<li>Bæ ‘</li>
<li>B+æ ‘</li>
<li>2-3æ ‘</li>
<li>2-3-4æ ‘</li>
</ul>
</li>
<li>å †
<ul>
<li>å°é¡¶å †</li>
<li>å¤§é¡¶å †</li>
<li>ä¼˜å…ˆçº§é˜Ÿåˆ—</li>
<li>æ–æ³¢é‚£å¥‘å †</li>
<li>äºŒé¡¹å †</li>
</ul>
</li>
<li>å…¶ä»–
<ul>
<li>æ ‘çŠ¶æ•°ç»„</li>
<li>çº¿æ®µæ ‘</li>
</ul>
</li>
</ul>
</li>
<li>å›¾
<ul>
<li>å›¾çš„å­˜å‚¨
<ul>
<li>é‚»æ¥çŸ©é˜µ</li>
<li>é‚»æ¥è¡¨</li>
</ul>
</li>
<li>æ‹“æ‰‘æ’åº</li>
<li>æœ€çŸ­è·¯å¾„</li>
<li>å…³é”®è·¯å¾„</li>
<li>æœ€å°ç”Ÿæˆæ ‘</li>
<li>äºŒåˆ†å›¾</li>
<li>æœ€å¤§æµ</li>
</ul>
</li>
<li>å¤æ‚åº¦åˆ†æ
<ul>
<li>ç©ºé—´å¤æ‚åº¦</li>
<li>æ—¶é—´å¤æ‚åº¦</li>
</ul>
</li>
<li>åŸºæœ¬ç®—æ³•æ€æƒ³
<ul>
<li>åˆ†æ²»æ³•</li>
<li>é€’å½’ç®—æ³•</li>
<li>è´ªå¿ƒç®—æ³•</li>
<li>åŠ¨æ€è§„åˆ’</li>
<li>å›æº¯æ³•</li>
<li>æšä¸¾æ³•</li>
</ul>
</li>
<li>æ’åº
<ul>
<li>O(n^2)
<ul>
<li>å†’æ³¡æ’åº</li>
<li>æ’å…¥æ’åº</li>
<li>é€‰æ‹©æ’åº</li>
<li>å¸Œå°”æ’åº</li>
</ul>
</li>
<li>O(nlogn)
<ul>
<li>å½’å¹¶æ’åº</li>
<li>å¿«é€Ÿæ’åº</li>
<li>å †æ’åº</li>
</ul>
</li>
<li>O(n)
<ul>
<li>è®¡æ•°æ’åº</li>
<li>åŸºæ•°æ’åº</li>
<li>æ¡¶æ’åº</li>
</ul>
</li>
</ul>
</li>
<li>æœç´¢
<ul>
<li>æ·±åº¦ä¼˜å…ˆæœç´¢</li>
<li>å¹¿åº¦ä¼˜å…ˆæœç´¢</li>
<li>A*å¯å‘å¼æœç´¢</li>
</ul>
</li>
<li>æŸ¥æ‰¾
<ul>
<li>çº¿æ€§è¡¨æŸ¥æ‰¾</li>
<li>æ ‘ç»“æ„æŸ¥æ‰¾</li>
<li>æ•£åˆ—è¡¨æŸ¥æ‰¾</li>
</ul>
</li>
<li>å­—ç¬¦ä¸²åŒ¹é…
<ul>
<li>æœ´ç´ </li>
<li>KMP</li>
<li>Robin-Karp</li>
<li>Boyer-Moore</li>
<li>ACè‡ªåŠ¨æœº</li>
<li>Trie</li>
<li>åç¼€æ•°ç»„</li>
</ul>
</li>
<li>å…¶ä»–
<ul>
<li>æ•°è®º</li>
<li>è®¡ç®—å‡ ä½•</li>
<li>æ¦‚ç‡åˆ†æ</li>
<li>å¹¶æŸ¥é›†</li>
<li>æ‹“æ‰‘ç½‘ç»œ</li>
<li>çŸ©é˜µè¿ç®—
{% endpullquote %}</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="æœ¬ç« å‚è€ƒ">æœ¬ç« å‚è€ƒï¼š<a hidden class="anchor" aria-hidden="true" href="#æœ¬ç« å‚è€ƒ">#</a></h3>
<ul>
<li>å¤æ‚åº¦é€ŸæŸ¥è¡¨
<a href="https://liam.page/2016/06/20/big-O-cheat-sheet/">https://liam.page/2016/06/20/big-O-cheat-sheet/</a></li>
</ul>
<h2 id="2-åŸºæœ¬æ•°æ®ç»“æ„">2 åŸºæœ¬æ•°æ®ç»“æ„<a hidden class="anchor" aria-hidden="true" href="#2-åŸºæœ¬æ•°æ®ç»“æ„">#</a></h2>
<h3 id="21-çº¿æ€§è¡¨">2.1 çº¿æ€§è¡¨<a hidden class="anchor" aria-hidden="true" href="#21-çº¿æ€§è¡¨">#</a></h3>
<p>â€‚çº¿æ€§è¡¨æ˜¯nä¸ªå…·æœ‰ç›¸åŒç‰¹æ€§çš„æ•°æ®å…ƒç´ çš„æœ‰åºåºåˆ—ã€‚çº¿æ€§è¡¨é™¤ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ•°æ®å…ƒç´ ä¹‹å¤–ï¼Œå…¶ä»–æ•°æ®å…ƒç´ éƒ½æ˜¯é¦–å°¾ç›¸æ¥çš„ã€‚
â€‚æ•°æ®åœ¨å®é™…çš„ç‰©ç†å­˜å‚¨ä¸­æœ‰ä¸¤ç§å½¢å¼ï¼šåˆ†æ•£å­˜å‚¨å’Œé›†ä¸­å­˜å‚¨,å¸¸è§æ•°æ®ç»“æ„æœ‰æ ˆã€é˜Ÿåˆ—ã€å­—ç¬¦ä¸²ã€é“¾è¡¨ç­‰ã€‚
â€‚ä¸¤ç§æƒ…å†µä¸‹æ•°æ®çš„å­˜å‚¨é—®é¢˜ï¼š
â€ƒ æ•°æ®å…ƒç´ åœ¨å†…å­˜ä¸­é›†ä¸­å­˜å‚¨ï¼Œé‡‡ç”¨é¡ºåºè¡¨ç¤ºç»“æ„ï¼Œç®€ç§°â€œé¡ºåºå­˜å‚¨â€ï¼›
â€ƒ æ•°æ®å…ƒç´ åœ¨å†…å­˜ä¸­åˆ†æ•£å­˜å‚¨ï¼Œé‡‡ç”¨é“¾å¼è¡¨ç¤ºç»“æ„ï¼Œç®€ç§°â€œé“¾å¼å­˜å‚¨â€</p>
<h4 id="211-æ•°ç»„">2.1.1 æ•°ç»„<a hidden class="anchor" aria-hidden="true" href="#211-æ•°ç»„">#</a></h4>
<p>â€ƒæ•°ç»„æ˜¯ä¸€æ‰¹ç›¸åŒæ•°æ®çš„é›†åˆã€‚æ•°ç»„çš„ä¸‰éƒ¨åˆ†ï¼š<code>åœ°å€ å¤§å° å’Œ ç©ºé—´</code>ã€‚æ•°ç»„çš„ä¿å­˜å½¢å¼ä¸ºçº¿æ€§è¡¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> arr[<span style="color:#ae81ff">10</span>]; <span style="color:#75715e">// /[]å†…å¿…é¡»æ˜¯å¸¸é‡/å¸¸é‡è¡¨è¾¾å¼(3+8)ï¼Œä¸èƒ½æ˜¯ä¸€ä¸ªå˜é‡(x...)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// æ•°ç»„åˆå§‹åŒ–
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> arr1[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> arr6[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abcdef&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>ptr <span style="color:#f92672">=</span> NULL;<span style="color:#75715e">//å®šä¹‰ä¸€ä¸ªæ•´å‹çš„æŒ‡é’ˆå˜é‡ï¼Œåˆå§‹åŒ–ä¸ºNULL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>ptr <span style="color:#f92672">=</span> NULL;<span style="color:#75715e">//å®šä¹‰ä¸€ä¸ªå­—ç¬¦çš„æŒ‡é’ˆå˜é‡ï¼Œåˆå§‹åŒ–ä¸ºNULL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// äºŒç»´æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> arr[<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">5</span>] <span style="color:#f92672">=</span> { <span style="color:#ae81ff">0</span> };
</span></span><span style="display:flex;"><span><span style="color:#75715e">// C ä¼ é€’æ•°ç»„ç»™å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">myFunction</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>param)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">myFunction</span>(<span style="color:#66d9ef">int</span> param[<span style="color:#ae81ff">10</span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">myFunction</span>(<span style="color:#66d9ef">int</span> param[])
</span></span><span style="display:flex;"><span><span style="color:#75715e">// C ä»å‡½æ•°è¿”å›æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">myFunction</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><details>
<summary>array</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> array {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> used;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump</span>(<span style="color:#66d9ef">struct</span> array <span style="color:#f92672">*</span>array)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> idx <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; idx <span style="color:#f92672">&lt;</span> array<span style="color:#f92672">-&gt;</span>used; idx<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;[%02d]: %08d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, idx, array<span style="color:#f92672">-&gt;</span>arr[idx]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">alloc</span>(<span style="color:#66d9ef">struct</span> array <span style="color:#f92672">*</span>array)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    array<span style="color:#f92672">-&gt;</span>arr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(array<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">insert</span>(<span style="color:#66d9ef">struct</span> array <span style="color:#f92672">*</span>array, <span style="color:#66d9ef">int</span> elem)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> idx;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (array<span style="color:#f92672">-&gt;</span>used <span style="color:#f92672">&gt;=</span> array<span style="color:#f92672">-&gt;</span>size)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (idx <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; idx <span style="color:#f92672">&lt;</span> array<span style="color:#f92672">-&gt;</span>used; idx<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (array<span style="color:#f92672">-&gt;</span>arr[idx] <span style="color:#f92672">&gt;</span> elem)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (idx <span style="color:#f92672">&lt;</span> array<span style="color:#f92672">-&gt;</span>used)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memmove</span>(<span style="color:#f92672">&amp;</span>array<span style="color:#f92672">-&gt;</span>arr[idx<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>], <span style="color:#f92672">&amp;</span>array<span style="color:#f92672">-&gt;</span>arr[idx],
</span></span><span style="display:flex;"><span>            (array<span style="color:#f92672">-&gt;</span>used <span style="color:#f92672">-</span> idx) <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    array<span style="color:#f92672">-&gt;</span>arr[idx] <span style="color:#f92672">=</span> elem;
</span></span><span style="display:flex;"><span>    array<span style="color:#f92672">-&gt;</span>used<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> idx;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">delete</span>(<span style="color:#66d9ef">struct</span> array <span style="color:#f92672">*</span>array, <span style="color:#66d9ef">int</span> idx)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (idx <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> idx <span style="color:#f92672">&gt;=</span> array<span style="color:#f92672">-&gt;</span>used)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memmove</span>(<span style="color:#f92672">&amp;</span>array<span style="color:#f92672">-&gt;</span>arr[idx], <span style="color:#f92672">&amp;</span>array<span style="color:#f92672">-&gt;</span>arr[idx<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>],
</span></span><span style="display:flex;"><span>        (array<span style="color:#f92672">-&gt;</span>used <span style="color:#f92672">-</span> idx <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>    array<span style="color:#f92672">-&gt;</span>used<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">search</span>(<span style="color:#66d9ef">struct</span> array <span style="color:#f92672">*</span>array, <span style="color:#66d9ef">int</span> elem)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> idx <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; idx <span style="color:#f92672">&lt;</span> array<span style="color:#f92672">-&gt;</span>used; idx<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (array<span style="color:#f92672">-&gt;</span>arr[idx] <span style="color:#f92672">==</span> elem)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> idx;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (array<span style="color:#f92672">-&gt;</span>arr[idx] <span style="color:#f92672">&gt;</span> elem)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> array ten_int <span style="color:#f92672">=</span> {<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">0</span>, NULL};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">alloc</span>(<span style="color:#f92672">&amp;</span>ten_int);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>ten_int.arr) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>ten_int, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>ten_int, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>ten_int, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;=== insert 1, 3, 2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>ten_int);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> idx <span style="color:#f92672">=</span> <span style="color:#a6e22e">search</span>(<span style="color:#f92672">&amp;</span>ten_int, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;2 is at position %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, idx);
</span></span><span style="display:flex;"><span>    idx <span style="color:#f92672">=</span> <span style="color:#a6e22e">search</span>(<span style="color:#f92672">&amp;</span>ten_int, <span style="color:#ae81ff">9</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;9 is at position %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, idx);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;=== delete [6] element </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">delete</span>(<span style="color:#f92672">&amp;</span>ten_int, <span style="color:#ae81ff">6</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>ten_int);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;=== delete [0] element </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">delete</span>(<span style="color:#f92672">&amp;</span>ten_int, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>ten_int);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<br>
<p><strong>äºŒåˆ†æœç´¢</strong>
â€ƒåŸºæœ¬æ€æƒ³æ˜¯ï¼šé¦–å…ˆé€‰å–è¡¨ä¸­é—´ä½ç½®çš„è®°å½•ï¼Œå°†å…¶å…³é”®å­—ä¸ç»™å®šå…³é”®å­— key è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æŸ»æ‰¾æˆåŠŸï¼›è‹¥ key å€¼æ¯”è¯¥å…³é”®å­—å€¼å¤§ï¼Œåˆ™è¦æ‰¾çš„å…ƒç´ ä¸€å®šåœ¨å³å­è¡¨ä¸­ï¼Œåˆ™ç»§ç»­å¯¹å³å­è¡¨è¿›è¡ŒæŠ˜åŠæŸ¥æ‰¾ï¼šè‹¥ key å€¼æ¯”è¯¥å…³é”®å®‡å€¼å°ï¼Œåˆ™è¦æ‰¾çš„å…ƒç´ ä¸€å®šåœ¨å·¦å­è¡¨ä¸­ï¼Œç»§ç»­å¯¹å·¦å­è¡¨è¿›è¡ŒæŠ˜åŠæŸ»æ‰¾ã€‚å¦‚æ­¤é€’æ¨ï¼Œç›´åˆ°æŸ»æ‰¾æˆåŠŸæˆ–æŸ»æ‰¾å¤±è´¥ï¼ˆæˆ–æŸ»æ‰¾èŒƒå›´ä¸º 0ï¼‰
â€ƒå·¦é—­å³é—­[left, right]ï¼šhigh = mid - 1;
â€ƒå·¦é—­å³å¼€[left, right)ï¼šhigh = mid;
â€ƒäºŒåˆ†æœç´¢çš„æ—¶é—´å¤æ‚åº¦ä¸º <em><strong>å¯¹æ•°æ—¶é—´O(logn)</strong></em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// å·¦é—­ å³é—­åŒºé—´  [left, right] 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// low = mid + 1  high = mid - 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">binary_search</span>(<span style="color:#66d9ef">int</span> key, <span style="color:#66d9ef">int</span> a[], <span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> low <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> high <span style="color:#f92672">=</span> n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> mid, count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, count1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(low <span style="color:#f92672">&lt;</span> high) {
</span></span><span style="display:flex;"><span>        count<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        mid <span style="color:#f92672">=</span> (low <span style="color:#f92672">+</span> high) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (key <span style="color:#f92672">&lt;</span> a[mid]) {
</span></span><span style="display:flex;"><span>            high <span style="color:#f92672">=</span> mid <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (key <span style="color:#f92672">&gt;</span> a[mid]) {
</span></span><span style="display:flex;"><span>            low <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (key <span style="color:#f92672">==</span> a[mid]) {
</span></span><span style="display:flex;"><span>            count1<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (count1 <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="212-å•é“¾è¡¨">2.1.2 å•é“¾è¡¨<a hidden class="anchor" aria-hidden="true" href="#212-å•é“¾è¡¨">#</a></h4>
<p>â€ƒ å•é“¾è¡¨å…ƒç´ ä¹‹é—´æœ‰ä¸€ä¸ªå•ç‹¬çš„æŒ‡é’ˆé“¾æ¥ã€‚è¿™ç§ç»“æ„çš„é“¾è¡¨å¯ä»¥ä½¿å¾—ä»ç¬¬ä¸€ä¸ªå…ƒç´ éå†åˆ°æœ€åä¸€ä¸ªå…ƒç´ </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> ListElmt_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data;  <span style="color:#75715e">// æ•°æ®æˆå‘˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">struct</span> ListElmt_ <span style="color:#f92672">*</span> next; <span style="color:#75715e">// nextæŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>} ListElmt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> List_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>match)(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> (<span style="color:#f92672">*</span>destroy)(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data);
</span></span><span style="display:flex;"><span>    ListElmt <span style="color:#f92672">*</span>head;
</span></span><span style="display:flex;"><span>    ListElmt <span style="color:#f92672">*</span>tail;
</span></span><span style="display:flex;"><span>} List;
</span></span></code></pre></div><p>â€ƒå•é“¾è¡¨æ“ä½œï¼šæ’å…¥ã€åˆ é™¤ã€
â€ƒå¦‚ä½•åˆ¤æ–­å•é“¾è¡¨å­˜åœ¨å›ç¯ï¼Ÿ
â€ƒâ€ƒè®¾æœ‰ä¸¤ä¸ªæŒ‡é’ˆp1ï¼Œp2ã€‚åœ¨ç¾å­¦å¾ªç¯çš„æ—¶å€™ï¼Œp1å…ˆèµ°ä¸€æ­¥ï¼Œp2èµ°ä¸¤æ­¥ï¼Œç›´åˆ°p2ç¢°åˆ°ç©ºæŒ‡é’ˆæˆ–è€…ä¸¤è€…ç›¸ç­‰æ—¶å¾ªç¯ç»“æŸï¼Œå¦‚æœä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰åˆ™è¯´æ˜å­˜åœ¨å›ç¯ã€‚</p>
<p>â€ƒç¿»è½¬é“¾è¡¨</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> ListNode <span style="color:#f92672">*</span><span style="color:#a6e22e">reverse</span>(<span style="color:#66d9ef">struct</span> ListNode <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> ListNode <span style="color:#f92672">*</span>res <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (head) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> ListNode <span style="color:#f92672">*</span>pre_node <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>        head <span style="color:#f92672">=</span> head<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        pre_node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> res;
</span></span><span style="display:flex;"><span>        res <span style="color:#f92672">=</span> pre_node;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><details>
<summary>singleList</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#ifndef __SINGLELIST_H__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define __SINGLELIST_H__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> listNode {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> listNode <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>value;
</span></span><span style="display:flex;"><span>}listNode;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> linkedList {
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">size_t</span> len;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">size_t</span> typesize;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span>(<span style="color:#f92672">*</span>dup)(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>, <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span>(<span style="color:#f92672">*</span>match)(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>, <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span>(<span style="color:#f92672">*</span>free)(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>);
</span></span><span style="display:flex;"><span>}linkedList;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define listSetDupMethod(l,m) ((l)-&gt;dup = (m))
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define listSetFreeMethod(l,m) ((l)-&gt;free = (m))
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define listSetMatchMethod(l,m) ((l)-&gt;match = (m))
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define listGetDupMethod(l) ((l)-&gt;dup)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define listGetFree(l) ((l)-&gt;free)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define listGetMatchMethod(l) ((l)-&gt;match)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>linkedList <span style="color:#f92672">*</span><span style="color:#a6e22e">listCreate</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">listRelease</span>(linkedList <span style="color:#f92672">*</span>list);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">listEmpty</span>(linkedList <span style="color:#f92672">*</span>list);
</span></span><span style="display:flex;"><span>linkedList <span style="color:#f92672">*</span><span style="color:#a6e22e">listAddNodeHead</span>(linkedList <span style="color:#f92672">*</span>list, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>value);
</span></span><span style="display:flex;"><span>linkedList <span style="color:#f92672">*</span><span style="color:#a6e22e">listAddNodeTail</span>(linkedList <span style="color:#f92672">*</span>list, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>value);
</span></span><span style="display:flex;"><span>linkedList <span style="color:#f92672">*</span><span style="color:#a6e22e">listInsertNode</span>(linkedList <span style="color:#f92672">*</span>list, listNode <span style="color:#f92672">*</span>old_node, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>value, <span style="color:#66d9ef">bool</span> after);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">listDelNode</span>(linkedList <span style="color:#f92672">*</span>list, listNode <span style="color:#f92672">*</span>node);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>listNode <span style="color:#f92672">*</span><span style="color:#a6e22e">listSearchKey</span>(linkedList <span style="color:#f92672">*</span>list, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key);
</span></span><span style="display:flex;"><span>listNode <span style="color:#f92672">*</span><span style="color:#a6e22e">listIndex</span>(linkedList <span style="color:#f92672">*</span>list, <span style="color:#66d9ef">long</span> index);
</span></span><span style="display:flex;"><span>linkedList<span style="color:#f92672">*</span> <span style="color:#a6e22e">listRewind</span>(linkedList <span style="color:#f92672">*</span>list);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">size_t</span> <span style="color:#a6e22e">listLength</span>(linkedList <span style="color:#f92672">*</span>list);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif </span><span style="color:#75715e">// !__SINGLELIST_H__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;singleList.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>linkedList <span style="color:#f92672">*</span> <span style="color:#a6e22e">listCreate</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    linkedList <span style="color:#f92672">*</span>list <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    list <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#f92672">*</span>list));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>dup <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>free <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>match <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>len <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">listRelease</span>(linkedList <span style="color:#f92672">*</span>list)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">listEmpty</span>(list);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(list);
</span></span><span style="display:flex;"><span>    list <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">listEmpty</span>(linkedList <span style="color:#f92672">*</span>list)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (NULL <span style="color:#f92672">!=</span> list<span style="color:#f92672">-&gt;</span>head) {
</span></span><span style="display:flex;"><span>        listNode <span style="color:#f92672">*</span>pNode <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>        list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> pNode<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">!=</span> list<span style="color:#f92672">-&gt;</span>free) {
</span></span><span style="display:flex;"><span>            list<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">free</span>(pNode<span style="color:#f92672">-&gt;</span>value);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">free</span>(pNode<span style="color:#f92672">-&gt;</span>value);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        pNode<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(pNode);
</span></span><span style="display:flex;"><span>        pNode <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>linkedList <span style="color:#f92672">*</span> <span style="color:#a6e22e">listAddNodeHead</span>(linkedList <span style="color:#f92672">*</span>list, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list <span style="color:#f92672">||</span> NULL <span style="color:#f92672">==</span> value) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>node <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#f92672">*</span>node));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> node) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">-&gt;</span>value <span style="color:#f92672">=</span> value;
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">++</span>list<span style="color:#f92672">-&gt;</span>len;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>linkedList <span style="color:#f92672">*</span> <span style="color:#a6e22e">listAddNodeTail</span>(linkedList <span style="color:#f92672">*</span>list, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list <span style="color:#f92672">||</span> NULL <span style="color:#f92672">==</span> value) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>node <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#f92672">*</span>node));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> node) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">-&gt;</span>value <span style="color:#f92672">=</span> value;
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">&amp;&amp;</span> list<span style="color:#f92672">-&gt;</span>len <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        listNode <span style="color:#f92672">*</span>tail <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>        listNode <span style="color:#f92672">*</span>pre <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (NULL <span style="color:#f92672">!=</span> tail) {
</span></span><span style="display:flex;"><span>            pre <span style="color:#f92672">=</span> tail;
</span></span><span style="display:flex;"><span>            tail <span style="color:#f92672">=</span> tail<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        pre<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">++</span>list<span style="color:#f92672">-&gt;</span>len;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>linkedList <span style="color:#f92672">*</span> <span style="color:#a6e22e">listInsertNode</span>(linkedList <span style="color:#f92672">*</span>list, listNode <span style="color:#f92672">*</span>old_node, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>value, <span style="color:#66d9ef">bool</span> after)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list <span style="color:#f92672">||</span> NULL <span style="color:#f92672">==</span> old_node) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>pNode <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    pNode <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#f92672">*</span>pNode));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> pNode) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pNode<span style="color:#f92672">-&gt;</span>value <span style="color:#f92672">=</span> value;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (after) {
</span></span><span style="display:flex;"><span>        pNode<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> old_node<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        old_node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> pNode;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        listNode <span style="color:#f92672">*</span>pre <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (pre<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> old_node) {
</span></span><span style="display:flex;"><span>            pre <span style="color:#f92672">=</span> pre<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">!=</span> pre) {
</span></span><span style="display:flex;"><span>            pre<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> pNode;
</span></span><span style="display:flex;"><span>            pNode<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> old_node;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">++</span>list<span style="color:#f92672">-&gt;</span>len;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">listDelNode</span>(linkedList <span style="color:#f92672">*</span>list, listNode <span style="color:#f92672">*</span>node)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list <span style="color:#f92672">||</span> NULL <span style="color:#f92672">==</span> node) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>pre <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>cur <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (NULL <span style="color:#f92672">!=</span> cur <span style="color:#f92672">&amp;&amp;</span> cur <span style="color:#f92672">!=</span> node) {
</span></span><span style="display:flex;"><span>        pre <span style="color:#f92672">=</span> cur;
</span></span><span style="display:flex;"><span>        cur <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> pre) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pre<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> node<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">--</span>list<span style="color:#f92672">-&gt;</span>len;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">!=</span> list<span style="color:#f92672">-&gt;</span>free) {
</span></span><span style="display:flex;"><span>        list<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">free</span>(node<span style="color:#f92672">-&gt;</span>value);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(node);
</span></span><span style="display:flex;"><span>        node <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>listNode <span style="color:#f92672">*</span> <span style="color:#a6e22e">listSearchKey</span>(linkedList <span style="color:#f92672">*</span>list, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>node <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (NULL <span style="color:#f92672">!=</span> node) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">!=</span> list<span style="color:#f92672">-&gt;</span>match) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (list<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">match</span>(key, node<span style="color:#f92672">-&gt;</span>value) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> node;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (key <span style="color:#f92672">==</span> node<span style="color:#f92672">-&gt;</span>value) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> node;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        node <span style="color:#f92672">=</span> node<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>listNode <span style="color:#f92672">*</span> <span style="color:#a6e22e">listIndex</span>(linkedList <span style="color:#f92672">*</span>list, <span style="color:#66d9ef">long</span> index)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (index <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> index <span style="color:#f92672">&gt;</span> list<span style="color:#f92672">-&gt;</span>len) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>pNode <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">long</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> index; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        pNode <span style="color:#f92672">=</span> pNode<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> pNode;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>linkedList<span style="color:#f92672">*</span> <span style="color:#a6e22e">listRewind</span>(linkedList <span style="color:#f92672">*</span>list)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>head <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>pre <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (NULL <span style="color:#f92672">!=</span> head) {
</span></span><span style="display:flex;"><span>        next <span style="color:#f92672">=</span> head<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        head<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> pre;
</span></span><span style="display:flex;"><span>        pre <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>        head <span style="color:#f92672">=</span> next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> pre;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">size_t</span> <span style="color:#a6e22e">listLength</span>(linkedList <span style="color:#f92672">*</span>list)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (NULL <span style="color:#f92672">==</span> list) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> list<span style="color:#f92672">-&gt;</span>len;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>single_list</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> single_list {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> val;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> single_list_head {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>head;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">is_empty</span>(<span style="color:#66d9ef">struct</span> single_list_head <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> head<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">==</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump</span>(<span style="color:#66d9ef">struct</span> single_list_head <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>tmp <span style="color:#f92672">=</span> head<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> idx <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (tmp) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;[%02d]: %08d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, idx<span style="color:#f92672">++</span>, tmp<span style="color:#f92672">-&gt;</span>val);
</span></span><span style="display:flex;"><span>        tmp <span style="color:#f92672">=</span> tmp<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert</span>(<span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">**</span>prev, <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>elem)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>prev)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    elem<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>prev;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> elem;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert_head</span>(<span style="color:#66d9ef">struct</span> single_list_head <span style="color:#f92672">*</span>head, <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>elem)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>head<span style="color:#f92672">-&gt;</span>head, elem);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> single_list<span style="color:#f92672">*</span> <span style="color:#a6e22e">del</span>(<span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">**</span>prev)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>tmp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>prev)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>prev <span style="color:#f92672">==</span> NULL)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    tmp <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>prev;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> (<span style="color:#f92672">*</span>prev)<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    tmp<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> tmp;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> single_list<span style="color:#f92672">*</span> <span style="color:#a6e22e">delete_head</span>(<span style="color:#66d9ef">struct</span> single_list_head<span style="color:#f92672">*</span> head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">del</span>(<span style="color:#f92672">&amp;</span>head<span style="color:#f92672">-&gt;</span>head);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> single_list<span style="color:#f92672">**</span> <span style="color:#a6e22e">search</span>(<span style="color:#66d9ef">struct</span> single_list_head<span style="color:#f92672">*</span> head, <span style="color:#66d9ef">int</span> target)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">**</span>prev, <span style="color:#f92672">*</span>tmp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (prev <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>head<span style="color:#f92672">-&gt;</span>head, tmp <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>prev; tmp <span style="color:#f92672">&amp;&amp;</span> (tmp<span style="color:#f92672">-&gt;</span>val <span style="color:#f92672">&lt;</span> target);
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>tmp<span style="color:#f92672">-&gt;</span>next, tmp <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>prev);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> prev;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">reverse</span>(<span style="color:#66d9ef">struct</span> single_list_head<span style="color:#f92672">*</span> head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list_head tmp <span style="color:#f92672">=</span> {NULL};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>elem;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">is_empty</span>(head)) {
</span></span><span style="display:flex;"><span>        elem <span style="color:#f92672">=</span> <span style="color:#a6e22e">delete_head</span>(head);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">insert_head</span>(<span style="color:#f92672">&amp;</span>tmp, elem);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    head<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> tmp.head;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">is_cyclic</span>(<span style="color:#66d9ef">struct</span> single_list_head<span style="color:#f92672">*</span> head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>s1, <span style="color:#f92672">*</span>s2;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    s1 <span style="color:#f92672">=</span> s2 <span style="color:#f92672">=</span> head<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(s1 <span style="color:#f92672">&amp;&amp;</span> s2) {
</span></span><span style="display:flex;"><span>        s1 <span style="color:#f92672">=</span> s1<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        s2 <span style="color:#f92672">=</span> s2<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">?</span> s2<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next:s2<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (s1 <span style="color:#f92672">==</span> s2)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> single_list<span style="color:#f92672">*</span> <span style="color:#a6e22e">middle</span>(<span style="color:#66d9ef">struct</span> single_list_head<span style="color:#f92672">*</span> head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">*</span>s1, <span style="color:#f92672">*</span>s2;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list pseudo_head;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pseudo_head.next <span style="color:#f92672">=</span> head<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    s1 <span style="color:#f92672">=</span> s2 <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>pseudo_head;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (true) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>s2 <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>s2<span style="color:#f92672">-&gt;</span>next)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> s1;
</span></span><span style="display:flex;"><span>        s1 <span style="color:#f92672">=</span> s1<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        s2 <span style="color:#f92672">=</span> s2<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list_head head <span style="color:#f92672">=</span> {NULL};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list lists[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> single_list <span style="color:#f92672">**</span>prev;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (idx <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; idx <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; idx<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        lists[idx].val <span style="color:#f92672">=</span> idx;
</span></span><span style="display:flex;"><span>        lists[idx].next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_head</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#f92672">&amp;</span>lists[<span style="color:#ae81ff">6</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_head</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#f92672">&amp;</span>lists[<span style="color:#ae81ff">5</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_head</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#f92672">&amp;</span>lists[<span style="color:#ae81ff">4</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_head</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#f92672">&amp;</span>lists[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_head</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#f92672">&amp;</span>lists[<span style="color:#ae81ff">0</span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;=== insert 0, 1, 4, 5, 6</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>head);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> <span style="color:#a6e22e">search</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(prev, <span style="color:#f92672">&amp;</span>lists[<span style="color:#ae81ff">2</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;=== insert 2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>head);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;middle elem is %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">middle</span>(<span style="color:#f92672">&amp;</span>head)<span style="color:#f92672">-&gt;</span>val);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> <span style="color:#a6e22e">search</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((<span style="color:#f92672">*</span>prev) <span style="color:#f92672">&amp;&amp;</span> ((<span style="color:#f92672">*</span>prev)<span style="color:#f92672">-&gt;</span>val <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;The list contains 2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;The list not contains 2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">del</span>(prev);
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> <span style="color:#a6e22e">search</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;After remove 2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((<span style="color:#f92672">*</span>prev) <span style="color:#f92672">&amp;&amp;</span> ((<span style="color:#f92672">*</span>prev)<span style="color:#f92672">-&gt;</span>val <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;The list contains 2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;The list not contains 2</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>head);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;After reverse </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">reverse</span>(<span style="color:#f92672">&amp;</span>head);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>head);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;middle elem is %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">middle</span>(<span style="color:#f92672">&amp;</span>head)<span style="color:#f92672">-&gt;</span>val);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    lists[<span style="color:#ae81ff">0</span>].next <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>lists[<span style="color:#ae81ff">6</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;list is%s cyclic</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">is_cyclic</span>(<span style="color:#f92672">&amp;</span>head)<span style="color:#f92672">?</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34; not&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>LinkedListAlgo</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 1) å•é“¾è¡¨åè½¬
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 2) é“¾è¡¨ä¸­ç¯çš„æ£€æµ‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 3) ä¸¤ä¸ªæœ‰åºçš„é“¾è¡¨åˆå¹¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 4) åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 5) æ±‚é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Author: Smallfly
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> SinglyLinkedNode {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> SinglyLinkedNode<span style="color:#f92672">*</span> next;
</span></span><span style="display:flex;"><span>} SinglyLinkedNode;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insertNode</span>(SinglyLinkedNode<span style="color:#f92672">**</span> head_ref, <span style="color:#66d9ef">int</span> data);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printLinkedList</span>(SinglyLinkedNode<span style="color:#f92672">*</span> head);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/** åè½¬å•é“¾è¡¨ */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">reverse</span>(SinglyLinkedNode<span style="color:#f92672">**</span> head_ref) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>head_ref <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    SinglyLinkedNode <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    SinglyLinkedNode <span style="color:#f92672">*</span>current <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>head_ref;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (current) {
</span></span><span style="display:flex;"><span>        SinglyLinkedNode <span style="color:#f92672">*</span>next <span style="color:#f92672">=</span> current<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>next) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// åˆ°è¾¾å°¾ç»“ç‚¹æ—¶ï¼Œå°†åœ°å€å­˜å…¥ head_ref
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#f92672">*</span>head_ref <span style="color:#f92672">=</span> current;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        current<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> prev;
</span></span><span style="display:flex;"><span>        prev <span style="color:#f92672">=</span> current;
</span></span><span style="display:flex;"><span>        current <span style="color:#f92672">=</span> next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_reverse</span>() {
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> head <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">reverse</span>(<span style="color:#f92672">&amp;</span>head);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printLinkedList</span>(head);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/** æ£€æµ‹å•é“¾è¡¨æ˜¯å¦æœ‰ç¯ */</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// è¿™é‡Œä½¿ç”¨ä¸€çº§æŒ‡é’ˆä¹Ÿå¯ä»¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">checkCircle</span>(SinglyLinkedNode<span style="color:#f92672">**</span> head_ref) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>head_ref <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    SinglyLinkedNode <span style="color:#f92672">*</span>slow <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>head_ref, <span style="color:#f92672">*</span>fast <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>head_ref;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (fast <span style="color:#f92672">!=</span> NULL <span style="color:#f92672">&amp;&amp;</span> fast<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        slow <span style="color:#f92672">=</span> slow<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (slow <span style="color:#f92672">==</span> fast) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_checkCircle</span>() {
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> head <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> result1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">checkCircle</span>(<span style="color:#f92672">&amp;</span>head);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;has circle: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, result1);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// make circle linklist
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SinglyLinkedNode<span style="color:#f92672">*</span> current <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(SinglyLinkedNode));
</span></span><span style="display:flex;"><span>    current<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> h <span style="color:#f92672">=</span> current;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        SinglyLinkedNode<span style="color:#f92672">*</span> node <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(SinglyLinkedNode));
</span></span><span style="display:flex;"><span>        node<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>        current<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//reset current node
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        current <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    current<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> h;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> result2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">checkCircle</span>(<span style="color:#f92672">&amp;</span>h);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;has circle: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, result2);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/** æœ‰åºé“¾è¡¨åˆå¹¶ */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">moveNode</span>(SinglyLinkedNode<span style="color:#f92672">**</span> dest_ref, SinglyLinkedNode<span style="color:#f92672">**</span> src_ref);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SinglyLinkedNode<span style="color:#f92672">*</span> <span style="color:#a6e22e">mergeSortedLinkedList</span>(SinglyLinkedNode<span style="color:#f92672">*</span> la, SinglyLinkedNode<span style="color:#f92672">*</span> lb) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// è¾…åŠ©ç»“ç‚¹ï¼Œnext æŒ‡é’ˆæŒæœ‰åˆå¹¶åçš„æœ‰åºé“¾è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SinglyLinkedNode dummy;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// æœ‰åºé“¾è¡¨çš„å°¾ç»“ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SinglyLinkedNode<span style="color:#f92672">*</span> tail <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>dummy;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å¦‚æœæœ‰ä¸€ä¸ªé“¾è¡¨ä¸ºç©ºï¼Œç›´æ¥ä¸å¦ä¸€ä¸ªé“¾è¡¨æ¥èµ·æ¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>la) {
</span></span><span style="display:flex;"><span>            tail<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> lb;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>lb) {
</span></span><span style="display:flex;"><span>            tail<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> la;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å°†å¤´ç»“ç‚¹è¾ƒå°çš„ä¼˜å…ˆæ·»åŠ åˆ° tail
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (la<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">&lt;=</span> lb<span style="color:#f92672">-&gt;</span>data) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">moveNode</span>(<span style="color:#f92672">&amp;</span>(tail<span style="color:#f92672">-&gt;</span>next), <span style="color:#f92672">&amp;</span>la);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">moveNode</span>(<span style="color:#f92672">&amp;</span>(tail<span style="color:#f92672">-&gt;</span>next), <span style="color:#f92672">&amp;</span>lb);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        tail <span style="color:#f92672">=</span> tail<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> dummy.next;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å°† src_ref çš„å¤´ç»“ç‚¹ï¼Œæ·»åŠ åˆ° dest_ref çš„å¤´éƒ¨ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">moveNode</span>(SinglyLinkedNode<span style="color:#f92672">**</span> dest_ref, SinglyLinkedNode<span style="color:#f92672">**</span> src_ref) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>src_ref <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> new_node <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>src_ref;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>src_ref <span style="color:#f92672">=</span> new_node<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    new_node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>dest_ref;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>dest_ref <span style="color:#f92672">=</span> new_node;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_mergeSortedLinkedList</span>() {
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> a <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>a, <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>a, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>a, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> b <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>b, <span style="color:#ae81ff">8</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>b, <span style="color:#ae81ff">6</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>b, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> result <span style="color:#f92672">=</span> <span style="color:#a6e22e">mergeSortedLinkedList</span>(a, b);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printLinkedList</span>(result);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> result2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">mergeSortedLinkedList</span>(a, NULL);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printLinkedList</span>(result2);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/** åˆ é™¤å€’æ•°ç¬¬ K ä¸ªç»“ç‚¹ */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">deleteLastKth</span>(SinglyLinkedNode<span style="color:#f92672">**</span> head_ref, <span style="color:#66d9ef">int</span> k) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>head_ref <span style="color:#f92672">==</span> NULL <span style="color:#f92672">||</span> k <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// å¿«æŒ‡é’ˆå‘å‰ç§»åŠ¨ k-1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SinglyLinkedNode<span style="color:#f92672">*</span> fast <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>head_ref;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&lt;</span> k <span style="color:#f92672">&amp;&amp;</span> fast <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">++</span>i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// å¦‚æœå¿«æŒ‡é’ˆä¸ºç©ºï¼Œè¯´æ˜ç»“ç‚¹ä¸ªæ•°å°äº k
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (fast <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> slow <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>head_ref;
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (fast<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        prev <span style="color:#f92672">=</span> slow;
</span></span><span style="display:flex;"><span>        slow <span style="color:#f92672">=</span> slow<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// å¦‚æœ prev ä¸ºç©ºï¼Œå¤´ç»“ç‚¹åˆšå¥½æ˜¯ç¬¬ k ä¸ªç»“ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>prev) {
</span></span><span style="display:flex;"><span>        (<span style="color:#f92672">*</span>head_ref) <span style="color:#f92672">=</span> (<span style="color:#f92672">*</span>head_ref)<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        prev<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> slow<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(slow);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_deleteLastKth</span>() {
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> head <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 1. åˆ é™¤å¤´ç»“ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">deleteLastKth</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printLinkedList</span>(head);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 2. åˆ é™¤ä¸­é—´ç»“ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">deleteLastKth</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printLinkedList</span>(head);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/** æ±‚ä¸­é—´ç»“ç‚¹  */</span>
</span></span><span style="display:flex;"><span>SinglyLinkedNode<span style="color:#f92672">*</span> <span style="color:#a6e22e">findMiddleNode</span>(SinglyLinkedNode<span style="color:#f92672">*</span> head) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>head) <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> slow <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> fast <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 1. æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆä¸¤æ­¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> (fast<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> NULL <span style="color:#f92672">&amp;&amp;</span> fast<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        slow <span style="color:#f92672">=</span> slow<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> slow;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test_findMiddleNode</span>() {
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> head <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertNode</span>(<span style="color:#f92672">&amp;</span>head, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> middleNode <span style="color:#f92672">=</span> <span style="color:#a6e22e">findMiddleNode</span>(head);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, middleNode<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printLinkedList</span>(head);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/** å·¥å…·æ–¹æ³• */</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ’å…¥æ–°ç»“ç‚¹åˆ°é“¾è¡¨å¤´éƒ¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insertNode</span>(SinglyLinkedNode<span style="color:#f92672">**</span> head_ref, <span style="color:#66d9ef">int</span> data) {
</span></span><span style="display:flex;"><span>    SinglyLinkedNode<span style="color:#f92672">*</span> new_node <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(SinglyLinkedNode));
</span></span><span style="display:flex;"><span>    new_node<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>    new_node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>head_ref;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>head_ref <span style="color:#f92672">=</span> new_node;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ‰“å°é“¾è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printLinkedList</span>(SinglyLinkedNode<span style="color:#f92672">*</span> node) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;--- start ---</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (node) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;data: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, node<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>        node <span style="color:#f92672">=</span> node<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;--- end ---</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// è·‘æµ‹è¯•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>() {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test_reverse</span>();  
</span></span><span style="display:flex;"><span><span style="color:#75715e">//    test_checkCircle();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    test_mergeSortedLinkedList();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    test_deleteLastKth();  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//    test_findMiddleNode();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div></details>
<details>
<summary>linklist_jinshaohui</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/*************************************************************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; File Name: lisklist.c
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Author:  jinshaohui
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Mail:    jinshaohui789@163.com
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Time:    18-10-07  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> ************************************************************************/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> stlistNode
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> val;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> listNode <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>}listNode;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*åè½¬é“¾è¡¨*/</span>
</span></span><span style="display:flex;"><span>listNode <span style="color:#a6e22e">reverseList</span>(listNode <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(head <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        next <span style="color:#f92672">=</span> head<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        head<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> prev;
</span></span><span style="display:flex;"><span>        prev <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>        head <span style="color:#f92672">=</span> next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> prev;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hasCycle</span>(listNode <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span> fast <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span> low <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(fast <span style="color:#f92672">!=</span> NULL <span style="color:#f92672">&amp;&amp;</span> fast<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        low <span style="color:#f92672">=</span> low<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (low <span style="color:#f92672">==</span> fast) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*åˆå¹¶æœ‰åºé“¾è¡¨*/</span>
</span></span><span style="display:flex;"><span>listNode <span style="color:#f92672">*</span><span style="color:#a6e22e">mergeTwoLists</span>(listNode <span style="color:#f92672">*</span>l1,listNode <span style="color:#f92672">*</span>l2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    listNode head <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>pRes <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>head;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(l1 <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>            pRes<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> l2;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (l2 <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>            pRes<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> l1;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(l1<span style="color:#f92672">-&gt;</span>val <span style="color:#f92672">&lt;</span> l2<span style="color:#f92672">-&gt;</span>val) {
</span></span><span style="display:flex;"><span>            pRes<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> l1;
</span></span><span style="display:flex;"><span>            l1 <span style="color:#f92672">=</span> l1<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            pRes<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> l2;
</span></span><span style="display:flex;"><span>            l2 <span style="color:#f92672">=</span> l2<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        pRes <span style="color:#f92672">=</span> pRes<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> head;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œå¹¶è¿”å›é“¾è¡¨å¤´èŠ‚ç‚¹ */</span>
</span></span><span style="display:flex;"><span>listNode <span style="color:#f92672">*</span> <span style="color:#a6e22e">removeNthFromEnd</span>(listNode<span style="color:#f92672">*</span>headi,<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>fast <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    listNpde <span style="color:#f92672">*</span>next <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> n;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*å¿«æŒ‡é’ˆå¾€åç§»åŠ¨k-1*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>((k <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">&amp;&amp;</span> (fast <span style="color:#f92672">!=</span> NULL)) {
</span></span><span style="display:flex;"><span>        fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        k<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*è¯´æ˜é“¾è¡¨æ•°ç›®ä¸è¶³nä¸ª*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (fast <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> head;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (fast<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        prev <span style="color:#f92672">=</span> next;
</span></span><span style="display:flex;"><span>        next <span style="color:#f92672">=</span> next<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(prev <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        head <span style="color:#f92672">=</span> head<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        prev<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> prev<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> head;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ±‚é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹*/</span>
</span></span><span style="display:flex;"><span>listNode <span style="color:#f92672">*</span><span style="color:#a6e22e">middleNode</span>(listNode <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span> fast <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>    listNode <span style="color:#f92672">*</span> low <span style="color:#f92672">=</span> head;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(fast <span style="color:#f92672">!=</span> NULL <span style="color:#f92672">&amp;&amp;</span> fast<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        low <span style="color:#f92672">=</span> low<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        fast <span style="color:#f92672">=</span> fast<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> low;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="213-åŒé“¾è¡¨">2.1.3 åŒé“¾è¡¨<a hidden class="anchor" aria-hidden="true" href="#213-åŒé“¾è¡¨">#</a></h4>
<p>â€ƒ åŒå‘é“¾è¡¨çš„å…ƒç´ é€šè¿‡ä¸¤ä¸ªæŒ‡é’ˆé“¾æ¥ï¼Œä¸€ä¸ªæŒ‡å‘ç›´æ¥åç»§ï¼Œä¸€ä¸ªæŒ‡å‘ç›´æ¥å‰é©±ã€‚åŒå‘é“¾è¡¨å¯ä»¥æ­£å‘éå†ï¼Œä¹Ÿå¯åå‘éå†ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> DListElmt_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> DListElmt_ <span style="color:#f92672">*</span>prev;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> DListElmt_ <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>} DListElmt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> DList_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>match)(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> (<span style="color:#f92672">*</span>destroy)(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data);
</span></span><span style="display:flex;"><span>    DListElmt <span style="color:#f92672">*</span>head;
</span></span><span style="display:flex;"><span>    DListElmt <span style="color:#f92672">*</span>tail;
</span></span><span style="display:flex;"><span>} DList;
</span></span></code></pre></div><details>
<summary>Dlist</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// Dlist.h
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> DlistNode {    <span style="color:#75715e">//åŒå‘é“¾è¡¨ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">struct</span> DlistNode <span style="color:#f92672">*</span>prev;   <span style="color:#75715e">//èŠ‚ç‚¹å‰é¡¹æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">struct</span> DlistNode <span style="color:#f92672">*</span>next;   <span style="color:#75715e">//èŠ‚ç‚¹åé¡¹æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span>    data;              <span style="color:#75715e">//æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}stDlistNode;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> Dlisthead {    <span style="color:#75715e">//å®šä¹‰é“¾è¡¨æ€»ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> size;                 <span style="color:#75715e">//é“¾è¡¨é•¿åº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    stDlistNode <span style="color:#f92672">*</span>head;        <span style="color:#75715e">//å¤´æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    stDlistNode <span style="color:#f92672">*</span>tail;        <span style="color:#75715e">//å°¾éƒ¨æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}stDlistHead;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Dlist.c
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;./Dlist.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dlist_init</span>(stDlistHead <span style="color:#f92672">*</span>dlist)    <span style="color:#75715e">//é“¾è¡¨åˆå§‹åŒ–
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    dlist<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    dlist<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    dlist<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dlist_destory</span>(stDlistHead <span style="color:#f92672">*</span>dlist)    <span style="color:#75715e">//åˆ é™¤é“¾è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    stDlistNode <span style="color:#f92672">*</span>pNode <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(dlist<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        pNode <span style="color:#f92672">=</span> dlist<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> dlist<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(pNode);
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>size<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(dlist,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(stDlistHead));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">dlist_insert_head</span>(stDlistHead <span style="color:#f92672">*</span>dlist,stDlistNode <span style="color:#f92672">*</span>pNode,<span style="color:#66d9ef">int</span> data)    <span style="color:#75715e">//æ’å…¥å¤´ç»“ç‚¹ï¼Œæ“ä½œçš„é“¾è¡¨ï¼Œæ“ä½œçš„èŠ‚ç‚¹ï¼Œæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(pNode <span style="color:#f92672">==</span> NULL) {   <span style="color:#75715e">//å½“åªä¼ é€’ä¸€ä¸ªæ•°æ®æ—¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        pNode <span style="color:#f92672">=</span> (stDlistNode <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(stDlistNode));    <span style="color:#75715e">//æ–°å»ºèŠ‚ç‚¹ï¼Œä¸ºèŠ‚ç‚¹åˆ†é…ç©ºé—´ï¼ˆmallocï¼ˆï¼‰å¯èƒ½éœ€è¦#include&lt;malloc.h&gt;ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (pNode <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pNode<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;    
</span></span><span style="display:flex;"><span>    pNode<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    pNode<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (dlist<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {  <span style="color:#75715e">//å¦‚æœé“¾è¡¨é•¿åº¦ä¸º0ï¼Œå³é“¾è¡¨å½“å‰æ— èŠ‚ç‚¹ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        dlist<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> pNode;
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> pNode;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {                 <span style="color:#75715e">//å¦‚æœé“¾è¡¨å·²æœ‰èŠ‚ç‚¹ï¼Œåˆ™ä»¤æ–°æ’å…¥èŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        pNode<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> dlist<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> pNode;
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> pNode;    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dlist<span style="color:#f92672">-&gt;</span>size<span style="color:#f92672">++</span>;    <span style="color:#75715e">//æ¯æˆåŠŸè°ƒç”¨ä¸€æ¬¡ï¼Œé“¾è¡¨é•¿åº¦+1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>stDlistNode <span style="color:#f92672">*</span> <span style="color:#a6e22e">dlist_remove_tail</span>(stDlistHead <span style="color:#f92672">*</span>dlist)    <span style="color:#75715e">//åˆ é™¤å°¾éƒ¨èŠ‚ç‚¹,å¹¶è¿”å›åˆ é™¤èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    stDlistNode <span style="color:#f92672">*</span>pNode <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(dlist<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pNode <span style="color:#f92672">=</span> dlist<span style="color:#f92672">-&gt;</span>tail;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(dlist<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> dlist<span style="color:#f92672">-&gt;</span>tail<span style="color:#f92672">-&gt;</span>prev;
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>tail<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dlist<span style="color:#f92672">-&gt;</span>size<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> pNode;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dlist_remove_node</span>(stDlistHead <span style="color:#f92672">*</span> dlist,stDlistNode <span style="color:#f92672">*</span>pNode)     <span style="color:#75715e">//åˆ é™¤æŒ‡å®šèŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((dlist <span style="color:#f92672">==</span> NULL)<span style="color:#f92672">||</span>(pNode <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (dlist<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">==</span> pNode) {
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> dlist<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (dlist<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">==</span> pNode) {
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> pNode<span style="color:#f92672">-&gt;</span>prev;
</span></span><span style="display:flex;"><span>        dlist<span style="color:#f92672">-&gt;</span>tail<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        pNode<span style="color:#f92672">-&gt;</span>prev<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> pNode<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        pNode<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> pNode<span style="color:#f92672">-&gt;</span>prev;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dlist<span style="color:#f92672">-&gt;</span>size<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    pNode<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    pNode<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (dlist<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memset</span>(dlist,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(stDlistHead));     <span style="color:#75715e">//å°†dlistå ç”¨å†…å­˜å—çš„æ‰€æœ‰å€¼ç½®ä¸º0ï¼Œä¹Ÿå°±æ˜¯æ¸…ç©ºhead,tailæŒ‡é’ˆå†…å®¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>stDlistNode <span style="color:#f92672">*</span> <span style="color:#a6e22e">dlist_search</span>(stDlistHead <span style="color:#f92672">*</span> dlist,<span style="color:#66d9ef">int</span> data)     <span style="color:#75715e">//æ ¹æ®å€¼æœç´¢èŠ‚ç‚¹ï¼Œå¹¶è¿”å›
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    stDlistNode <span style="color:#f92672">*</span>pNode <span style="color:#f92672">=</span> dlist<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(pNode <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (pNode<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">==</span> data) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> pNode;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        pNode <span style="color:#f92672">=</span> pNode<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dlist_dump</span>(stDlistHead <span style="color:#f92672">*</span>dlist)    <span style="color:#75715e">//æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> no <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    stDlistNode <span style="color:#f92672">*</span>pNode <span style="color:#f92672">=</span> dlist<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(pNode <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> [%d] = %d&#34;</span>,no<span style="color:#f92672">++</span>,pNode<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>        pNode <span style="color:#f92672">=</span> pNode<span style="color:#f92672">-&gt;</span>next;    <span style="color:#75715e">//å°†pNodeçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ç»™pNodeï¼Œæ¨è¿›å¾ªç¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Lru_dlist</span>(stDlistHead <span style="color:#f92672">*</span>dlist,<span style="color:#66d9ef">int</span> data)     <span style="color:#75715e">//LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç¼“å­˜æ·˜æ±°ç®—æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    stDlistNode <span style="color:#f92672">*</span>pNode <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pNode <span style="color:#f92672">=</span> <span style="color:#a6e22e">dlist_search</span>(dlist,data);    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (pNode <span style="color:#f92672">!=</span> NULL) {    <span style="color:#75715e">//å¦‚æœåœ¨é“¾è¡¨ä¸­æ‰¾åˆ°è¿™ä¸ªå€¼ï¼Œåˆ™åˆ é™¤å‚¨å­˜è¿™ä¸ªå€¼çš„èŠ‚ç‚¹ï¼Œä¹‹åå§è¿™ä¸ªèŠ‚ç‚¹æ”¾åœ¨å¤´éƒ¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">dlist_remove_node</span>(dlist,pNode);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(dlist<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">4</span>)    {    <span style="color:#75715e">//æ²¡åœ¨é“¾è¡¨ä¸­æ‰¾åˆ°ï¼Œä¸”é“¾è¡¨é•¿åº¦å¤§äº4ï¼Œåˆ™ä»é“¾è¡¨ä¸­åˆ é™¤å°¾éƒ¨èŠ‚ç‚¹ï¼Œå°†æ–°æ•°æ®æ”¾åœ¨å¤´éƒ¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        pNode <span style="color:#f92672">=</span> <span style="color:#a6e22e">dlist_remove_tail</span>(dlist);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_insert_head</span>(dlist ,pNode,data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    stDlistHead dlist <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>};
</span></span><span style="display:flex;"><span>    stDlistNode <span style="color:#f92672">*</span> pNode <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_init</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> inset 1,2,3&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_insert_head</span>(<span style="color:#f92672">&amp;</span>dlist,NULL,<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_insert_head</span>(<span style="color:#f92672">&amp;</span>dlist,NULL,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_insert_head</span>(<span style="color:#f92672">&amp;</span>dlist,NULL,<span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_dump</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pNode <span style="color:#f92672">=</span> <span style="color:#a6e22e">dlist_remove_tail</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(pNode <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> remove %d&#34;</span>,pNode<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_insert_head</span>(<span style="color:#f92672">&amp;</span>dlist,pNode,<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_dump</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Lru_dlist</span>(<span style="color:#f92672">&amp;</span>dlist,<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_dump</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Lru_dlist</span>(<span style="color:#f92672">&amp;</span>dlist,<span style="color:#ae81ff">6</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_dump</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Lru_dlist</span>(<span style="color:#f92672">&amp;</span>dlist,<span style="color:#ae81ff">7</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_dump</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Lru_dlist</span>(<span style="color:#f92672">&amp;</span>dlist,<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dlist_dump</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(dlist.size <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        pNode <span style="color:#f92672">=</span> <span style="color:#a6e22e">dlist_remove_tail</span>(<span style="color:#f92672">&amp;</span>dlist);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(pNode <span style="color:#f92672">!=</span> NULL) { 
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> remove %d&#34;</span>,pNode<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">free</span> (pNode);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>linux/list</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// linuxå†…æ ¸æºç åŒå‘é“¾è¡¨å®ç°include/linux/list.h
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#ifndef _LIST_HEAD_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define _LIST_HEAD_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// åŒå‘é“¾è¡¨èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> list_head {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>next, <span style="color:#f92672">*</span>prev;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// åˆå§‹åŒ–èŠ‚ç‚¹ï¼šè®¾ç½®nameèŠ‚ç‚¹çš„å‰ç»§èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹éƒ½æ˜¯æŒ‡å‘nameæœ¬èº«ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#define LIST_HEAD_INIT(name) { &amp;(name), &amp;(name) }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å®šä¹‰è¡¨å¤´(èŠ‚ç‚¹)ï¼šæ–°å»ºåŒå‘é“¾è¡¨è¡¨å¤´nameï¼Œå¹¶è®¾ç½®nameçš„å‰ç»§èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹éƒ½æ˜¯æŒ‡å‘nameæœ¬èº«ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#define LIST_HEAD(name) \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    struct list_head name = LIST_HEAD_INIT(name)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// åˆå§‹åŒ–èŠ‚ç‚¹ï¼šå°†listèŠ‚ç‚¹çš„å‰ç»§èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹éƒ½æ˜¯æŒ‡å‘listæœ¬èº«ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">INIT_LIST_HEAD</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>list)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> list;
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> list;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ·»åŠ èŠ‚ç‚¹ï¼šå°†newæ’å…¥åˆ°prevå’Œnextä¹‹é—´ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">__list_add</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>new,
</span></span><span style="display:flex;"><span>                  <span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>prev,
</span></span><span style="display:flex;"><span>                  <span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>next)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    next<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> new;
</span></span><span style="display:flex;"><span>    new<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> next;
</span></span><span style="display:flex;"><span>    new<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> prev;
</span></span><span style="display:flex;"><span>    prev<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> new;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ·»åŠ newèŠ‚ç‚¹ï¼šå°†newæ·»åŠ åˆ°headä¹‹åï¼Œæ˜¯newç§°ä¸ºheadçš„åç»§èŠ‚ç‚¹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">list_add</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>new, <span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__list_add</span>(new, head, head<span style="color:#f92672">-&gt;</span>next);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ·»åŠ newèŠ‚ç‚¹ï¼šå°†newæ·»åŠ åˆ°headä¹‹å‰ï¼Œå³å°†newæ·»åŠ åˆ°åŒé“¾è¡¨çš„æœ«å°¾ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">list_add_tail</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>new, <span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__list_add</span>(new, head<span style="color:#f92672">-&gt;</span>prev, head);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ä»åŒé“¾è¡¨ä¸­åˆ é™¤entryèŠ‚ç‚¹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">__list_del</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span> prev, <span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span> next)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    next<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> prev;
</span></span><span style="display:flex;"><span>    prev<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> next;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ä»åŒé“¾è¡¨ä¸­åˆ é™¤entryèŠ‚ç‚¹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">list_del</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>entry)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__list_del</span>(entry<span style="color:#f92672">-&gt;</span>prev, entry<span style="color:#f92672">-&gt;</span>next);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ä»åŒé“¾è¡¨ä¸­åˆ é™¤entryèŠ‚ç‚¹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">__list_del_entry</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>entry)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__list_del</span>(entry<span style="color:#f92672">-&gt;</span>prev, entry<span style="color:#f92672">-&gt;</span>next);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ä»åŒé“¾è¡¨ä¸­åˆ é™¤entryèŠ‚ç‚¹ï¼Œå¹¶å°†entryèŠ‚ç‚¹çš„å‰ç»§èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹éƒ½æŒ‡å‘entryæœ¬èº«ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">list_del_init</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>entry)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__list_del_entry</span>(entry);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">INIT_LIST_HEAD</span>(entry);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ç”¨newèŠ‚ç‚¹å–ä»£oldèŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">list_replace</span>(<span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>old,
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>new)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    new<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> old<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    new<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> new;
</span></span><span style="display:flex;"><span>    new<span style="color:#f92672">-&gt;</span>prev <span style="color:#f92672">=</span> old<span style="color:#f92672">-&gt;</span>prev;
</span></span><span style="display:flex;"><span>    new<span style="color:#f92672">-&gt;</span>prev<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> new;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// åŒé“¾è¡¨æ˜¯å¦ä¸ºç©º
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">list_empty</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">struct</span> list_head <span style="color:#f92672">*</span>head)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> head<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">==</span> head;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// è·å–&#34;MEMBERæˆå‘˜&#34;åœ¨&#34;ç»“æ„ä½“TYPE&#34;ä¸­çš„ä½ç½®åç§»
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#define offsetof(TYPE, MEMBER) ((size_t) &amp;((TYPE *)0)-&gt;MEMBER)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ ¹æ®&#34;ç»“æ„ä½“(type)å˜é‡&#34;ä¸­çš„&#34;åŸŸæˆå‘˜å˜é‡(member)çš„æŒ‡é’ˆ(ptr)&#34;æ¥è·å–æŒ‡å‘æ•´ä¸ªç»“æ„ä½“å˜é‡çš„æŒ‡é’ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#define container_of(ptr, type, member) ({          \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    const typeof( ((type *)0)-&gt;member ) *__mptr = (ptr);    \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    (type *)( (char *)__mptr - offsetof(type,member) );})
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// éå†åŒå‘é“¾è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#define list_for_each(pos, head) \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    for (pos = (head)-&gt;next; pos != (head); pos = pos-&gt;next)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define list_for_each_safe(pos, n, head) \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    for (pos = (head)-&gt;next, n = pos-&gt;next; pos != (head); \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        pos = n, n = pos-&gt;next)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define list_entry(ptr, type, member) \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    container_of(ptr, type, member)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span></code></pre></div></details>
<h4 id="214-è·³è¡¨">2.1.4 è·³è¡¨<a hidden class="anchor" aria-hidden="true" href="#214-è·³è¡¨">#</a></h4>
<p>â€ƒè·³è¡¨å¯¹æ ‡çš„æ˜¯å¹³è¡¡æ ‘(AVL Tree), æ’å…¥/åˆ é™¤/æœç´¢éƒ½æ˜¯ O(logn)çš„æ•°æ®ç»“æ„ã€‚</p>
<details>
<summary>skiplist</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/*************************************************************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; File Name: skiplist.h
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Author:  jinshaohui
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Mail:    jinshaohui789@163.com
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Time:    18-10-31
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Desc:    
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> ************************************************************************/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifndef __SKIP_LIST_H__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define __SKIP_LIST_H__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _node {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> key;    <span style="color:#75715e">/*keyæ˜¯å”¯ä¸€çš„*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value;  <span style="color:#75715e">/*å­˜å‚¨çš„å†…å®¹*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> max_level; <span style="color:#75715e">/*å½“å‰èŠ‚ç‚¹æœ€å¤§å±‚æ•°*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> _node <span style="color:#f92672">*</span>next[<span style="color:#ae81ff">0</span>];<span style="color:#75715e">/*levelå±‚é“¾è¡¨ç»“æ„*/</span>
</span></span><span style="display:flex;"><span>}node;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _skiplist {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> level;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> count;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span>head;
</span></span><span style="display:flex;"><span>}skiplist;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ ¹æ®å½“å‰ç»“æ„ä½“å…ƒç´ çš„åœ°å€ï¼Œè·å–åˆ°ç»“æ„ä½“é¦–åœ°å€*/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define offsetof(TYPE,MEMBER) ((size_t) &amp;((TYPE *)0)-&gt;MEMBER)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define container(ptr,type,member) ({\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  const typeof( ((type *)0)-&gt;member) *__mptr = (ptr);\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  (type *) ( (char *)__mptr - offsetof(type,member));})
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;assert.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&#34;./skiplist.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*åˆ›å»ºnodeèŠ‚ç‚¹*/</span>
</span></span><span style="display:flex;"><span>node<span style="color:#f92672">*</span> <span style="color:#a6e22e">skip_list_create_node</span>(<span style="color:#66d9ef">int</span> level,<span style="color:#66d9ef">int</span> key,<span style="color:#66d9ef">int</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span> tmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    tmp <span style="color:#f92672">=</span>(node <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(node) <span style="color:#f92672">+</span> level<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(node <span style="color:#f92672">*</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assert</span>(tmp <span style="color:#f92672">!=</span> NULL);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(tmp,<span style="color:#ae81ff">0</span>,<span style="color:#66d9ef">sizeof</span>(node) <span style="color:#f92672">+</span> level<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(node<span style="color:#f92672">*</span>));
</span></span><span style="display:flex;"><span>    tmp<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">=</span> key;
</span></span><span style="display:flex;"><span>    tmp<span style="color:#f92672">-&gt;</span>value <span style="color:#f92672">=</span> value;
</span></span><span style="display:flex;"><span>    tmp<span style="color:#f92672">-&gt;</span>max_level <span style="color:#f92672">=</span> level;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> tmp;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*åˆ›å»ºè·³è¡¨çš„è¡¨å¤´ï¼Œmax_levelå±‚æ•°*/</span>
</span></span><span style="display:flex;"><span>skiplist <span style="color:#f92672">*</span> <span style="color:#a6e22e">skip_list_create</span>(<span style="color:#66d9ef">int</span> max_level)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    skiplist <span style="color:#f92672">*</span> list <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    list <span style="color:#f92672">=</span> (skiplist <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span> (<span style="color:#66d9ef">sizeof</span>(skiplist));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assert</span>(list <span style="color:#f92672">!=</span> NULL);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>level <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> <span style="color:#a6e22e">skip_list_create_node</span>(max_level,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(list);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> list;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*skiplist é”€æ¯*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">skip_list_destory</span>(skiplist <span style="color:#f92672">*</span> list)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span> tmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>((list <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (list<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(list<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>next[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        tmp <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>next[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>        list<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>next[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> tmp<span style="color:#f92672">-&gt;</span>next[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(tmp);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(list<span style="color:#f92672">-&gt;</span>head);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(list);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ’å…¥å…ƒç´ è·å¾—å±‚æ•°ï¼Œæ˜¯éšæœºäº§ç”Ÿçš„*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">skip_list_level</span>(skiplist <span style="color:#f92672">*</span> list)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> level <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> list<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>max_level; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ((<span style="color:#a6e22e">rand</span>()<span style="color:#f92672">%</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>            level<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> level;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">skip_list_insert</span>(skiplist <span style="color:#f92672">*</span>list,<span style="color:#66d9ef">int</span> key,<span style="color:#66d9ef">int</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> level <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">**</span>update <span style="color:#f92672">=</span> NULL;<span style="color:#75715e">/*ç”¨æ¥æ›´æ–°æ¯å±‚çš„æŒ‡é’ˆ*/</span>
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span>tmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (list <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*ç”³è¯·updateç©ºé—´ç”¨äºä¿å­˜æ¯å±‚çš„æŒ‡é’ˆ*/</span>
</span></span><span style="display:flex;"><span>    update <span style="color:#f92672">=</span> (node <span style="color:#f92672">**</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(node <span style="color:#f92672">*</span>)<span style="color:#f92672">*</span>list<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>max_level);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (update <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*é€å±‚æŸ¥è¯¢èŠ‚ç‚¹çš„*/</span>
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> (list<span style="color:#f92672">-&gt;</span>level <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>); i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*åˆå§‹åŒ–æ¯levelå±‚çš„å¤´æŒ‡é’ˆ*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(((tmp <span style="color:#f92672">=</span> prev<span style="color:#f92672">-&gt;</span>next[i]) <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (tmp<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">&lt;</span> key)) {
</span></span><span style="display:flex;"><span>            prev  <span style="color:#f92672">=</span> tmp;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        update[i] <span style="color:#f92672">=</span> prev;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*å½“å‰keyå·²ç»å­˜åœ¨ï¼Œè¿”å›é”™è¯¯*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((tmp<span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (tmp<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">==</span> key)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*è·å–æ’å…¥å…ƒç´ çš„éšæœºå±‚æ•°ï¼Œå¹¶æ›´æ–°è·³è¡¨çš„æœ€å¤§å±‚æ•°*/</span>
</span></span><span style="display:flex;"><span>    level <span style="color:#f92672">=</span> <span style="color:#a6e22e">skip_list_level</span>(list);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*åˆ›å»ºå½“å‰æ•°æ®èŠ‚ç‚¹*/</span>
</span></span><span style="display:flex;"><span>    tmp <span style="color:#f92672">=</span> <span style="color:#a6e22e">skip_list_create_node</span>(level,key,value);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (tmp <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*æ›´æ–°æœ€å¤§å±‚æ•°*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (level <span style="color:#f92672">&gt;</span> list<span style="color:#f92672">-&gt;</span>level) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>level;i <span style="color:#f92672">&lt;</span> level; i <span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            update[i] <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        list<span style="color:#f92672">-&gt;</span>level <span style="color:#f92672">=</span> level;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*é€å±‚æ›´æ–°èŠ‚ç‚¹çš„æŒ‡é’ˆ*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> level; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        tmp<span style="color:#f92672">-&gt;</span>next[i] <span style="color:#f92672">=</span> update[i]<span style="color:#f92672">-&gt;</span>next[i];
</span></span><span style="display:flex;"><span>        update[i]<span style="color:#f92672">-&gt;</span>next[i] <span style="color:#f92672">=</span> tmp; 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    list<span style="color:#f92672">-&gt;</span>count<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">skip_list_delete</span>(skiplist <span style="color:#f92672">*</span> list, <span style="color:#66d9ef">int</span> key ,<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">**</span>update <span style="color:#f92672">=</span> NULL;<span style="color:#75715e">/*ç”¨æ¥æ›´æ–°æ¯å±‚çš„æŒ‡é’ˆ*/</span>
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span>tmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((list <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (value <span style="color:#f92672">==</span> NULL)<span style="color:#f92672">&amp;&amp;</span> (list<span style="color:#f92672">-&gt;</span>count <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*ç”³è¯·updateç©ºé—´ç”¨äºä¿å­˜æ¯å±‚çš„æŒ‡é’ˆ*/</span>
</span></span><span style="display:flex;"><span>    update <span style="color:#f92672">=</span> (node <span style="color:#f92672">**</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(node <span style="color:#f92672">*</span>)<span style="color:#f92672">*</span>list<span style="color:#f92672">-&gt;</span>level);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (update <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*é€å±‚æŸ¥è¯¢èŠ‚ç‚¹çš„*/</span>
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> (list<span style="color:#f92672">-&gt;</span>level <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>); i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*åˆå§‹åŒ–æ¯levelå±‚çš„å¤´æŒ‡é’ˆ*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(((tmp <span style="color:#f92672">=</span> prev<span style="color:#f92672">-&gt;</span>next[i]) <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (tmp<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">&lt;</span> key)) {
</span></span><span style="display:flex;"><span>            prev <span style="color:#f92672">=</span> tmp;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        update[i] <span style="color:#f92672">=</span> prev;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((tmp <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (tmp<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">==</span> key)) {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">*</span>value <span style="color:#f92672">=</span> tmp<span style="color:#f92672">-&gt;</span>value;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*é€å±‚åˆ é™¤*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> list<span style="color:#f92672">-&gt;</span>level; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(update[i]<span style="color:#f92672">-&gt;</span>next[i] <span style="color:#f92672">==</span> tmp) {
</span></span><span style="display:flex;"><span>                update[i]<span style="color:#f92672">-&gt;</span>next[i] <span style="color:#f92672">=</span> tmp<span style="color:#f92672">-&gt;</span>next[i];       
</span></span><span style="display:flex;"><span>            }    
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(tmp);
</span></span><span style="display:flex;"><span>        tmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*æ›´æ–°levelçš„å±‚æ•°*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>level <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (list<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>next[i] <span style="color:#f92672">==</span> NULL ) {
</span></span><span style="display:flex;"><span>                list<span style="color:#f92672">-&gt;</span>level<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        list<span style="color:#f92672">-&gt;</span>count<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span>;<span style="color:#75715e">/*æœªæ‰¾åˆ°èŠ‚ç‚¹*/</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> ;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æŸ¥è¯¢å½“å‰keyæ˜¯å¦åœ¨è·³è¡¨ä¸­ï¼Œå¦‚æœå­˜åœ¨è¿”å›æŸ¥è¯¢çš„valueæ•°å€¼ï¼Œä¸å­˜åœ¨è¿”å›-1*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">skip_list_search</span>(skiplist <span style="color:#f92672">*</span>list,<span style="color:#66d9ef">int</span> key,<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span>tmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>((list <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (list<span style="color:#f92672">-&gt;</span>count <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">||</span> (value <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>level <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(((tmp <span style="color:#f92672">=</span> prev<span style="color:#f92672">-&gt;</span>next[i]) <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (tmp<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">&lt;=</span> key)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (tmp<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">==</span> key) {
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">*</span>value <span style="color:#f92672">=</span> tmp<span style="color:#f92672">-&gt;</span>value;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            prev <span style="color:#f92672">=</span> tmp;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">skip_list_dump</span>(skiplist <span style="color:#f92672">*</span>list)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    node <span style="color:#f92672">*</span>ptmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">----------------------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> skip list level[%d],count[%d]&#34;</span>,list<span style="color:#f92672">-&gt;</span>level,list<span style="color:#f92672">-&gt;</span>count);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>level <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        ptmp <span style="color:#f92672">=</span> list<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>next[i];
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> level[%d]:&#34;</span>,i);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(ptmp <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d-%d &#34;</span>,ptmp<span style="color:#f92672">-&gt;</span>key,ptmp<span style="color:#f92672">-&gt;</span>value);
</span></span><span style="display:flex;"><span>            ptmp <span style="color:#f92672">=</span> ptmp<span style="color:#f92672">-&gt;</span>next[i];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">----------------------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> res <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> key <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> value <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    skiplist <span style="color:#f92672">*</span>list <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    list <span style="color:#f92672">=</span> <span style="color:#a6e22e">skip_list_create</span>(<span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assert</span>(list <span style="color:#f92672">!=</span> NULL);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> è¯·è¾“å…¥key å’Œ valueï¼Œå½“key = 1000æ—¶ï¼Œé€€å‡ºè¾“å…¥ï¼š&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d%d&#34;</span>,<span style="color:#f92672">&amp;</span>key,<span style="color:#f92672">&amp;</span>value);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (key <span style="color:#f92672">==</span> <span style="color:#ae81ff">1000</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        res <span style="color:#f92672">=</span> <span style="color:#a6e22e">skip_list_insert</span>(list,key,value);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (res <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> skip list insert %d,failed,res=%d.&#34;</span>,key,res);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">skip_list_dump</span>(list);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> é€šè¿‡key æŸ¥è¯¢valueçš„æ•°å€¼ï¼Œå½“key = 1000æ—¶ï¼Œé€€å‡ºæŸ¥è¯¢&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>key);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(key <span style="color:#f92672">==</span> <span style="color:#ae81ff">1000</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        res <span style="color:#f92672">=</span> <span style="color:#a6e22e">skip_list_search</span>(list,key,<span style="color:#f92672">&amp;</span>value);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (res <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> skip list search %d,failed,res=%d.&#34;</span>,key,res);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> skip list search %d,sucessful,value=%d.&#34;</span>,key,value);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">skip_list_dump</span>(list);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> é€šè¿‡key åˆ é™¤èŠ‚ç‚¹ï¼Œå½“key = 1000æ—¶ï¼Œé€€å‡ºåˆ é™¤&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>key);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(key <span style="color:#f92672">==</span> <span style="color:#ae81ff">1000</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        res <span style="color:#f92672">=</span> <span style="color:#a6e22e">skip_list_delete</span>(list,key,<span style="color:#f92672">&amp;</span>value);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (res <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> skip list search %d,failed,res=%d.&#34;</span>,key,res);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> skip list search %d,sucessful,value=%d.&#34;</span>,key,value);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">skip_list_dump</span>(list);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">skip_list_destory</span>(list);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="215-æ ˆ">2.1.5 æ ˆ<a hidden class="anchor" aria-hidden="true" href="#215-æ ˆ">#</a></h4>
<p>â€ƒæ ˆæŒ‰ç…§åè¿›å…ˆå‡º(LIFO)çš„é¡ºåºå­˜å‚¨å’Œæ£€ç´¢æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œæ£€ç´¢å…ƒç´ çš„é¡ºåºå’Œå­˜å‚¨å…ƒç´ é¡ºåºç›¸åã€‚
â€ƒå¯é€šè¿‡é“¾è¡¨æ¥å®ç°æ ˆstack,å…è®¸æ’å…¥å’Œåˆ é™¤çš„ä¸ºæ ˆé¡¶(<code>top</code>),å¦ä¸€ç«¯ä¸ºæ ˆåº•(<code>bottom</code>),æ ˆä¸­æ¯ä¸ªå…ƒç´ ä¸º<code>frame</code>,æ ˆåªæ”¯æŒä¸‰ä¸ªæ“ä½œ:<code>pop</code>,<code>top</code>,<code>push</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> List Stack;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define stack_init list_init;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">stack_push</span>(Stack <span style="color:#f92672">*</span>stack, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">stack_pop</span>(Stack <span style="color:#f92672">*</span>stack, <span style="color:#66d9ef">void</span> <span style="color:#f92672">**</span>data);
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define stack_peek(stack) ((stack)-&gt;head == NULL ? NULL : (stack)-&gt;head-&gt;data);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define stack_size list_size;
</span></span></span></code></pre></div><p>â€ƒcè¯­è¨€é¡ºåºæ ˆ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// å…ƒç´ elemè¿›æ ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">push</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">int</span> top, <span style="color:#66d9ef">char</span> elem) {
</span></span><span style="display:flex;"><span>    a[<span style="color:#f92672">++</span>top] <span style="color:#f92672">=</span> elem;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> top;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ•°æ®å…ƒç´ å‡ºæ ˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">pop</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">int</span> top)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (top <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    top<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> top;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><details>
<summary>arrayStack</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/*************************************************************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; File Name: arrayStack
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Author:  jinshaohui
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Mail:    jinshaohui789@163.com
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Time:    18-10-12
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Desc:   æ•°ç»„å®ç°é¡ºåºæ ˆ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> ************************************************************************/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifndef ARRAY_STACJ_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define ARRAY_STACJ_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _array_stack {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size;<span style="color:#75715e">/*æ ˆçš„å¤§å°*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> pos;<span style="color:#75715e">/*å½“å‰å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°ï¼Œå³æ ˆé¡¶å…ƒç´ ä¸‹è¡¨*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>array;<span style="color:#75715e">/*æ•°æ®å­˜å‚¨åŒº*/</span>
</span></span><span style="display:flex;"><span>}stArrayStack;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define arrayStack_size(arrayStack) (arrayStack-&gt;size)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define arrayStack_is_empty(arrayStack) (arrayStack-&gt;pos == -1)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define arrayStack_is_full(arrayStack)  (arrayStack-&gt;pos == (arrayStack-&gt;size-1))
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&#34;./arrayStack.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*åˆ›å»ºå¹¶åˆå§‹åŒ–é¡ºåºæ ˆ*/</span>
</span></span><span style="display:flex;"><span>stArrayStack <span style="color:#f92672">*</span> <span style="color:#a6e22e">arrayStack_create</span>(<span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    stArrayStack <span style="color:#f92672">*</span>parrStack <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    parrStack <span style="color:#f92672">=</span> (stArrayStack <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(stArrayStack));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (parrStack <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">=</span> size;
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>pos <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>array <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span>size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(parrStack<span style="color:#f92672">-&gt;</span>array <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(parrStack);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> parrStack;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*é”€æ¯é¡ºåºæ ˆ*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">arrayStack_destory</span>(stArrayStack <span style="color:#f92672">*</span> parrStack)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(parrStack <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (parrStack<span style="color:#f92672">-&gt;</span>array <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(parrStack<span style="color:#f92672">-&gt;</span>array);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(parrStack);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*å‡ºæ ˆ*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">arrayStack_pop</span>(stArrayStack <span style="color:#f92672">*</span>parrStack)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">arrayStack_is_empty</span>(parrStack)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    data <span style="color:#f92672">=</span> parrStack<span style="color:#f92672">-&gt;</span>array[parrStack<span style="color:#f92672">-&gt;</span>pos];
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>pos<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> data;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*å…¥æ ˆ*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">arrayStack_push</span>(stArrayStack <span style="color:#f92672">*</span>parrStack,<span style="color:#66d9ef">int</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">arrayStack_is_full</span>(parrStack)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>pos<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>array[parrStack<span style="color:#f92672">-&gt;</span>pos] <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">arrayStack_push_new</span>(stArrayStack<span style="color:#f92672">*</span>parrStack,<span style="color:#66d9ef">int</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>ptmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*å¦‚æœæ ˆä¸æ»¡ï¼Œç›´æ¥æ’å…¥*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">arrayStack_is_full</span>(parrStack)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arrayStack_push</span>(parrStack,data);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*å¦‚æœæ ˆå·²ç»æ»¡ï¼Œç”³è¯·å†…å­˜*/</span>
</span></span><span style="display:flex;"><span>    ptmp <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>parrStack<span style="color:#f92672">-&gt;</span>size<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (ptmp <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memcpy</span>(ptmp,parrStack<span style="color:#f92672">-&gt;</span>array,parrStack<span style="color:#f92672">-&gt;</span>size<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(parrStack<span style="color:#f92672">-&gt;</span>array);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>array <span style="color:#f92672">=</span> ptmp;
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>parrStack<span style="color:#f92672">-&gt;</span>size;
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>pos<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>array[parrStack<span style="color:#f92672">-&gt;</span>pos] <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">arrayStack_dump</span>(stArrayStack <span style="color:#f92672">*</span>parrStack)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">arrayStack_is_empty</span>(parrStack)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> arrayStack is empty.&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">arrayStack size = %d,pos= %d,&#34;</span>,
</span></span><span style="display:flex;"><span>    parrStack<span style="color:#f92672">-&gt;</span>size,parrStack<span style="color:#f92672">-&gt;</span>pos);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;=</span> parrStack<span style="color:#f92672">-&gt;</span>pos; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">arry[%d] = %d&#34;</span>,i,parrStack<span style="color:#f92672">-&gt;</span>array[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> ret <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    stArrayStack <span style="color:#f92672">*</span> parrStack <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> create size = 4 arrayStack.&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    parrStack <span style="color:#f92672">=</span> <span style="color:#a6e22e">arrayStack_create</span>(<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (parrStack <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> create size = 4 arrayStack faided.&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">arrayStack_push</span>(parrStack,i);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ret <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> push size = %d arrayStack faided.&#34;</span>,i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arrayStack_dump</span>(parrStack);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">arrayStack_push_new</span>(parrStack,<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(ret <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> push size = %d arrayStack faided.&#34;</span>,<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arrayStack_dump</span>(parrStack);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arrayStack_destory</span>(parrStack);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<p>â€ƒé“¾æ ˆ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> lineStack {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> lineStack <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>}lineStack;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>lineStack<span style="color:#f92672">*</span> <span style="color:#a6e22e">push</span>(lineStack <span style="color:#f92672">*</span> stack, <span style="color:#66d9ef">char</span> a){
</span></span><span style="display:flex;"><span>    lineStack <span style="color:#f92672">*</span> line<span style="color:#f92672">=</span>(lineStack<span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(lineStack));
</span></span><span style="display:flex;"><span>    line<span style="color:#f92672">-&gt;</span>data<span style="color:#f92672">=</span>a;
</span></span><span style="display:flex;"><span>    line<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">=</span>stack;
</span></span><span style="display:flex;"><span>    stack<span style="color:#f92672">=</span>line;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> stack;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>lineStack <span style="color:#f92672">*</span> <span style="color:#a6e22e">pop</span>(lineStack <span style="color:#f92672">*</span> stack){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (stack) {
</span></span><span style="display:flex;"><span>        lineStack <span style="color:#f92672">*</span> p<span style="color:#f92672">=</span>stack;
</span></span><span style="display:flex;"><span>        stack<span style="color:#f92672">=</span>stack<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;å¼¹æ ˆå…ƒç´ ï¼š%c &#34;</span>,p<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (stack) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;æ ˆé¡¶å…ƒç´ ï¼š%c</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,stack<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;æ ˆå·²ç©º</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;æ ˆå†…æ²¡æœ‰å…ƒç´ &#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> stack;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> stack;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><details>
<summary>linklist_stack</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/*************************************************************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; File Name: linklist_stack
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Author:  jinshaohui
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Mail:    jinshaohui789@163.com
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Time:    18-10-12
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Desc:    
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> ************************************************************************/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifndef STACK_LINK_LIST_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define STACK_LINK_LIST_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _linkliststack {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> _linkliststack <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>}linklist_stack;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define stack_is_empty(liststack) (liststack-&gt;next == NULL)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;./linklist_stack.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>linklist_stack <span style="color:#f92672">*</span> <span style="color:#a6e22e">stack_create</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    linklist_stack <span style="color:#f92672">*</span> stack <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    stack <span style="color:#f92672">=</span> (linklist_stack <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(linklist_stack));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (stack <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    stack<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> stack;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">stack_destory</span>(linklist_stack<span style="color:#f92672">*</span> stack)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    linklist_stack <span style="color:#f92672">*</span> ptmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">stack_is_empty</span>(stack)) {
</span></span><span style="display:flex;"><span>        ptmp <span style="color:#f92672">=</span> stack<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        stack<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> stack<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(ptmp);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(stack);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">stack_push</span>(linklist_stack <span style="color:#f92672">*</span>stack,<span style="color:#66d9ef">int</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    linklist_stack <span style="color:#f92672">*</span> ptmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ptmp <span style="color:#f92672">=</span> (linklist_stack <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(linklist_stack));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (ptmp <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ptmp<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>    ptmp<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> stack<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    stack<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> ptmp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">stack_pop</span>(linklist_stack<span style="color:#f92672">*</span>stack,<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    linklist_stack <span style="color:#f92672">*</span>ptmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (data <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">stack_is_empty</span>(stack)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>data <span style="color:#f92672">=</span> stack<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>data;
</span></span><span style="display:flex;"><span>    ptmp <span style="color:#f92672">=</span> stack<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    stack<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> ptmp<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(ptmp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">stack_dump</span>(linklist_stack <span style="color:#f92672">*</span>stack)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    linklist_stack <span style="color:#f92672">*</span> ptmp <span style="color:#f92672">=</span> stack<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(ptmp <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> data = %d&#34;</span>,ptmp<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>        ptmp <span style="color:#f92672">=</span> ptmp<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> ret <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    linklist_stack <span style="color:#f92672">*</span> stack <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    stack <span style="color:#f92672">=</span> <span style="color:#a6e22e">stack_create</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (stack <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> stack create falied.&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">stack_push</span>(stack,i);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ret <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> stack push %d falied.&#34;</span>,i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">stack_dump</span>(stack);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">stack_pop</span>(stack,<span style="color:#f92672">&amp;</span>data);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ret <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> stack pop%d falied.&#34;</span>, i);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> data = %d,&#34;</span>,data);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">stack_destory</span>(stack);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="216-é˜Ÿåˆ—">2.1.6 é˜Ÿåˆ—<a hidden class="anchor" aria-hidden="true" href="#216-é˜Ÿåˆ—">#</a></h4>
<p>â€ƒé˜Ÿåˆ—ï¼Œåœ¨å‰ç«¯(<code>front</code>)è¿›è¡Œåˆ é™¤æ“ä½œï¼Œåç«¯(<code>rear</code>)è¿›è¡Œæ’å…¥æ“ä½œ; æŒ‰ç…§å…ˆè¿›å…ˆå‡º(<code>FIFO</code>)çš„é¡ºåºå­˜å‚¨å’Œæ£€ç´¢æ•°æ®çš„é«˜æ•ˆæ•°æ®ç»“æ„ï¼ŒæŒ‰ç…§å…ƒç´ çš„å­˜å‚¨é¡ºåºæ£€ç´¢å…ƒç´ ã€‚
â€ƒé˜Ÿåˆ—ä¹Ÿå¯é€šè¿‡æ•°ç»„å’Œé“¾è¡¨å®ç°ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> List Queue;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define queue_init list_init;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define queue_destroy list_destroy;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">queue_enqueue</span>(Queue <span style="color:#f92672">*</span>queue, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">queue_dequeue</span>(Queue <span style="color:#f92672">*</span>queue, <span style="color:#66d9ef">void</span> <span style="color:#f92672">**</span>data);
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define queue_peek(queue) ((queue)-&gt;head == NULL ? NULL : (queue)-&gt;head-&gt;data);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define queue_size list_size;
</span></span></span></code></pre></div><details>
<summary>array_queue</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/*************************************************************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; File Name: array_queue
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Author:  jinshaohui
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Mail:    jinshaohui789@163.com
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Time:    18-10-12
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Desc:    
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> ************************************************************************/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifndef ARRAY_QUEUE_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define ARRAY_QUEUE_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _array_queue {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size;<span style="color:#75715e">/*é˜Ÿåˆ—çš„å¤§å°*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num; <span style="color:#75715e">/*å½“å‰å­˜å‚¨æ•°æ®çš„å¤§å°*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> head;<span style="color:#75715e">/*é˜Ÿåˆ—çš„å¤´*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> tail;<span style="color:#75715e">/*é˜Ÿåˆ—çš„å°¾*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>array;<span style="color:#75715e">/*æ•°æ®å­˜å‚¨åŒº*/</span>
</span></span><span style="display:flex;"><span>}array_queue;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define array_queue_is_empty(array_queue) (array_queue-&gt;num == 0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define array_queue_is_full(array_queue)  ((array_queue-&gt;num) == (array_queue-&gt;size))
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&#34;./array_queue.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>array_queue <span style="color:#f92672">*</span> <span style="color:#a6e22e">array_queue_create</span>(<span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    array_queue <span style="color:#f92672">*</span> queue <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue <span style="color:#f92672">=</span> (array_queue<span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(array_queue));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (queue <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>array <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>)<span style="color:#f92672">*</span>size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (queue<span style="color:#f92672">-&gt;</span>array <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(queue);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>size  <span style="color:#f92672">=</span> size;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>num   <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>head  <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>tail  <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> queue;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">array_queue_destory</span>(array_queue <span style="color:#f92672">*</span>queue)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (queue <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (queue<span style="color:#f92672">-&gt;</span>array <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(queue<span style="color:#f92672">-&gt;</span>array);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(queue);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*å…¥é˜Ÿåˆ— */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">array_queue_enqueue</span>(array_queue <span style="color:#f92672">*</span>queue,<span style="color:#66d9ef">int</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*é˜Ÿåˆ—ä¸ºç©ºï¼Œæˆ–è€…é˜Ÿåˆ—æ»¡æ—¶ï¼Œè¿”å›-1*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((queue <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (<span style="color:#a6e22e">array_queue_is_full</span>(queue))) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>num<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>array[queue<span style="color:#f92672">-&gt;</span>tail] <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> (queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> queue<span style="color:#f92672">-&gt;</span>size;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*å‡ºé˜Ÿåˆ—*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">array_queue_dequeue</span>(array_queue <span style="color:#f92672">*</span> queue,<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*é˜Ÿåˆ—ä¸ºç©ºï¼Œæ•°æ®å­˜å‚¨ä¸ºç©ºï¼Œé˜Ÿåˆ—ä¸ºç©ºæ—¶è¿”å›-1*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((queue <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (data <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (<span style="color:#a6e22e">array_queue_is_empty</span>(queue))) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>data <span style="color:#f92672">=</span> queue<span style="color:#f92672">-&gt;</span>array[queue<span style="color:#f92672">-&gt;</span>head];
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>num<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> (queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> queue<span style="color:#f92672">-&gt;</span>size;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">array_queue_dump</span>(array_queue <span style="color:#f92672">*</span>queue)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> pos <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((queue <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (<span style="color:#a6e22e">array_queue_is_empty</span>(queue))) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> queue is empty&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> size:%d,num:%d,head:%d,tali:%d&#34;</span>,
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>size,queue<span style="color:#f92672">-&gt;</span>num,queue<span style="color:#f92672">-&gt;</span>head,queue<span style="color:#f92672">-&gt;</span>tail);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> queue<span style="color:#f92672">-&gt;</span>num; i <span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        pos <span style="color:#f92672">=</span> (queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">+</span> i) <span style="color:#f92672">%</span>queue<span style="color:#f92672">-&gt;</span>size;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> array[%d] = %d&#34;</span>,pos,queue<span style="color:#f92672">-&gt;</span>array[pos]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> ret <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    array_queue <span style="color:#f92672">*</span> queue <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_queue_create</span>(<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (queue <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> queue is create failed.&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*é˜Ÿåˆ—æ—¶ç©ºæ—¶ï¼Œå‡ºé˜Ÿè¿”å›é”™è¯¯*/</span>
</span></span><span style="display:flex;"><span>    ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_queue_dequeue</span>(queue, <span style="color:#f92672">&amp;</span>data);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (ret <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> queue %d dequeue failed.&#34;</span>,ret);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*é˜Ÿåˆ—å¤§å°æ˜¯4ï¼Œå…¥é˜Ÿ5ä¸ªï¼Œæœ€åä¸€ä¸ªæŠ¥é”™*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_queue_enqueue</span>(queue,i);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (ret <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> queue %d enqueue failed.&#34;</span>,i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">array_queue_dump</span>(queue);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_queue_dequeue</span>(queue, <span style="color:#f92672">&amp;</span>data);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (ret <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> queue %d dequeue failed.&#34;</span>,i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> queue %d dequue.&#34;</span>,data);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">array_queue_dump</span>(queue);
</span></span><span style="display:flex;"><span>    data <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> queue %d enqueue.&#34;</span>,data);
</span></span><span style="display:flex;"><span>    ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">array_queue_enqueue</span>(queue,data);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (ret <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> queue %d enqueue failed.&#34;</span>,data);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">array_queue_dump</span>(queue);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">array_queue_destory</span>(queue);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>list_queue</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#ifndef LINK_LIST_QUEUE_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define LINK_LIST_QUEUE_H
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _list_queue_node {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> _list_queue_node <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>}queue_node;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _list_queue {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>    queue_node <span style="color:#f92672">*</span>head;
</span></span><span style="display:flex;"><span>    queue_node <span style="color:#f92672">*</span>tail;
</span></span><span style="display:flex;"><span>}list_queue;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define list_queue_is_empty(queue) ((queue-&gt;num) == 0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>list_queue <span style="color:#f92672">*</span><span style="color:#a6e22e">list_queue_create</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">list_queue_enqueue</span>(list_queue <span style="color:#f92672">*</span>queue,<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">list_queue_dequeue</span>(list_queue <span style="color:#f92672">*</span>queue,<span style="color:#66d9ef">void</span> <span style="color:#f92672">**</span>data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&#34;./list_queue.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*åˆ›å»ºé˜Ÿåˆ—å¤´*/</span>
</span></span><span style="display:flex;"><span>list_queue <span style="color:#f92672">*</span><span style="color:#a6e22e">list_queue_create</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    list_queue <span style="color:#f92672">*</span> queue <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue <span style="color:#f92672">=</span> (list_queue <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(list_queue));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(queue <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>num  <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> queue;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*å…¥é˜Ÿ*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">list_queue_enqueue</span>(list_queue <span style="color:#f92672">*</span>queue,<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    queue_node <span style="color:#f92672">*</span>ptmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(queue <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ptmp <span style="color:#f92672">=</span> (queue_node <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(queue_node));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (ptmp <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ptmp<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>    ptmp<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> ptmp;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        queue<span style="color:#f92672">-&gt;</span>tail<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> ptmp;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> ptmp;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>num<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*å‡ºé˜Ÿ*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">list_queue_dequeue</span>(list_queue <span style="color:#f92672">*</span>queue,<span style="color:#66d9ef">void</span> <span style="color:#f92672">**</span>data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    queue_node <span style="color:#f92672">*</span> ptmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((queue <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (data <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> <span style="color:#a6e22e">list_queue_is_empty</span>(queue)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>data <span style="color:#f92672">=</span> queue<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>data;
</span></span><span style="display:flex;"><span>    ptmp <span style="color:#f92672">=</span> queue<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> queue<span style="color:#f92672">-&gt;</span>head<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>num<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(ptmp);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>ring_queue</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> ring_queue {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> cap;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> head, tail;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>_q;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">alloc_queue</span>(<span style="color:#66d9ef">struct</span> ring_queue<span style="color:#f92672">*</span> queue, <span style="color:#66d9ef">int</span> cap)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>queue <span style="color:#f92672">||</span> cap <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (queue<span style="color:#f92672">-&gt;</span>_q)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>_q <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(cap <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>queue<span style="color:#f92672">-&gt;</span>_q)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>cap <span style="color:#f92672">=</span> cap;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">free_queue</span>(<span style="color:#66d9ef">struct</span> ring_queue <span style="color:#f92672">*</span>queue)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>cap <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(queue<span style="color:#f92672">-&gt;</span>_q);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">_valid_index</span>(<span style="color:#66d9ef">int</span> curr, <span style="color:#66d9ef">int</span> step, <span style="color:#66d9ef">int</span> cap)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (curr <span style="color:#f92672">+</span> step) <span style="color:#f92672">%</span> cap;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">_next</span>(<span style="color:#66d9ef">int</span> curr, <span style="color:#66d9ef">int</span> cap)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">_valid_index</span>(curr, <span style="color:#ae81ff">1</span>, cap);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">is_empty</span>(<span style="color:#66d9ef">struct</span> ring_queue <span style="color:#f92672">*</span>queue)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">==</span> queue<span style="color:#f92672">-&gt;</span>tail);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">is_full</span>(<span style="color:#66d9ef">struct</span> ring_queue <span style="color:#f92672">*</span>queue)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> next_tail <span style="color:#f92672">=</span> <span style="color:#a6e22e">_next</span>(queue<span style="color:#f92672">-&gt;</span>tail, queue<span style="color:#f92672">-&gt;</span>cap);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (next_tail <span style="color:#f92672">==</span> queue<span style="color:#f92672">-&gt;</span>head);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">enqueue</span>(<span style="color:#66d9ef">struct</span> ring_queue<span style="color:#f92672">*</span> queue, <span style="color:#66d9ef">int</span> elem)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">is_full</span>(queue))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>_q[queue<span style="color:#f92672">-&gt;</span>tail] <span style="color:#f92672">=</span> elem;
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">=</span> <span style="color:#a6e22e">_next</span>(queue<span style="color:#f92672">-&gt;</span>tail, queue<span style="color:#f92672">-&gt;</span>cap);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">dequeue</span>(<span style="color:#66d9ef">struct</span> ring_queue<span style="color:#f92672">*</span> queue, <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>elem)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">is_empty</span>(queue))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (elem)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>elem <span style="color:#f92672">=</span> queue<span style="color:#f92672">-&gt;</span>_q[queue<span style="color:#f92672">-&gt;</span>head];
</span></span><span style="display:flex;"><span>    queue<span style="color:#f92672">-&gt;</span>head <span style="color:#f92672">=</span> <span style="color:#a6e22e">_next</span>(queue<span style="color:#f92672">-&gt;</span>head, queue<span style="color:#f92672">-&gt;</span>cap);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">size</span>(<span style="color:#66d9ef">struct</span> ring_queue<span style="color:#f92672">*</span> queue)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> queue<span style="color:#f92672">-&gt;</span>tail <span style="color:#f92672">-</span> queue<span style="color:#f92672">-&gt;</span>head;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (size <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    size <span style="color:#f92672">+=</span> queue<span style="color:#f92672">-&gt;</span>cap;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> size;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump</span>(<span style="color:#66d9ef">struct</span> ring_queue<span style="color:#f92672">*</span> queue)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Queue has %d elements with %d capacity</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">size</span>(queue), queue<span style="color:#f92672">-&gt;</span>cap);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">size</span>(queue); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        idx <span style="color:#f92672">=</span> <span style="color:#a6e22e">_valid_index</span>(queue<span style="color:#f92672">-&gt;</span>head, i, queue<span style="color:#f92672">-&gt;</span>cap);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;[%02d]: %08d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, idx, queue<span style="color:#f92672">-&gt;</span>_q[idx]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> ring_queue queue <span style="color:#f92672">=</span> {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, NULL};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">alloc_queue</span>(<span style="color:#f92672">&amp;</span>queue, <span style="color:#ae81ff">8</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Failed to allocate a queue</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;A new queue is %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">is_empty</span>(<span style="color:#f92672">&amp;</span>queue)<span style="color:#f92672">?</span><span style="color:#e6db74">&#34;empty&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;not empty&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">enqueue</span>(<span style="color:#f92672">&amp;</span>queue, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;After enqueue 1 element, queue is %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">is_empty</span>(<span style="color:#f92672">&amp;</span>queue)<span style="color:#f92672">?</span><span style="color:#e6db74">&#34;empty&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;not empty&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dequeue</span>(<span style="color:#f92672">&amp;</span>queue, NULL);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;After dequeue 1 element, queue is %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">is_empty</span>(<span style="color:#f92672">&amp;</span>queue)<span style="color:#f92672">?</span><span style="color:#e6db74">&#34;empty&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;not empty&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">7</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">enqueue</span>(<span style="color:#f92672">&amp;</span>queue, i);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;After enqueue 7 element, queue is %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">is_full</span>(<span style="color:#f92672">&amp;</span>queue)<span style="color:#f92672">?</span><span style="color:#e6db74">&#34;full&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;not full&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">dequeue</span>(<span style="color:#f92672">&amp;</span>queue, NULL);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">enqueue</span>(<span style="color:#f92672">&amp;</span>queue, i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;After enqueue/dequeue 4 element, queue is %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">is_full</span>(<span style="color:#f92672">&amp;</span>queue)<span style="color:#f92672">?</span><span style="color:#e6db74">&#34;full&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;not full&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Head is %d, Tail is %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, queue.head, queue.tail);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>queue);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free_queue</span>(<span style="color:#f92672">&amp;</span>queue);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<p>â€‚é˜Ÿåˆ—åº”ç”¨ï¼šè¿›ç¨‹é€šä¿¡
â€ƒæ¶ˆæ¯é˜Ÿåˆ—æä¾›äº†ä»ä¸€ä¸ªè¿›ç¨‹å‘å¦ä¸€ä¸ªè¿›ç¨‹å‘é€ä¸€ä¸ªæ•°æ®å—çš„æ–¹æ³•.æ¯ä¸ªæ•°æ®åº“éƒ½è®¤ä¸ºå«æœ‰ä¸€ä¸ªç±»å‹,æ¥æ”¶è¿›ç¨‹å¯ä»¥ç‹¬ç«‹åœ°æ¥æ”¶å«æœ‰ä¸åŒç±»å‹çš„æ•°æ®ç»“æ„.</p>
<p>â€ƒlinuxå†…æ ¸ &lt;sys/msg.h&gt; å¤´æ–‡ä»¶ä¸­å®šä¹‰äº†æ¶ˆæ¯é˜Ÿåˆ—ç»“æ„</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> msqid_ds {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> ipc_perm msg_perm;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> msg<span style="color:#f92672">*</span> msg_first; <span style="color:#75715e">// æŒ‡å‘é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªæ¶ˆæ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">struct</span> msg<span style="color:#f92672">*</span> msg_last; <span style="color:#75715e">// é˜Ÿåˆ—ä¸­æœ€åä¸€ä¸ªæ¶ˆæ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>â€ƒLinuxæ¶ˆæ¯é˜Ÿåˆ—å‡½æ•°æ¥å£</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// åˆ›å»ºå’Œè®¿é—®ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">msgget</span>(<span style="color:#66d9ef">key_t</span> key, <span style="color:#66d9ef">int</span> msgflg);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æŠŠæ¶ˆæ¯æ·»åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">msgsnd</span>(<span style="color:#66d9ef">int</span> msgid, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>msg_ptr, <span style="color:#66d9ef">size_t</span> msg_sz, <span style="color:#66d9ef">int</span> msgflg);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ä»ä¸€ä¸ªæ¶ˆæ¯å¯¹ç«‹è·å–æ¶ˆæ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">msgrcv</span>(<span style="color:#66d9ef">int</span> msgid, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>msg_ptr, <span style="color:#66d9ef">size_t</span> msg_st, <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">int</span> msgtype, <span style="color:#66d9ef">int</span> msgflg);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ§åˆ¶æ¶ˆæ¯é˜Ÿåˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">msgctl</span>(<span style="color:#66d9ef">int</span> msgid, <span style="color:#66d9ef">int</span> command, <span style="color:#66d9ef">struct</span> msgid_ds <span style="color:#f92672">*</span>buf);
</span></span></code></pre></div><h4 id="217-leetcodeé¢˜ç›®">2.1.7 leetcodeé¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#217-leetcodeé¢˜ç›®">#</a></h4>
<ul>
<li>
<p>é‡å¤Næ¬¡çš„å…ƒç´ &lt;æ•°ç»„&gt;</p>
</li>
<li>
<p>ä¸¤æ•°ç›¸åŠ &lt;é“¾è¡¨&gt;</p>
</li>
<li>
<p>åŸºæœ¬è®¡ç®—å™¨&lt;æ ˆ&gt;</p>
</li>
<li>
<p>è®¾è®¡å¾ªç¯é˜Ÿåˆ—&lt;é˜Ÿåˆ—&gt;</p>
</li>
</ul>
<h3 id="22-å“ˆå¸Œè¡¨">2.2 å“ˆå¸Œè¡¨<a hidden class="anchor" aria-hidden="true" href="#22-å“ˆå¸Œè¡¨">#</a></h3>
<p>â€‚å“ˆå¸Œè¡¨æ˜¯ä¸€ç§æœ€æœ‰æ•ˆçš„æ£€ç´¢æ–¹æ³•ï¼Œæ•£åˆ—ï¼Œä»æœ¬è´¨ä¸Šçœ‹ï¼Œä¸€ä¸ªå“ˆå¸Œè¡¨åŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œé€šè¿‡ç‰¹æ®Šçš„ç´¢å¼•ï¼ˆé”®ï¼‰æ¥è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ã€‚å“ˆå¸Œè¡¨ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œåœ¨æ‰€æœ‰å¯èƒ½çš„é”®å’Œå€¼ç›´æ¥å»ºç«‹æ˜ å°„è¡¨ã€‚
â€‚æ¯ä¸ªè®°å½•çš„å…³é”®å­—ké€šè¿‡ä¸€ç§å‡½æ•°H(k)è®¡ç®—å‡ºå‡½æ•°å€¼.æ­¤å‡½æ•°ä¸ºå“ˆå¸Œå‡½æ•°æˆ–æ•£åˆ—å‡½æ•°.</p>
<h4 id="221-å“ˆå¸Œå‡½æ•°è®¾è®¡">2.2.1 å“ˆå¸Œå‡½æ•°è®¾è®¡<a hidden class="anchor" aria-hidden="true" href="#221-å“ˆå¸Œå‡½æ•°è®¾è®¡">#</a></h4>
<ul>
<li>
<p>ç›´æ¥åœ°å€æ³•
å…³é”®å­—æ˜¯æ•´æ•°ç±»å‹çš„æ•°æ®,ç›´æ¥åœ°å€çš„å“ˆå¸Œå‡½æ•°Hç›´æ¥åˆ©ç”¨å…³é”®å­—æ±‚å¾—å“ˆå¸Œåœ°å€.
H(k) = aK*i + b</p>
</li>
<li>
<p>æ•°å­—åˆ†ææ³•
å–å…³é”®å­—æ•°ä¸­åˆ†å¸ƒå‡åŒ€çš„è‹¥å¹²ä½œä¸ºå“ˆå¸Œåœ°å€</p>
</li>
<li>
<p>å¹³æ–¹å–ä¸­æ³•
å–å…³é”®å­—å¹³æ–¹ä¸­é—´å‡ ä½ä½œä¸ºæ•£åˆ—åœ°å€</p>
</li>
<li>
<p>æŠ˜å æ³•
æŠŠå…³é”®å­—åˆ†å‰²æˆä½æ•°ç›¸åŒçš„å‡ æ®µï¼Œæ®µçš„ä½æ•°å–å†³äºå“ˆå¸Œåœ°å€çš„ä½æ•°ï¼Œç„¶åå°†å®ƒä»¬å åŠ å’Œä½œä¸ºå“ˆå¸Œåœ°å€</p>
</li>
<li>
<p>é™¤ç•™å–ä½™æ³•
å…³é”®å­—Ké™¤ä»¥ä¸€ä¸ªåˆé€‚çš„ä¸å¤§äºå“ˆå¸Œè¡¨é•¿åº¦çš„æ­£æ•´æ•°P,æ‰€å¾—ä½™æ•°ä½œä¸ºå“ˆå¸Œåœ°å€.
H(K) = K MOD P</p>
</li>
</ul>
<details>
<summary>uthashç”¨æ³•</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/*************************************************************************
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; File Name: listhash.h
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Author:  jinshaohui
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Mail:    jinshaohui789@163.com
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Time:    18-11-06
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> &gt; Desc: æ ¹æ®linuxå†…æ ¸æ¨¡å—hashtabç¼–å†™ç”¨æˆ·å±‚hashtabæ¥å£
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">         linux-4.19.1\security\selinux\ss\hashtab.c
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     linux-4.19.1\security\selinux\ss\hashtab.h
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> ************************************************************************/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifndef __HASHTAB_H__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define __HASHTAB_H__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _hashtab_node {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span> key;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> _hashtab_node <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>}hashtab_node;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _hashtab {
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">**</span>htables; <span style="color:#75715e">/*å“ˆå¸Œæ¡¶*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size;              <span style="color:#75715e">/*å“ˆå¸Œæ¡¶çš„æœ€å¤§æ•°é‡*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> nel;               <span style="color:#75715e">/*å“ˆå¸Œæ¡¶ä¸­å…ƒç´ çš„ä¸ªæ•°*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>hash_value)(<span style="color:#66d9ef">struct</span> _hashtab <span style="color:#f92672">*</span>h,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key); <span style="color:#75715e">/*å“ˆå¸Œå‡½æ•°*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>keycmp)(<span style="color:#66d9ef">struct</span> _hashtab <span style="color:#f92672">*</span>h,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2);<span style="color:#75715e">/*å“ˆå¸Œkeyæ¯”è¾ƒå‡½æ•°ï¼Œå½“å“ˆå¸Œæ•°å€¼ä¸€è‡´æ—¶ä½¿ç”¨*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> (<span style="color:#f92672">*</span>hash_node_free)(hashtab_node <span style="color:#f92672">*</span>node);
</span></span><span style="display:flex;"><span>}hashtab;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define HASHTAB_MAX_NODES  (0xffffffff)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#a6e22e">int</span> (<span style="color:#f92672">*</span>hash_key_func)(<span style="color:#66d9ef">struct</span> _hashtab <span style="color:#f92672">*</span>h,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key); <span style="color:#75715e">/*å“ˆå¸Œå‡½æ•°*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#a6e22e">int</span> (<span style="color:#f92672">*</span>keycmp_func)(<span style="color:#66d9ef">struct</span> _hashtab <span style="color:#f92672">*</span>h,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2);<span style="color:#75715e">/*å“ˆå¸Œkeyæ¯”è¾ƒå‡½æ•°ï¼Œå½“å“ˆå¸Œæ•°å€¼ä¸€è‡´æ—¶ä½¿ç”¨*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#a6e22e">void</span> (<span style="color:#f92672">*</span>hash_node_free_func)(hashtab_node <span style="color:#f92672">*</span>node);
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ ¹æ®å½“å‰ç»“æ„ä½“å…ƒç´ çš„åœ°å€ï¼Œè·å–åˆ°ç»“æ„ä½“é¦–åœ°å€*/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define offsetof(TYPE,MEMBER) ((size_t) &amp;((TYPE *)0)-&gt;MEMBER)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define container(ptr,type,member) ({\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  const typeof( ((type *)0)-&gt;member) *__mptr = (ptr);\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  (type *) ( (char *)__mptr - offsetof(type,member));})
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hashtab <span style="color:#f92672">*</span> <span style="color:#a6e22e">hashtab_create</span>(<span style="color:#66d9ef">int</span> size,hash_key_func hash_value,
</span></span><span style="display:flex;"><span>        keycmp_func keycmp,hash_node_free_func hash_node_free);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hashtab_destory</span>(hashtab <span style="color:#f92672">*</span>h);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashtab_insert</span>(hashtab <span style="color:#f92672">*</span> h,<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key,<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data);
</span></span><span style="display:flex;"><span>hashtab_node <span style="color:#f92672">*</span><span style="color:#a6e22e">hashtab_delete</span>(hashtab <span style="color:#f92672">*</span>h, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">hashtab_search</span>(hashtab<span style="color:#f92672">*</span>h,<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;assert.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&#34;listhash.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifdef MEMORY_TEST
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;mcheck.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>hashtab <span style="color:#f92672">*</span> <span style="color:#a6e22e">hashtab_create</span>(<span style="color:#66d9ef">int</span> size,hash_key_func hash_value,
</span></span><span style="display:flex;"><span>    keycmp_func keycmp,hash_node_free_func hash_node_free)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    hashtab <span style="color:#f92672">*</span> h <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((size <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">||</span> (hash_value <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (keycmp <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    h <span style="color:#f92672">=</span> (hashtab <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(hashtab));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (h <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    h<span style="color:#f92672">-&gt;</span>htables <span style="color:#f92672">=</span> (hashtab_node <span style="color:#f92672">**</span>)<span style="color:#a6e22e">malloc</span>(size <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(hashtab_node<span style="color:#f92672">*</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (h<span style="color:#f92672">-&gt;</span>htables <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    h<span style="color:#f92672">-&gt;</span>size <span style="color:#f92672">=</span> size;
</span></span><span style="display:flex;"><span>    h<span style="color:#f92672">-&gt;</span>nel <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    h<span style="color:#f92672">-&gt;</span>hash_value <span style="color:#f92672">=</span> hash_value;
</span></span><span style="display:flex;"><span>    h<span style="color:#f92672">-&gt;</span>keycmp <span style="color:#f92672">=</span> keycmp;
</span></span><span style="display:flex;"><span>    h<span style="color:#f92672">-&gt;</span>hash_node_free <span style="color:#f92672">=</span> hash_node_free;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> size; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        h<span style="color:#f92672">-&gt;</span>htables[i] <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> h;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hashtab_destory</span>(hashtab <span style="color:#f92672">*</span>h)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span> cur <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span> tmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (h <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span>h<span style="color:#f92672">-&gt;</span>size; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        cur <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span>htables[i];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (cur <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>            tmp <span style="color:#f92672">=</span> cur;
</span></span><span style="display:flex;"><span>            cur <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">hash_node_free</span>(tmp);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        h<span style="color:#f92672">-&gt;</span>htables[i] <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(h<span style="color:#f92672">-&gt;</span>htables);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(h);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashtab_insert</span>(hashtab <span style="color:#f92672">*</span> h,<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key,<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> hvalue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span>cur <span style="color:#f92672">=</span> NULL; 
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> NULL; 
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span>newnode <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((h <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (key <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (data <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*è·å–hash æ•°å€¼*/</span>
</span></span><span style="display:flex;"><span>    hvalue <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">hash_value</span>(h,key);
</span></span><span style="display:flex;"><span>    cur <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span>htables[hvalue];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*hashæ¡¶ä¸­å…ƒç´ æ˜¯ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œæ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>((cur <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">keycmp</span>(h,key,cur<span style="color:#f92672">-&gt;</span>key) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)) {
</span></span><span style="display:flex;"><span>        prev <span style="color:#f92672">=</span> cur;
</span></span><span style="display:flex;"><span>        cur <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*å¦‚æœkeyå’Œå½“å‰keyæ¯”å¯¹ä¸€è‡´ï¼Œç›´æ¥è¿”å›ï¼Œæ•°æ®å·²ç»å­˜åœ¨*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((cur <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">keycmp</span>(h,key,cur<span style="color:#f92672">-&gt;</span>key) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    newnode <span style="color:#f92672">=</span> (hashtab_node <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(hashtab_node));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (newnode <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    newnode<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">=</span> key;
</span></span><span style="display:flex;"><span>    newnode<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (prev <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        newnode<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span>htables[hvalue];
</span></span><span style="display:flex;"><span>        h<span style="color:#f92672">-&gt;</span>htables[hvalue] <span style="color:#f92672">=</span> newnode;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        newnode<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> prev<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        prev<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> newnode;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    h<span style="color:#f92672">-&gt;</span>nel<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hashtab_node <span style="color:#f92672">*</span><span style="color:#a6e22e">hashtab_delete</span>(hashtab <span style="color:#f92672">*</span>h, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> hvalue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span>cur <span style="color:#f92672">=</span> NULL; 
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span>prev <span style="color:#f92672">=</span> NULL; 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((h <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (key <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*è·å–hash æ•°å€¼*/</span>
</span></span><span style="display:flex;"><span>    hvalue <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">hash_value</span>(h,key);
</span></span><span style="display:flex;"><span>    cur <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span>htables[hvalue];
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*hashæ¡¶ä¸­å…ƒç´ æ˜¯ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œæ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>((cur <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">keycmp</span>(h,key,cur<span style="color:#f92672">-&gt;</span>key) <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">keycmp</span>(h,key,cur<span style="color:#f92672">-&gt;</span>key) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (prev <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>                        h<span style="color:#f92672">-&gt;</span>htables[hvalue] <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                        prev<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> cur;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        prev <span style="color:#f92672">=</span> cur;
</span></span><span style="display:flex;"><span>        cur <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">hashtab_search</span>(hashtab<span style="color:#f92672">*</span>h,<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> hvalue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span>cur <span style="color:#f92672">=</span> NULL; 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((h <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">||</span> (key <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*è·å–hash æ•°å€¼*/</span>
</span></span><span style="display:flex;"><span>    hvalue <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">hash_value</span>(h,key);
</span></span><span style="display:flex;"><span>    cur <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span>htables[hvalue];
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*hashæ¡¶ä¸­å…ƒç´ æ˜¯ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œæ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>((cur <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">keycmp</span>(h,key,cur<span style="color:#f92672">-&gt;</span>key) <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">keycmp</span>(h,key,cur<span style="color:#f92672">-&gt;</span>key) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> cur<span style="color:#f92672">-&gt;</span>data;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        cur <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hashtab_dump</span>(hashtab <span style="color:#f92672">*</span>h)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span> cur <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (h <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">----å¼€å§‹--size[%d],nel[%d]------------&#34;</span>,h<span style="color:#f92672">-&gt;</span>size,h<span style="color:#f92672">-&gt;</span>nel);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> h<span style="color:#f92672">-&gt;</span>size; i <span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> htables[%d]:&#34;</span>,i);
</span></span><span style="display:flex;"><span>        cur <span style="color:#f92672">=</span> h<span style="color:#f92672">-&gt;</span>htables[i];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>((cur <span style="color:#f92672">!=</span> NULL)) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;key[%s],data[%s] &#34;</span>,cur<span style="color:#f92672">-&gt;</span>key,cur<span style="color:#f92672">-&gt;</span>data);    
</span></span><span style="display:flex;"><span>            cur <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">----ç»“æŸ--size[%d],nel[%d]------------&#34;</span>,h<span style="color:#f92672">-&gt;</span>size,h<span style="color:#f92672">-&gt;</span>nel);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> test_node
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> key[<span style="color:#ae81ff">80</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> data[<span style="color:#ae81ff">80</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">siample_hash</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>str)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">register</span> <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> hash <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">register</span> <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> seed <span style="color:#f92672">=</span> <span style="color:#ae81ff">131</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">*</span>str) {
</span></span><span style="display:flex;"><span>        hash <span style="color:#f92672">=</span> hash<span style="color:#f92672">*</span>seed <span style="color:#f92672">+</span> <span style="color:#f92672">*</span>str<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> hash <span style="color:#f92672">&amp;</span> (<span style="color:#ae81ff">0x7FFFFFFF</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashtab_hvalue</span>(hashtab <span style="color:#f92672">*</span>h,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (<span style="color:#a6e22e">siample_hash</span>(key) <span style="color:#f92672">%</span> h<span style="color:#f92672">-&gt;</span>size);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashtab_keycmp</span>(hashtab <span style="color:#f92672">*</span>h,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1,<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">strcmp</span>(key1,key2);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hashtab_node_free</span>(hashtab_node<span style="color:#f92672">*</span>node)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> test_node <span style="color:#f92672">*</span> ptmp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    ptmp <span style="color:#f92672">=</span> <span style="color:#a6e22e">container</span>(node<span style="color:#f92672">-&gt;</span>key,<span style="color:#66d9ef">struct</span> test_node,key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(ptmp);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(node);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span> ()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> res <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>pres <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    hashtab_node <span style="color:#f92672">*</span> node <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> test_node <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    hashtab <span style="color:#f92672">*</span>h <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#ifdef MEMORY_TEST
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">setenv</span>(<span style="color:#e6db74">&#34;MALLOC_TRACE&#34;</span>,<span style="color:#e6db74">&#34;1.txt&#34;</span>,<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mtrace</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    h <span style="color:#f92672">=</span> <span style="color:#a6e22e">hashtab_create</span>(<span style="color:#ae81ff">5</span>,hashtab_hvalue,hashtab_keycmp,hashtab_node_free);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assert</span>(h<span style="color:#f92672">!=</span> NULL);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        p <span style="color:#f92672">=</span> (<span style="color:#66d9ef">struct</span> test_node<span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> test_node));
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">assert</span>(p <span style="color:#f92672">!=</span> NULL);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> è¯·è¾“å…¥key å’Œvalueï¼Œå½“å¯ä»¥ç­‰äº</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">quit</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">æ—¶é€€å‡º&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,p<span style="color:#f92672">-&gt;</span>key);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,p<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">strcmp</span>(p<span style="color:#f92672">-&gt;</span>key,<span style="color:#e6db74">&#34;quit&#34;</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        res <span style="color:#f92672">=</span> <span style="color:#a6e22e">hashtab_insert</span>(h,p<span style="color:#f92672">-&gt;</span>key,p<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (res <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> key[%s],data[%s] insert failed %d&#34;</span>,p<span style="color:#f92672">-&gt;</span>key,p<span style="color:#f92672">-&gt;</span>data,res);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> key[%s],data[%s] insert success %d&#34;</span>,p<span style="color:#f92672">-&gt;</span>key,p<span style="color:#f92672">-&gt;</span>data,res);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hashtab_dump</span>(h);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        p <span style="color:#f92672">=</span> (<span style="color:#66d9ef">struct</span> test_node<span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> test_node));
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">assert</span>(p <span style="color:#f92672">!=</span> NULL);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> è¯·è¾“å…¥key æŸ¥è¯¢valueçš„æ•°å€¼ï¼Œå½“å¯ä»¥ç­‰äº</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">quit</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">æ—¶é€€å‡º&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,p<span style="color:#f92672">-&gt;</span>key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">strcmp</span>(p<span style="color:#f92672">-&gt;</span>key,<span style="color:#e6db74">&#34;quit&#34;</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        pres <span style="color:#f92672">=</span> <span style="color:#a6e22e">hashtab_search</span>(h,p<span style="color:#f92672">-&gt;</span>key);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (pres <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> key[%s] search data failed&#34;</span>,p<span style="color:#f92672">-&gt;</span>key);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> key[%s],search data[%s] success&#34;</span>,p<span style="color:#f92672">-&gt;</span>key,pres);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hashtab_dump</span>(h);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        p <span style="color:#f92672">=</span> (<span style="color:#66d9ef">struct</span> test_node<span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> test_node));
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">assert</span>(p <span style="color:#f92672">!=</span> NULL);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> è¯·è¾“å…¥key åˆ é™¤èŠ‚ç‚¹çš„æ•°å€¼ï¼Œå½“å¯ä»¥ç­‰äº</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">quit</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">æ—¶é€€å‡º&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>,p<span style="color:#f92672">-&gt;</span>key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">strcmp</span>(p<span style="color:#f92672">-&gt;</span>key,<span style="color:#e6db74">&#34;quit&#34;</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        node <span style="color:#f92672">=</span> <span style="color:#a6e22e">hashtab_delete</span>(h,p<span style="color:#f92672">-&gt;</span>key);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (node <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> key[%s] delete node failed &#34;</span>,p<span style="color:#f92672">-&gt;</span>key);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> key[%s],delete data[%s] success&#34;</span>,node<span style="color:#f92672">-&gt;</span>key,node<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>            h<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">hash_node_free</span>(node);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">hashtab_dump</span>(h);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hashtab_destory</span>(h);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#ifdef MEMORY_TEST
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">muntrace</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>hash_table</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* One implementation of hash table with linear probing. */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define HASH_SHIFT 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define HASH_SIZE (1 &lt;&lt; HASH_SHIFT)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define HASH_MASK (HASH_SIZE - 1)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> hash_table {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>  used;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> entry[HASH_SIZE];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hash_table_reset</span>(<span style="color:#66d9ef">struct</span> hash_table <span style="color:#f92672">*</span>table)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    table<span style="color:#f92672">-&gt;</span>used <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> HASH_SIZE; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    table<span style="color:#f92672">-&gt;</span>entry[i] <span style="color:#f92672">=</span> <span style="color:#f92672">~</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hash_function</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> value <span style="color:#f92672">&amp;</span> HASH_MASK;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump_hash_table</span>(<span style="color:#66d9ef">struct</span> hash_table <span style="color:#f92672">*</span>table)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> HASH_SIZE; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (table<span style="color:#f92672">-&gt;</span>entry[i] <span style="color:#f92672">==</span> <span style="color:#f92672">~</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%2u:       nil </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%2u:%10lu -&gt; %2u</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>        i, table<span style="color:#f92672">-&gt;</span>entry[i],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">hash_function</span>(table<span style="color:#f92672">-&gt;</span>entry[i]));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hash_function_test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">srandom</span>(<span style="color:#a6e22e">time</span>(NULL));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> val <span style="color:#f92672">=</span> <span style="color:#a6e22e">random</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%10lu -&gt; %2u</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, val, <span style="color:#a6e22e">hash_function</span>(val));;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">next_probe</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> prev_key)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (prev_key <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">&amp;</span> HASH_MASK;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">next_probe_test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> key1, key2;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    key1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> HASH_SIZE; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        key2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">next_probe</span>(key1);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%2u -&gt; %2u</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, key1, key2);
</span></span><span style="display:flex;"><span>        key1 <span style="color:#f92672">=</span> key2;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#66d9ef">struct</span> hash_table <span style="color:#f92672">*</span>table, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> key <span style="color:#f92672">=</span> <span style="color:#a6e22e">hash_function</span>(value);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (table<span style="color:#f92672">-&gt;</span>used <span style="color:#f92672">&gt;=</span> HASH_SIZE)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (table<span style="color:#f92672">-&gt;</span>entry[key] <span style="color:#f92672">!=</span> <span style="color:#f92672">~</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        key <span style="color:#f92672">=</span> <span style="color:#a6e22e">next_probe</span>(key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    table<span style="color:#f92672">-&gt;</span>entry[key] <span style="color:#f92672">=</span> value;
</span></span><span style="display:flex;"><span>    table<span style="color:#f92672">-&gt;</span>used<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hash_table_slot</span>(<span style="color:#66d9ef">struct</span> hash_table <span style="color:#f92672">*</span>table, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> key <span style="color:#f92672">=</span> <span style="color:#a6e22e">hash_function</span>(value);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> HASH_SIZE; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (table<span style="color:#f92672">-&gt;</span>entry[key] <span style="color:#f92672">==</span> value <span style="color:#f92672">||</span> table<span style="color:#f92672">-&gt;</span>entry[key] <span style="color:#f92672">==</span> <span style="color:#f92672">~</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        key <span style="color:#f92672">=</span> <span style="color:#a6e22e">next_probe</span>(key);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> key;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">hash_table_find</span>(<span style="color:#66d9ef">struct</span> hash_table <span style="color:#f92672">*</span>table, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> table<span style="color:#f92672">-&gt;</span>entry[<span style="color:#a6e22e">hash_table_slot</span>(table, value)] <span style="color:#f92672">==</span> value;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hash_table_del</span>(<span style="color:#66d9ef">struct</span> hash_table <span style="color:#f92672">*</span>table, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> i, j, k;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">hash_table_find</span>(table, value))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> j <span style="color:#f92672">=</span> <span style="color:#a6e22e">hash_table_slot</span>(table, value);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (true) {
</span></span><span style="display:flex;"><span>        table<span style="color:#f92672">-&gt;</span>entry[i] <span style="color:#f92672">=</span> <span style="color:#f92672">~</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>            j <span style="color:#f92672">=</span> <span style="color:#a6e22e">next_probe</span>(j);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (table<span style="color:#f92672">-&gt;</span>entry[j] <span style="color:#f92672">==</span> <span style="color:#f92672">~</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>            k <span style="color:#f92672">=</span> <span style="color:#a6e22e">hash_function</span>(table<span style="color:#f92672">-&gt;</span>entry[j]);
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">while</span> ((i <span style="color:#f92672">&lt;=</span> j) <span style="color:#f92672">?</span> (i <span style="color:#f92672">&lt;</span> k <span style="color:#f92672">&amp;&amp;</span> k <span style="color:#f92672">&lt;=</span> j) <span style="color:#f92672">:</span> (i <span style="color:#f92672">&lt;</span> k <span style="color:#f92672">||</span> k <span style="color:#f92672">&lt;=</span> j));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        table<span style="color:#f92672">-&gt;</span>entry[i] <span style="color:#f92672">=</span> table<span style="color:#f92672">-&gt;</span>entry[j];
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> j;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    table<span style="color:#f92672">-&gt;</span>used<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hash_table_add_test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> hash_table table;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_reset</span>(<span style="color:#f92672">&amp;</span>table);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">87645</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Table has%s 87645</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_find</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">87645</span>) <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;n&#39;t&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Table has%s 87647</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_find</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">87647</span>) <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;n&#39;t&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hash_table_del_test1</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> hash_table table;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_reset</span>(<span style="color:#f92672">&amp;</span>table);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x1ff0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x2ff0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x3ff0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_hash_table</span>(<span style="color:#f92672">&amp;</span>table);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;=== Remove 0x1ff0</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_del</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x1ff0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_hash_table</span>(<span style="color:#f92672">&amp;</span>table);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hash_table_del_test2</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> hash_table table;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_reset</span>(<span style="color:#f92672">&amp;</span>table);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x1ff0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x1ff1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x1ff2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_add</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x2ff0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_hash_table</span>(<span style="color:#f92672">&amp;</span>table);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;=== Remove 0x1ff0</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hash_table_del</span>(<span style="color:#f92672">&amp;</span>table, <span style="color:#ae81ff">0x1ff0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_hash_table</span>(<span style="color:#f92672">&amp;</span>table);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//hash_function_test();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//next_probe_test();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//hash_table_add_test();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">hash_table_del_test2</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="222-å“ˆå¸Œå†²çª">2.2.2 å“ˆå¸Œå†²çª<a hidden class="anchor" aria-hidden="true" href="#222-å“ˆå¸Œå†²çª">#</a></h4>
<p>â€‚ç†æƒ³æƒ…å†µä¸‹,å“ˆå¸Œå‡½æ•°åœ¨å…³é”®å­—å’Œåœ°å€ä¹‹é—´å»ºç«‹ä¸€å¯¹ä¸€å…³ç³».ä½†H(k1) = H(k2),å³ä¸ºå†²çª.</p>
<p>â€ƒè§£å†³å“ˆå¸Œå†²çªå¸¸ç”¨æ–¹æ³•:</p>
<ul>
<li>é“¾åœ°å€æ³•
å°†å“ˆå¸Œå€¼ç›¸åŒçš„å…ƒç´ æ„æˆä¸€ä¸ªåŒä¹‰è¯çš„å•é“¾è¡¨,å¹¶å°†å•é“¾è¡¨å¤´æŒ‡é’ˆå­˜æ”¾åœ¨å“ˆå¸Œè¡¨çš„åœ°iä¸ªå•å…ƒä¸­,æŸ¥æ‰¾,æ’å…¥å’Œåˆ é™¤ä¸»è¦åœ¨åŒä¹‰è¯é“¾è¡¨ä¸­.</li>
<li>çº¿æ€§æ¢æµ‹</li>
<li>äºŒæ¬¡æ¢æµ‹</li>
</ul>
<h4 id="223-uthash">2.2.3 uthash<a hidden class="anchor" aria-hidden="true" href="#223-uthash">#</a></h4>
<p>â€‚uthashçš„æ’å…¥ã€æŸ¥æ‰¾ã€åˆ é™¤çš„æ“ä½œæ—¶é—´éƒ½æ˜¯å¸¸é‡</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;uthash.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> my_struct {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> id;            <span style="color:#75715e">/* we&#39;ll use this field as the key */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>    UT_hash_handle hh; <span style="color:#75715e">/* makes this structure hashable */</span>
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>users <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">add_user</span>(<span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>s) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">HASH_ADD_INT</span>(users, id, s);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><details>
<summary>uthashç”¨æ³•</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;   /* gets */</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;  /* atoi, malloc */</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;  /* strcpy */</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;uthash.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> my_struct {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> id;                    <span style="color:#75715e">/* key */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>    UT_hash_handle hh;         <span style="color:#75715e">/* makes this structure hashable */</span>
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>users <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">add_user</span>(<span style="color:#66d9ef">int</span> user_id, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>name) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>s;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">HASH_FIND_INT</span>(users, <span style="color:#f92672">&amp;</span>user_id, s);  <span style="color:#75715e">/* id already in the hash? */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (s<span style="color:#f92672">==</span>NULL) {
</span></span><span style="display:flex;"><span>        s <span style="color:#f92672">=</span> (<span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span> <span style="color:#f92672">*</span>s);
</span></span><span style="display:flex;"><span>        s<span style="color:#f92672">-&gt;</span>id <span style="color:#f92672">=</span> user_id;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">HASH_ADD_INT</span>( users, id, s );  <span style="color:#75715e">/* id: name of key field */</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strcpy</span>(s<span style="color:#f92672">-&gt;</span>name, name);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span><span style="color:#a6e22e">find_user</span>(<span style="color:#66d9ef">int</span> user_id) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>s;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">HASH_FIND_INT</span>(users, <span style="color:#f92672">&amp;</span>user_id, s);  <span style="color:#75715e">/* s: output pointer */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> s;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delete_user</span>(<span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>user) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">HASH_DEL</span>(users, user);  <span style="color:#75715e">/* user: pointer to deletee */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(user);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delete_all</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>current_user, <span style="color:#f92672">*</span>tmp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">HASH_ITER</span>(hh, users, current_user, tmp) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">HASH_DEL</span>(users, current_user);  <span style="color:#75715e">/* delete it (users advances to next) */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(current_user);             <span style="color:#75715e">/* free it */</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">print_users</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>s;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(s<span style="color:#f92672">=</span>users; s <span style="color:#f92672">!=</span> NULL; s<span style="color:#f92672">=</span>(<span style="color:#66d9ef">struct</span> my_struct<span style="color:#f92672">*</span>)(s<span style="color:#f92672">-&gt;</span>hh.next)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;user id %d: name %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, s<span style="color:#f92672">-&gt;</span>id, s<span style="color:#f92672">-&gt;</span>name);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">name_sort</span>(<span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">strcmp</span>(a<span style="color:#f92672">-&gt;</span>name,b<span style="color:#f92672">-&gt;</span>name);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">id_sort</span>(<span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (a<span style="color:#f92672">-&gt;</span>id <span style="color:#f92672">-</span> b<span style="color:#f92672">-&gt;</span>id);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sort_by_name</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">HASH_SORT</span>(users, name_sort);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sort_by_id</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">HASH_SORT</span>(users, id_sort);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>argv[]) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> in[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> id<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, running<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> my_struct <span style="color:#f92672">*</span>s;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> num_users;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (running) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 1. add user</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 2. add/rename user by id</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 3. find user</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 4. delete user</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 5. delete all users</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 6. sort items by name</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 7. sort items by id</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 8. print users</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; 9. count users</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;10. quit</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">gets</span>(in);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span>(<span style="color:#a6e22e">atoi</span>(in)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;name?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">add_user</span>(id<span style="color:#f92672">++</span>, <span style="color:#a6e22e">gets</span>(in));
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;id?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">gets</span>(in); id <span style="color:#f92672">=</span> <span style="color:#a6e22e">atoi</span>(in);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;name?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">add_user</span>(id, <span style="color:#a6e22e">gets</span>(in));
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;id?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>                s <span style="color:#f92672">=</span> <span style="color:#a6e22e">find_user</span>(<span style="color:#a6e22e">atoi</span>(<span style="color:#a6e22e">gets</span>(in)));
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;user: %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, s <span style="color:#f92672">?</span> s<span style="color:#f92672">-&gt;</span>name : <span style="color:#e6db74">&#34;unknown&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;id?</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>                s <span style="color:#f92672">=</span> <span style="color:#a6e22e">find_user</span>(<span style="color:#a6e22e">atoi</span>(<span style="color:#a6e22e">gets</span>(in)));
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (s) <span style="color:#a6e22e">delete_user</span>(s);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;id unknown</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">delete_all</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">6</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">sort_by_name</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">sort_by_id</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">8</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">print_users</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">9</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                num_users<span style="color:#f92672">=</span><span style="color:#a6e22e">HASH_COUNT</span>(users);
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;there are %u users</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, num_users);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                running<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">delete_all</span>();  <span style="color:#75715e">/* free any structures */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<ul>
<li>å‚è€ƒé“¾æ¥
å®˜ç½‘:https://troydhanson.github.io/uthash/
<a href="https://blog.csdn.net/fan_h_l/article/details/107241520">https://blog.csdn.net/fan_h_l/article/details/107241520</a>
<a href="https://blog.csdn.net/whatday/article/details/95926766">https://blog.csdn.net/whatday/article/details/95926766</a>
<a href="https://www.cnblogs.com/pam-sh/p/12827658.html">https://www.cnblogs.com/pam-sh/p/12827658.html</a></li>
</ul>
<h4 id="224-leetcodeé¢˜ç›®">2.2.4 leetcodeé¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#224-leetcodeé¢˜ç›®">#</a></h4>
<ul>
<li>
<p>è®¾è®¡å“ˆå¸Œé›†åˆ</p>
</li>
<li>
<p>è®¾è®¡å“ˆå¸Œæ˜ å°„</p>
</li>
<li>
<p>æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº</p>
</li>
</ul>
<h3 id="23-æ ‘ä¸äºŒå‰æ ‘">2.3 æ ‘ä¸äºŒå‰æ ‘<a hidden class="anchor" aria-hidden="true" href="#23-æ ‘ä¸äºŒå‰æ ‘">#</a></h3>
<p>â€ƒæ ‘(tree)æ˜¯ä¸€ç§ç”¨æ¥æ¨¡æ‹Ÿæ ‘çŠ¶ç»“æ„çš„æŠ½è±¡æ•°æ®ç»“æ„(ADT);</p>
<p>â€ƒæ ‘çš„ç‰¹ç‚¹:</p>
<ul>
<li>æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºæ ¹èŠ‚ç‚¹</li>
<li>æ¯ä¸ªéæ ¹èŠ‚ç‚¹æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹</li>
<li>é™¤äº†æ ¹ç»“ç‚¹å¤–,æ¯ä¸ªå­èŠ‚ç‚¹å¯åˆ†ä¸ºå¤šä¸ªä¸ç›¸äº¤çš„å­æ ‘</li>
<li>æ ‘ä¸­æ²¡æœ‰ç¯è·¯</li>
</ul>
<h4 id="231-æ¦‚è¿°">2.3.1 æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#231-æ¦‚è¿°">#</a></h4>
<ul>
<li>èŠ‚ç‚¹çš„åº¦: ä¸€ä¸ªèŠ‚ç‚¹å«æœ‰å­æ ‘çš„ä¸ªæ•°</li>
<li>æ ‘çš„åº¦: æ ‘ä¸­æœ€å¤§çš„èŠ‚ç‚¹åº¦</li>
<li>å¶èŠ‚ç‚¹: åº¦ä¸ºé›¶çš„èŠ‚ç‚¹</li>
<li>çˆ¶èŠ‚ç‚¹</li>
<li>å­èŠ‚ç‚¹</li>
<li>å…„å¼ŸèŠ‚ç‚¹</li>
<li>èŠ‚ç‚¹çš„å±‚æ¬¡</li>
<li>æ·±åº¦: ä»»æ„èŠ‚ç‚¹n,nçš„æ·±åº¦ä¸ºä»nåˆ°ä¸€ç‰‡æ ‘å¶çš„æœ€é•¿è·¯å¾„é•¿,æ ¹çš„æ·±åº¦ä¸º0</li>
<li>é«˜åº¦: å¯¹ä»»æ„èŠ‚ç‚¹n,nçš„é«˜åº¦ä¸ºä»nåˆ°ä¸€ç‰‡æ ‘å¶çš„æœ€é•¿è·¯å¾„é•¿,æ‰€æœ‰æ ‘å¶çš„é«˜åº¦ä¸º0.</li>
<li>æ£®æ—</li>
</ul>
<p>â€ƒæ ‘ç”±ç§°ä¸ºç»“ç‚¹çš„å…ƒç´ æŒ‰ç…§å±‚æ¬¡ç»“æ„çš„æ–¹å¼ç»„ç»‡è€Œæˆã€‚æœ€é¡¶ç«¯ç§°ä¸ºæ ¹ã€‚ä¸æ ¹ç›´æ¥ç›¸è¿çš„ç»“ç‚¹ç§°ä¸ºæ ¹çš„å­ç»“ç‚¹ã€‚å­èŠ‚ç‚¹æœ¬èº«ä¹Ÿå¯ä»¥æœ‰å­ç»“ç‚¹ã€‚é™¤æ ¹ç»“ç‚¹å¤–ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æœ‰å”¯ä¸€çš„çˆ¶ç»“ç‚¹ã€‚</p>
<h4 id="232-æ ‘çš„ç§ç±»">2.3.2 æ ‘çš„ç§ç±»<a hidden class="anchor" aria-hidden="true" href="#232-æ ‘çš„ç§ç±»">#</a></h4>
<ul>
<li>æ— åºæ ‘</li>
<li>æœ‰åºæ ‘
<ul>
<li>
<p>äºŒå‰æ ‘: æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šå«æœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘.</p>
<ul>
<li>å®Œå…¨äºŒå‰æ ‘: å¯¹äºä¸€é¢—æ·±åº¦ä¸ºdçš„äºŒå‰æ ‘,é™¤ç¬¬då±‚å¤–,å…¶ä»–å„å±‚èŠ‚ç‚¹æ•°ç›®å‡è¾¾æœ€å¤§å€¼,ä¸”ç¬¬då±‚æ‰€æœ‰èŠ‚ç‚¹ä»å·¦å‘å³è¿ç»­ç´§å¯†æ’åˆ—.
<ul>
<li>æ»¡äºŒå‰æ ‘:æ‰€æœ‰å¶èŠ‚ç‚¹éƒ½æœ€åº•å±‚çš„å®Œå…¨äºŒå‰æ ‘.</li>
</ul>
</li>
<li>å¹³è¡¡äºŒå‰æ ‘(AVL):å½“ä¸”ä»…å½“ä»»ä½•èŠ‚ç‚¹çš„ä¸¤é¢—å­æ ‘çš„é«˜åº¦å·®ä¸å¤§äº1çš„äºŒå‰æ ‘.</li>
<li>æ’åºäºŒå‰æ ‘:äºŒå‰æŸ¥æ‰¾æ ‘</li>
</ul>
</li>
<li>
<p>éœå¤«æ›¼æ ‘:å¸¦æƒè·¯å¾„æœ€çŸ­çš„äºŒå‰æ ‘(åˆç§°æœ€ä¼˜äºŒå‰æ ‘).</p>
</li>
<li>
<p>Bæ ‘:ä¸€ç§å †è¯»å†™æ“ä½œè¿›è¡Œä¼˜åŒ–çš„è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘,èƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åº,æ‹¥æœ‰å¤šä½™ä¸¤ä¸ªå­æ ‘.</p>
</li>
</ul>
</li>
</ul>
<br>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>äºŒå‰æ ‘</td>
<td>äºŒå‰æŸ¥æ‰¾æ ‘(BST) ç¬›å¡å°”æ ‘ MVPæ ‘ Top tree Tæ ‘</td>
</tr>
<tr>
<td>è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘</td>
<td>AVLæ ‘ çº¢é»‘æ ‘ åŠ æƒå¹³è¡¡æ ‘ AAæ ‘</td>
</tr>
<tr>
<td>Bæ ‘</td>
<td>Bæ ‘ B+æ ‘</td>
</tr>
<tr>
<td>å †</td>
<td>äºŒé¡¹å † æ–æ³¢é‚£å¥‘å †</td>
</tr>
<tr>
<td>Trie</td>
<td>åç¼€æ ‘ åŸºæ•°æ ‘ ä¸‰å‰æŸ¥æ‰¾æ ‘</td>
</tr>
</tbody>
</table>
<p>â€ƒæ ‘æœ‰å¤šç§ç»“æ„å½¢å¼ï¼ŒåŒ…æ‹¬äºŒå‰æ ‘ã€ã€‚</p>
<h4 id="233-äºŒå‰æ ‘">2.3.3 äºŒå‰æ ‘<a hidden class="anchor" aria-hidden="true" href="#233-äºŒå‰æ ‘">#</a></h4>
<p>â€‚äºŒå‰æ ‘ä¸¤ä¸ªæ¡ä»¶:</p>
<ul>
<li>æœ¬èº«æ˜¯æœ‰åºæ ‘</li>
<li>æ ‘ä¸­åŒ…å«çš„å„ä¸ªèŠ‚ç‚¹çš„åº¦ä¸èƒ½è¶…è¿‡2,å³åªèƒ½æ˜¯0,1æˆ–è€…2</li>
</ul>
<p>â€ƒäºŒå‰æ ‘ä¸­ç»“ç‚¹åŒ…å«ä¸‰éƒ¨åˆ†ï¼šä¸€ä¸ªæ•°æ®æˆå‘˜ä¸¤ä¸ªå·¦å³æŒ‡é’ˆã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> BiTreeNode_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> BiTreeNode_ <span style="color:#f92672">*</span>left;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> BiTreeNode_ <span style="color:#f92672">*</span>right;
</span></span><span style="display:flex;"><span>}BiTreeNode;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> BiTree_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>compare)(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> (<span style="color:#f92672">*</span>destroy)(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data);
</span></span><span style="display:flex;"><span>    BiTreeNode <span style="color:#f92672">*</span>root;
</span></span><span style="display:flex;"><span>}BiTree;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ ‘æ ¹*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> tree{
</span></span><span style="display:flex;"><span>    Node <span style="color:#f92672">*</span> root;
</span></span><span style="display:flex;"><span>}Tree;
</span></span></code></pre></div><details>
<summary>äºŒå‰æ ‘</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;assert.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&#34;list_queue.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _treenode {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> _treenode <span style="color:#f92672">*</span>lchild;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> _treenode <span style="color:#f92672">*</span>rchild;
</span></span><span style="display:flex;"><span>}Tnode,Tree;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">binarytree_create</span>(Tree <span style="color:#f92672">**</span>Root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">è¾“å…¥èŠ‚ç‚¹æ•°å€¼((å½“è¾“å…¥ä¸º100æ—¶ï¼Œå½“å‰èŠ‚ç‚¹åˆ›å»ºå®Œæˆ))):&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>,<span style="color:#f92672">&amp;</span>a);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (a <span style="color:#f92672">==</span> <span style="color:#ae81ff">100</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">*</span>Root <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">*</span>Root <span style="color:#f92672">=</span> (Tnode <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(Tnode));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>Root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        (<span style="color:#f92672">*</span>Root)<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> a;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> create %d çš„å·¦å­©å­:&#34;</span>,a);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">binarytree_create</span>(<span style="color:#f92672">&amp;</span>((<span style="color:#f92672">*</span>Root)<span style="color:#f92672">-&gt;</span>lchild));
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74"> create %d çš„å³å­©å­:&#34;</span>,a);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">binarytree_create</span>(<span style="color:#f92672">&amp;</span>((<span style="color:#f92672">*</span>Root)<span style="color:#f92672">-&gt;</span>rchild));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">binarytree_destory</span>(Tree <span style="color:#f92672">*</span>root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_destory</span>(root<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_destory</span>(root<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(root);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*å…ˆåºéå†:æ ¹ç»“ç‚¹--ã€‹å·¦å­æ ‘---ã€‹å³å­æ ‘*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">binarytree_preorder</span>(Tree <span style="color:#f92672">*</span>root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; %d &#34;</span>,root<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_preorder</span>(root<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_preorder</span>(root<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*ä¸­åºéå†:å·¦å­æ ‘--ã€‹è·ŸèŠ‚ç‚¹---ã€‹å³å­æ ‘*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">binarytree_inorder</span>(Tree <span style="color:#f92672">*</span>root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_inorder</span>(root<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; %d &#34;</span>,root<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_inorder</span>(root<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*ååºéå†:å·¦å­æ ‘---ã€‹å³å­æ ‘-ã€‹æ ¹èŠ‚ç‚¹*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">binarytree_postorder</span>(Tree <span style="color:#f92672">*</span>root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_postorder</span>(root<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_postorder</span>(root<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; %d &#34;</span>,root<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">binarytree_levelorder</span>(Tree <span style="color:#f92672">*</span> root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    list_queue <span style="color:#f92672">*</span>queue <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    Tnode <span style="color:#f92672">*</span> node <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queue <span style="color:#f92672">=</span> <span style="color:#a6e22e">list_queue_create</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*æ ¹èŠ‚ç‚¹å…ˆå…¥é˜Ÿ*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">list_queue_enqueue</span>(queue,(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>)root);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">list_queue_is_empty</span>(queue)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">list_queue_dequeue</span>(queue,(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>)<span style="color:#f92672">&amp;</span>node);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; %d &#34;</span>,node<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(node<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">list_queue_enqueue</span>(queue,(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>)node<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(node<span style="color:#f92672">-&gt;</span>rchild <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">list_queue_enqueue</span>(queue,(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>)node<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(queue);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ‰“å°å¶å­èŠ‚ç‚¹*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">binarytree_printfleaf</span>(Tree <span style="color:#f92672">*</span>root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((root<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (root<span style="color:#f92672">-&gt;</span>rchild <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; %d &#34;</span>,root<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">binarytree_printfleaf</span>(root<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">binarytree_printfleaf</span>(root<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ‰“å°å¶å­çš„ä¸ªæ•°*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">binarytree_getleafnum</span>(Tree<span style="color:#f92672">*</span>root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((root<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">==</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (root<span style="color:#f92672">-&gt;</span>rchild <span style="color:#f92672">==</span> NULL)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">binarytree_getleafnum</span>(root<span style="color:#f92672">-&gt;</span>lchild) <span style="color:#f92672">+</span> <span style="color:#a6e22e">binarytree_getleafnum</span>(root<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ‰“å°æ•°çš„é«˜åº¦*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">binarytree_gethigh</span>(Tree <span style="color:#f92672">*</span>root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> lhigh <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> rhigh <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    lhigh <span style="color:#f92672">=</span> <span style="color:#a6e22e">binarytree_gethigh</span>(root<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>    rhigh <span style="color:#f92672">=</span> <span style="color:#a6e22e">binarytree_gethigh</span>(root<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ((lhigh <span style="color:#f92672">&gt;</span> rhigh)<span style="color:#f92672">?</span>(lhigh <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)<span style="color:#f92672">:</span>(rhigh <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Tree <span style="color:#f92672">*</span>root <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setenv</span>(<span style="color:#e6db74">&#34;MALLOC_TRACE&#34;</span>,<span style="color:#e6db74">&#34;1.txt&#34;</span>,<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">mtrace</span>();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">åˆ›å»ºäºŒå‰æ ‘:&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_create</span>(<span style="color:#f92672">&amp;</span>root);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">å…ˆåºéå†äºŒå‰æ ‘:&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_preorder</span>(root);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">ä¸­åºéå†äºŒå‰æ ‘:&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_inorder</span>(root);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">ååºéå†äºŒå‰æ ‘:&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_postorder</span>(root);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">å±‚æ¬¡éå†äºŒå‰æ ‘:&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_levelorder</span>(root);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">æ‰“å°äºŒå‰æ ‘å¶å­èŠ‚ç‚¹:&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_printfleaf</span>(root);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">æ‰“å°äºŒå‰æ ‘å¶å­èŠ‚ç‚¹ä¸ªæ•°:%d&#34;</span>,<span style="color:#a6e22e">binarytree_getleafnum</span>(root));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">æ‰“å°äºŒå‰æ ‘é«˜åº¦:%d&#34;</span>,<span style="color:#a6e22e">binarytree_gethigh</span>(root));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">binarytree_destory</span>(root);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">muntrace</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>binarytree</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Implement binary tree in array */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX_TREE_NODES (1 &lt;&lt; 8)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> node {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> binary_tree {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">union</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> nodes;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>n[MAX_TREE_NODES];
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">init_binary_tree</span>(<span style="color:#66d9ef">struct</span> binary_tree <span style="color:#f92672">*</span>tree)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> MAX_TREE_NODES; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        tree<span style="color:#f92672">-&gt;</span>n[i] <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> node<span style="color:#f92672">*</span> <span style="color:#a6e22e">create_node</span>(<span style="color:#66d9ef">int</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node<span style="color:#f92672">*</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> node));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n)
</span></span><span style="display:flex;"><span>        n<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> n;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fake_a_tree</span>(<span style="color:#66d9ef">struct</span> binary_tree<span style="color:#f92672">*</span> tree)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* data is in ordered */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, data[<span style="color:#ae81ff">10</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">init_binary_tree</span>(tree);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* root start at 1 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        tree<span style="color:#f92672">-&gt;</span>n[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">create_node</span>(data[i]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    tree<span style="color:#f92672">-&gt;</span>nodes <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">_in_order</span>(<span style="color:#66d9ef">struct</span> binary_tree<span style="color:#f92672">*</span> tree, <span style="color:#66d9ef">int</span> index)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>tree<span style="color:#f92672">-&gt;</span>n[index])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* left child at (index &lt;&lt; 1) */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">_in_order</span>(tree, index <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;[%2d]: %4d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, index, tree<span style="color:#f92672">-&gt;</span>n[index]<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* right child at (index &lt;&lt; 1) + 1 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">_in_order</span>(tree, (index <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">in_order</span>(<span style="color:#66d9ef">struct</span> binary_tree<span style="color:#f92672">*</span> tree)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">_in_order</span>(tree, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> binary_tree tree;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fake_a_tree</span>(<span style="color:#f92672">&amp;</span>tree);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">in_order</span>(<span style="color:#f92672">&amp;</span>tree);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<p>â€‚äºŒå‰æ ‘æ€§è´¨:</p>
<ul>
<li>äºŒå‰æ ‘ä¸­,ç¬¬iå±‚æœ€å¤šæœ‰ 2^(i-1)ä¸ªèŠ‚ç‚¹</li>
<li>å¦‚æœäºŒå‰æ ‘çš„æ·±åº¦ä¸ºK,åˆ™äºŒå‰æ ‘æœ€å¤šæœ‰<code>2^K - 1</code>ä¸ªèŠ‚ç‚¹</li>
<li>äºŒå‰æ ‘ä¸­ï¼Œç»ˆç«¯ç»“ç‚¹æ ‘(å¶å­èŠ‚ç‚¹æ ‘)ä¸ºn0ï¼Œåº¦ä¸º2çš„èŠ‚ç‚¹æ ‘ä¸ºn1ï¼Œåˆ™ n0=n1+1</li>
</ul>
<p><strong>æ»¡äºŒå‰æ ‘</strong>
â€ƒå¦‚æœäºŒå‰æ ‘ä¸­é™¤äº†å¶å­èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„åº¦éƒ½ä¸º2ï¼Œåˆ™æ­¤äºŒå‰æ ‘ä¸ºæ»¡äºŒå‰æ ‘ã€‚</p>
<p><strong>å®Œå…¨äºŒå‰æ ‘</strong>
â€ƒå¦‚æœäºŒå‰æ ‘ä¸­é™¤å»æœ€åä¸€å±‚èŠ‚ç‚¹ä¸ºæ»¡äºŒå‰æ ‘ï¼Œä¸”æœ€åä¸€å±‚çš„ç»“ç‚¹ä¾æ¬¡ä»å·¦åˆ°å³åˆ†å¸ƒï¼Œåˆ™æ­¤äºŒå‰æ ‘è¢«ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚</p>
<p>â€ƒæ ‘çš„å‘¨æ¸¸ç®—æ³•åŒ…å«å…ˆåºéå†ã€ä¸­åºéå†ã€ååºéå†å’Œå±‚åºéå†ã€‚</p>
<ul>
<li>å…ˆåºéå†ï¼šå…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œç„¶åå·¦å­æ ‘ï¼Œæœ€åå³å­ç»“ç‚¹ã€‚æ·±åº¦ä¼˜å…ˆæ€æƒ³ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// é€’å½’
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">traversal</span>(TreeNode<span style="color:#f92672">*</span> cur) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (cur <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;cur-&gt;val = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, cur<span style="color:#f92672">-&gt;</span>val);    <span style="color:#75715e">// ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">traversal</span>(cur<span style="color:#f92672">-&gt;</span>left, vec);  <span style="color:#75715e">// å·¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">traversal</span>(cur<span style="color:#f92672">-&gt;</span>right, vec); <span style="color:#75715e">// å³
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">preorderTraversal</span>(TreeNode<span style="color:#f92672">*</span> root) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">traversal</span>(root);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// è¿­æˆˆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#define MAXSIZE 10000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> <span style="color:#a6e22e">preorderTraversal</span>(TreeNode<span style="color:#f92672">*</span> root) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> TreeNode st[MAXSIZE];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> top <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> result[MAXSIZE];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span> result;
</span></span><span style="display:flex;"><span>    st[top] <span style="color:#f92672">=</span> root;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (top <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        TreeNode<span style="color:#f92672">*</span> node <span style="color:#f92672">=</span> st[top];                       <span style="color:#75715e">// ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        top<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>        result[i<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> node<span style="color:#f92672">-&gt;</span>val;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (node<span style="color:#f92672">-&gt;</span>right) {
</span></span><span style="display:flex;"><span>             <span style="color:#75715e">// å³ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            st[<span style="color:#f92672">++</span>top] <span style="color:#f92672">=</span> node<span style="color:#f92672">-&gt;</span>right
</span></span><span style="display:flex;"><span>        }       
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (node<span style="color:#f92672">-&gt;</span>left) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// å·¦ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            st[<span style="color:#f92672">++</span>top] <span style="color:#f92672">=</span> node<span style="color:#f92672">-&gt;</span>left; 
</span></span><span style="display:flex;"><span>        }        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>ä¸­åºéå†ï¼šå…ˆè®¿é—®å·¦å­ç»“ç‚¹ï¼Œç„¶åæ ¹ç»“ç‚¹ï¼Œæœ€åå³å­ç»“ç‚¹ã€‚</li>
<li>ååºéå†ï¼šå…ˆè®¿é—®å·¦å­ç»“ç‚¹ï¼Œç„¶åå³å­ç»“ç‚¹ï¼Œæœ€åæ ¹ç»“ç‚¹ã€‚</li>
<li>å±‚åºéå†ï¼šå…ˆè®¿é—®æ ‘çš„æ ¹ç»“ç‚¹ï¼Œç„¶åä¾æ¬¡å‘ä¸‹å±‚å¤„ç†ï¼ŒæŒ‰ç…§ä»å·¦å‘å³çš„é¡ºåºè®¿é—®æ¯å±‚ç»“ç‚¹ã€‚å¹¿åº¦ä¼˜å…ˆçš„ç­–ç•¥ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">traversal</span>(TreeNode<span style="color:#f92672">*</span> cur) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (cur <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;cur-&gt;val = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, cur<span style="color:#f92672">-&gt;</span>val);    <span style="color:#75715e">// ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">traversal</span>(cur<span style="color:#f92672">-&gt;</span>left, vec);  <span style="color:#75715e">// å·¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">traversal</span>(cur<span style="color:#f92672">-&gt;</span>right, vec); <span style="color:#75715e">// å³
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">preorderTraversal</span>(TreeNode<span style="color:#f92672">*</span> root) {
</span></span><span style="display:flex;"><span>        vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> result;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">traversal</span>(root, result);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> result;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h4 id="234-äºŒå‰æŸ¥æ‰¾æ ‘bst">2.3.4 äºŒå‰æŸ¥æ‰¾æ ‘(BST)<a hidden class="anchor" aria-hidden="true" href="#234-äºŒå‰æŸ¥æ‰¾æ ‘bst">#</a></h4>
<p>â€‚äºŒå‰æŸ¥æ‰¾æ ‘ä¹Ÿç§°äºŒå‰æœç´¢æ ‘,æœ‰åºäºŒå‰æ ‘æˆ–æ’åºäºŒå‰æ ‘,å…·æœ‰æ€§è´¨:</p>
<ul>
<li>è‹¥ä»»æ„èŠ‚ç‚¹å·¦å­æ ‘ä¸ä¸ºç©º,åˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼</li>
<li>è‹¥ä»»æ„èŠ‚ç‚¹çš„å³å­æ ‘ä¸ä¸ºç©º,åˆ™å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼</li>
<li>ä»»æ„èŠ‚ç‚¹çš„å·¦,å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘</li>
<li>æ²¡æœ‰é”®å€¼ç›¸ç­‰çš„èŠ‚ç‚¹</li>
</ul>
<p>â€ƒä¸€é¢—äºŒå‰æœç´¢æ ‘è¦æ’å…¥ä¸€ä¸ªç»“ç‚¹ï¼Œè¦ä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚å¾€ä¸‹ï¼Œé€‚å½“åœ°ç§»åŠ¨å·¦æˆ–å³å­ç»“ç‚¹ä¸Šï¼Œå½“åˆ°è¾¾æ ‘çš„åˆ†æ”¯å°½å¤´æ—¶ï¼Œæ‰§è¡Œæ’å…¥æ“ä½œã€‚
â€ƒäºŒå‰æœç´¢æ ‘æ˜¯ä¸€ç§ç”¨äºæŸ¥æ‰¾æ“ä½œçš„é«˜æ•ˆæ•°æ®ç»“æ„ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œåªéœ€æŸ¥æ‰¾ä¸€ä¸ªåˆ†æ”¯ä¸Šçš„æ•°æ®å³å¯ã€‚<strong>æŸ¥æ‰¾,æ’å…¥</strong>æ“ä½œçš„å¤æ‚åº¦æ˜¯ <code>O(logn)</code>ï¼Œ<strong>æœç´¢,æ’å…¥,åˆ é™¤</strong>å¤æ‚åº¦ç­‰äºæ ‘é«˜,æœŸæœ›<code>O(logn)</code>,æœ€åä¸º<code>O(n)</code>,(æ ‘é€€åŒ–ä¸ºçº¿æ€§è¡¨)nä¸ºæ ‘ä¸­ç»“ç‚¹æ•°ã€‚
â€ƒä¿æŒä¸€æ£µæ ‘çš„å¹³è¡¡æ˜¯æŒ‡å¯¹äºç»™å®šæ•°é‡çš„ç»“ç‚¹ï¼Œè¦ä½¿å¾—æ ‘çš„é«˜åº¦å°½å¯èƒ½çŸ­ã€‚</p>
<p>â€ƒäºŒå‰æŸ¥æ‰¾æ ‘æ˜¯ç”±äºŒå‰æ ‘ç»„æˆçš„ä¸“ç”¨äºæŸ¥æ‰¾å’Œæœç´¢ç›®çš„çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚äºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾ä¸€ä¸ªç»“ç‚¹ï¼Œä»æ ¹ç»“ç‚¹å¼€å§‹ä¸€å±‚ä¸€å±‚å‘ä¸‹æŸ¥æ‰¾ï¼Œå½“é‡åˆ°ä¸€ä¸ªæ¯”ç›®æ ‡ç»“ç‚¹å€¼å¤§çš„ç»“ç‚¹æ—¶ï¼Œé¡ºç€è¯¥ç»“ç‚¹å·¦å­æ ‘ç»§ç»­æŸ¥æ‰¾ï¼Œå¦‚æœé‡åˆ°çš„ç»“ç‚¹å€¼å°äºç›®æ ‡ç»“ç‚¹ï¼Œåˆ™é¡ºç€è¯¥ç»“ç‚¹çš„å³å­æ ‘æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡ç»“ç‚¹ä¸ºæ­¢ã€‚</p>
<p>â€‚<strong>æŸ¥æ‰¾ç®—æ³•</strong>
â€ƒâ€ƒ1.è‹¥bæ˜¯ç©ºæ ‘,åˆ™æœç´¢å¤±è´¥,å¦åˆ™;
â€ƒâ€ƒ2.è‹¥xç­‰äºbçš„æ ¹èŠ‚ç‚¹çš„æ•°æ®åŸŸä¹‹å€¼,åˆ™æŸ¥æ‰¾æˆåŠŸ;
â€ƒâ€ƒ3.è‹¥xå°äºbçš„æ ¹èŠ‚ç‚¹çš„æ•°æ®åŸŸä¹‹å€¼,åˆ™æœç´¢å·¦å­æ ‘
â€ƒâ€ƒ4.æŸ¥æ‰¾å³å­æ ‘</p>
<p>â€‚<strong>æ’å…¥ç®—æ³•</strong>
â€ƒâ€ƒ1.è‹¥bæ˜¯ç©ºæ ‘,åˆ™å°†sæ‰€æŒ‡èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹æ’å…¥;å¦åˆ™
â€ƒâ€ƒ2.è‹¥<code>s-&gt;data</code>ç­‰äºbçš„æ ¹èŠ‚ç‚¹çš„æ•°æ®åŸŸå€¼,åˆ™è¿”å›,å¦åˆ™;
â€ƒâ€ƒ3.è‹¥<code>s-&gt;data</code>å°äºbçš„æ ¹èŠ‚ç‚¹çš„æ•°æ®åŸŸä¹‹å€¼,åˆ™æŠŠsæ‰€å€¼èŠ‚ç‚¹æ’å…¥åˆ°å·¦å­æ ‘ä¸­,å¦åˆ™
â€ƒâ€ƒ4.æŠŠsæ‰€æŒ‡èŠ‚ç‚¹æ’å…¥åˆ°å³å­æ ‘ä¸­,(æ–°æ’å…¥èŠ‚ç‚¹æ€»æ˜¯å¶å­èŠ‚ç‚¹)</p>
<p>â€‚<strong>åˆ é™¤ç®—æ³•</strong>
â€ƒâ€ƒ1.è‹¥*pèŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹,å³PL(å·¦å­æ ‘)å’ŒPR(å³å­æ ‘)å‡ä¸ºç©ºæ ‘.ç”±äºåˆ å»å¶å­èŠ‚ç‚¹ä¸ç ´åæ•´æ£µæ ‘çš„ç»“æ„,åˆ™åªéœ€ä¿®æ”¹å…¶åŒäº²èŠ‚ç‚¹çš„æŒ‡é’ˆå³å¯.</p>
<details>
<summary>binarysearch</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define OK 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define ERROR 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define TRUE 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define FALSE 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">int</span> Status;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">char</span> ElemType;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> node {
</span></span><span style="display:flex;"><span>    ElemType data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>lchild, <span style="color:#f92672">*</span>rchild;
</span></span><span style="display:flex;"><span>} BTree, <span style="color:#f92672">*</span>BTreePtr;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**************** æ’å…¥ **********************/</span>
</span></span><span style="display:flex;"><span>Status <span style="color:#a6e22e">Insert</span>(BTreePtr <span style="color:#f92672">*</span>T, ElemType e) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    BTreePtr p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">*</span>T <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">*</span>T <span style="color:#f92672">=</span> (BTreePtr)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(BTree));
</span></span><span style="display:flex;"><span>        (<span style="color:#f92672">*</span>T)<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> e;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> TRUE;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        p <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>T;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> ( p <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (e <span style="color:#f92672">&gt;</span> p<span style="color:#f92672">-&gt;</span>data) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (p<span style="color:#f92672">-&gt;</span>rchild <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>                    p<span style="color:#f92672">-&gt;</span>rchild <span style="color:#f92672">=</span> (BTreePtr) <span style="color:#a6e22e">malloc</span> (<span style="color:#66d9ef">sizeof</span>(BTree));
</span></span><span style="display:flex;"><span>                    p<span style="color:#f92672">-&gt;</span>rchild<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> e;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> TRUE;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                p <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>rchild;
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (p<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>                    p<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">=</span> (BTreePtr) <span style="color:#a6e22e">malloc</span> (<span style="color:#66d9ef">sizeof</span>(BTree));
</span></span><span style="display:flex;"><span>                    p<span style="color:#f92672">-&gt;</span>lchild<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> e;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> TRUE;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                p <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>lchild;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> FALSE;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**************** åˆ é™¤ **********************/</span>
</span></span><span style="display:flex;"><span>Status <span style="color:#a6e22e">Delete</span>(BTreePtr T, ElemType e) {
</span></span><span style="display:flex;"><span>    BTreePtr p, pp, minP, minPP, child;
</span></span><span style="display:flex;"><span>    child <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    p <span style="color:#f92672">=</span> T;
</span></span><span style="display:flex;"><span>    pp <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> ( (p <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (p<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">!=</span> e) ) {
</span></span><span style="display:flex;"><span>        pp <span style="color:#f92672">=</span> p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (e <span style="color:#f92672">&gt;</span> p<span style="color:#f92672">-&gt;</span>data) {
</span></span><span style="display:flex;"><span>            p <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>rchild;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            p <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>lchild;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (p <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span> FALSE;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//åŒèŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> ((p<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (p<span style="color:#f92672">-&gt;</span>rchild <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        minPP <span style="color:#f92672">=</span> p;
</span></span><span style="display:flex;"><span>        minP <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>rchild;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (minP<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>            minPP <span style="color:#f92672">=</span> minP;
</span></span><span style="display:flex;"><span>            minP <span style="color:#f92672">=</span> minP<span style="color:#f92672">-&gt;</span>lchild;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        p<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> minP<span style="color:#f92672">-&gt;</span>data;
</span></span><span style="display:flex;"><span>        minPP<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">=</span> minP<span style="color:#f92672">-&gt;</span>rchild;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(minP);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> TRUE;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//æœ‰ä¸€ä¸ªèŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> ((p<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">||</span> (p<span style="color:#f92672">-&gt;</span>rchild <span style="color:#f92672">!=</span> NULL)) { <span style="color:#75715e">//åº”è¯¥å°†åŸæœ‰çš„ppåŒchildè¿æ¥åœ¨ä¸€èµ·
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (p<span style="color:#f92672">-&gt;</span>lchild) {
</span></span><span style="display:flex;"><span>            child <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>lchild;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>           child <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>rchild;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(pp<span style="color:#f92672">-&gt;</span>data<span style="color:#f92672">&gt;</span>p<span style="color:#f92672">-&gt;</span>data) {
</span></span><span style="display:flex;"><span>            pp<span style="color:#f92672">-&gt;</span>lchild<span style="color:#f92672">=</span>child;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            pp<span style="color:#f92672">-&gt;</span>rchild<span style="color:#f92672">=</span>child;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(p);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> TRUE;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//æ²¡æœ‰èŠ‚ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (pp<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">==</span> p) {<span style="color:#75715e">//è¿™é‡Œé¢ä¸´ppé™¤pä»¥å¤–çš„èŠ‚ç‚¹ä¸ºnullçš„æƒ…å†µ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        pp<span style="color:#f92672">-&gt;</span>lchild <span style="color:#f92672">=</span> child;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        pp<span style="color:#f92672">-&gt;</span>rchild <span style="color:#f92672">=</span> child;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> TRUE;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**************** æŸ¥æ‰¾ **********************/</span>
</span></span><span style="display:flex;"><span>Status <span style="color:#a6e22e">Find</span>(BTreePtr T, ElemType e) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (T <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span> FALSE;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> ((T <span style="color:#f92672">!=</span> NULL) <span style="color:#f92672">&amp;&amp;</span> (T<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">!=</span> e)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (e <span style="color:#f92672">&gt;</span> T<span style="color:#f92672">-&gt;</span>data) {
</span></span><span style="display:flex;"><span>            T <span style="color:#f92672">=</span> T<span style="color:#f92672">-&gt;</span>rchild;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            T <span style="color:#f92672">=</span> T<span style="color:#f92672">-&gt;</span>lchild;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (T) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> TRUE;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> FALSE;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**************** æœ€å¤§å€¼ **********************/</span>
</span></span><span style="display:flex;"><span>ElemType <span style="color:#a6e22e">FindMax</span>(BTreePtr T) {
</span></span><span style="display:flex;"><span>    ElemType max;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(T <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        max <span style="color:#f92672">=</span> T<span style="color:#f92672">-&gt;</span>data;
</span></span><span style="display:flex;"><span>        T <span style="color:#f92672">=</span> T<span style="color:#f92672">-&gt;</span>rchild;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> max;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**************** æœ€å°å€¼ **********************/</span>
</span></span><span style="display:flex;"><span>ElemType <span style="color:#a6e22e">FindMin</span>(BTreePtr T) {
</span></span><span style="display:flex;"><span>    ElemType min;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(T <span style="color:#f92672">!=</span> NULL) {
</span></span><span style="display:flex;"><span>        min <span style="color:#f92672">=</span> T<span style="color:#f92672">-&gt;</span>data;
</span></span><span style="display:flex;"><span>        T <span style="color:#f92672">=</span> T<span style="color:#f92672">-&gt;</span>lchild;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> min;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">PreOrderTraverse</span>(BTreePtr T)<span style="color:#75715e">//å‰åºéå†äºŒå‰æ ‘
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (T <span style="color:#f92672">==</span> NULL) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(T) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,T<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">PreOrderTraverse</span>(T<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">PreOrderTraverse</span>(T<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">DestroyTree</span>(BTreePtr T) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (T) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (T<span style="color:#f92672">-&gt;</span>lchild) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">DestroyTree</span>(T<span style="color:#f92672">-&gt;</span>lchild);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(T<span style="color:#f92672">-&gt;</span>rchild) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">DestroyTree</span>(T<span style="color:#f92672">-&gt;</span>rchild);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">free</span>(T);
</span></span><span style="display:flex;"><span>        T <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/***************** æ‰§è¡Œæµ‹è¯• *************************/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#66d9ef">const</span> <span style="color:#f92672">*</span>argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    BTreePtr T;
</span></span><span style="display:flex;"><span>    T <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a[] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">33</span>, <span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">34</span>, <span style="color:#ae81ff">58</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">51</span>, <span style="color:#ae81ff">66</span>, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">27</span>, <span style="color:#ae81ff">55</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">15</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Insert</span>(<span style="color:#f92672">&amp;</span>T, a[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Max is %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">FindMax</span>(T));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Min is %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">FindMin</span>(T));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Delete</span>(T, <span style="color:#ae81ff">18</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Delete</span>(T, <span style="color:#ae81ff">13</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">PreOrderTraverse</span>(T);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">DestroyTree</span>(T);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>bst</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> child_dir {
</span></span><span style="display:flex;"><span>    left_child,
</span></span><span style="display:flex;"><span>    right_child,
</span></span><span style="display:flex;"><span>    root,
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> node {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> data; 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>left;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>right;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> root {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>r;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump</span>(<span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>node, <span style="color:#66d9ef">int</span> level, <span style="color:#66d9ef">enum</span> child_dir dir)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>node)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(node<span style="color:#f92672">-&gt;</span>right, level <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, right_child);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (dir <span style="color:#f92672">==</span> left_child)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%*s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, level<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;|&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%*s - %05lu</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, level<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34; &#34;</span>, node<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (dir <span style="color:#f92672">==</span> right_child)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%*s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, level<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;|&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(node<span style="color:#f92672">-&gt;</span>left, level <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, left_child);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> node<span style="color:#f92672">*</span> <span style="color:#a6e22e">find</span>(<span style="color:#66d9ef">struct</span> root <span style="color:#f92672">*</span>root, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node<span style="color:#f92672">*</span> n <span style="color:#f92672">=</span> root<span style="color:#f92672">-&gt;</span>r;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (n) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (n<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">==</span> data)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> n;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (data <span style="color:#f92672">&lt;</span> n<span style="color:#f92672">-&gt;</span>data)
</span></span><span style="display:flex;"><span>            n <span style="color:#f92672">=</span> n<span style="color:#f92672">-&gt;</span>left;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            n <span style="color:#f92672">=</span> n<span style="color:#f92672">-&gt;</span>right;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> node<span style="color:#f92672">*</span> <span style="color:#a6e22e">new_node</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> node));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>    n<span style="color:#f92672">-&gt;</span>left <span style="color:#f92672">=</span> n<span style="color:#f92672">-&gt;</span>right <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> n;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert</span>(<span style="color:#66d9ef">struct</span> root <span style="color:#f92672">*</span>root, <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>new)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>parent;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>root<span style="color:#f92672">-&gt;</span>r) {
</span></span><span style="display:flex;"><span>        root<span style="color:#f92672">-&gt;</span>r <span style="color:#f92672">=</span> new;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    parent <span style="color:#f92672">=</span> root<span style="color:#f92672">-&gt;</span>r;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (true) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* Don&#39;t support duplicate data */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (new<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">==</span> parent<span style="color:#f92672">-&gt;</span>data)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (new<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">&lt;</span> parent<span style="color:#f92672">-&gt;</span>data) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>parent<span style="color:#f92672">-&gt;</span>left) {
</span></span><span style="display:flex;"><span>            parent<span style="color:#f92672">-&gt;</span>left <span style="color:#f92672">=</span> new;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        parent <span style="color:#f92672">=</span> parent<span style="color:#f92672">-&gt;</span>left;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>parent<span style="color:#f92672">-&gt;</span>right) {
</span></span><span style="display:flex;"><span>                parent<span style="color:#f92672">-&gt;</span>right <span style="color:#f92672">=</span> new;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            parent <span style="color:#f92672">=</span> parent<span style="color:#f92672">-&gt;</span>right;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> node<span style="color:#f92672">*</span> <span style="color:#a6e22e">delete</span>(<span style="color:#66d9ef">struct</span> root <span style="color:#f92672">*</span>root, <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>n <span style="color:#f92672">=</span> root<span style="color:#f92672">-&gt;</span>r, <span style="color:#f92672">**</span>p <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>root<span style="color:#f92672">-&gt;</span>r;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>child;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (n <span style="color:#f92672">&amp;&amp;</span> n<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">!=</span> data) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (data <span style="color:#f92672">&lt;</span> n<span style="color:#f92672">-&gt;</span>data) {
</span></span><span style="display:flex;"><span>            p <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>n<span style="color:#f92672">-&gt;</span>left;
</span></span><span style="display:flex;"><span>            n <span style="color:#f92672">=</span> n<span style="color:#f92672">-&gt;</span>left;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            p <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>n<span style="color:#f92672">-&gt;</span>right;
</span></span><span style="display:flex;"><span>            n <span style="color:#f92672">=</span> n<span style="color:#f92672">-&gt;</span>right;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>n)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n<span style="color:#f92672">-&gt;</span>left <span style="color:#f92672">&amp;&amp;</span> n<span style="color:#f92672">-&gt;</span>right) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>rn <span style="color:#f92672">=</span> n<span style="color:#f92672">-&gt;</span>right, <span style="color:#f92672">**</span>rp <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>n<span style="color:#f92672">-&gt;</span>right;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (rn<span style="color:#f92672">-&gt;</span>left) {
</span></span><span style="display:flex;"><span>            rp <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>rn<span style="color:#f92672">-&gt;</span>left;
</span></span><span style="display:flex;"><span>            rn <span style="color:#f92672">=</span> rn<span style="color:#f92672">-&gt;</span>left;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        n<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> rn<span style="color:#f92672">-&gt;</span>data;
</span></span><span style="display:flex;"><span>        n <span style="color:#f92672">=</span> rn;
</span></span><span style="display:flex;"><span>        p <span style="color:#f92672">=</span> rp;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    child <span style="color:#f92672">=</span> n<span style="color:#f92672">-&gt;</span>left <span style="color:#f92672">?</span> n<span style="color:#f92672">-&gt;</span>left : n<span style="color:#f92672">-&gt;</span>right;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> child;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert_test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> root tree;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node<span style="color:#f92672">*</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    tree.r <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">9</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">5</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">8</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">18</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">13</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">21</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">20</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(tree.r, <span style="color:#ae81ff">0</span>, root);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">=</span> <span style="color:#a6e22e">find</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#ae81ff">18</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">&amp;&amp;</span> n<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">==</span> <span style="color:#ae81ff">18</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Get 18</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delete_test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> root tree;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node<span style="color:#f92672">*</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    tree.r <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">9</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">5</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">8</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">18</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">13</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">21</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#a6e22e">new_node</span>(<span style="color:#ae81ff">20</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(tree.r, <span style="color:#ae81ff">0</span>, root);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">delete</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Delete 20</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(tree.r, <span style="color:#ae81ff">0</span>, root);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">delete</span>(<span style="color:#f92672">&amp;</span>tree, <span style="color:#ae81ff">9</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Delete 9</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(tree.r, <span style="color:#ae81ff">0</span>, root);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//insert_test();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">delete_test</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="235-å¹³è¡¡æ ‘">2.3.5 å¹³è¡¡æ ‘<a hidden class="anchor" aria-hidden="true" href="#235-å¹³è¡¡æ ‘">#</a></h4>
<p>â€‚å¹³è¡¡æ ‘æ˜¯ä¸€ç±»æ”¹è¿›çš„äºŒå‰æŸ¥æ‰¾æ ‘,ä¸€èˆ¬äºŒå‰æŸ¥æ‰¾æ ‘çš„æŸ¥è¯¢å¤æ‚åº¦ä¸ç›®æ ‡èŠ‚ç‚¹åˆ°æ ‘æ ¹çš„è·ç¦»(æ·±åº¦)æœ‰å…³,å› æ­¤å½“æ·±åº¦è¾ƒå¤§æ—¶,æŸ¥è¯¢å‡æ‘Šå¤æ‚åº¦ä¼šä¸Šå‡.
â€‚<strong>å¹³è¡¡æŒ‡æ‰€æœ‰å¶å­çš„æ·±åº¦è¶‹äºå¹³è¡¡</strong>,æ›´å¹¿ä¹‰æŒ‡æ ‘ä¸Šæ‰€æœ‰å¯èƒ½æŸ¥æ‰¾çš„å‡æ‘Šå¤æ‚åº¦åä½.<strong>å¹³è¡¡æ ‘çš„æ“ä½œæ—¶åŸºäºæ ‘æ—‹è½¬æ“ä½œ,é€šè¿‡æ—‹è½¬å¯ä½¿æ ‘è¶‹äºå¹³è¡¡</strong>.
â€‚å¯¹ä¸€é¢—æŸ¥æ‰¾æ ‘è¿›è¡ŒæŸ¥è¯¢,æ–°å¢,åˆ é™¤ç­‰æ“ä½œ,æ‰€èŠ±çš„æ—¶é—´ä¸æ ‘çš„é«˜åº¦hæˆæ¯”ä¾‹,å¹¶ä¸ä¸æ ‘çš„å®¹é‡næˆæ¯”ä¾‹.</p>
<ul>
<li><strong>AVLæ ‘</strong></li>
</ul>
<p>â€ƒåœ¨<strong>AVLæ ‘ä¸­,ä»»ä¸€èŠ‚ç‚¹å¯¹äºçš„ä¸¤é¢—å­æ ‘çš„æœ€å¤§é«˜åº¦å·®ä¸º1,å› æ­¤ä¹Ÿç§°ä¸ºé«˜åº¦å¹³è¡¡æ ‘</strong>.æŸ¥æ‰¾,æ’å…¥å’Œåˆ é™¤çš„å¹³å‡å’Œæœ€åæ—¶é—´å¤æ‚åº¦æ˜¯O(logn),å¢åŠ å’Œåˆ é™¤å…ƒç´ çš„æ“ä½œåˆ™å¯èƒ½éœ€è¦å€Ÿç”±ä¸€å±‚æˆ–å¤šæ¬¡æ—‹è½¬,ä»¥å®ç°æ ‘çš„é‡æ–°å¹³è¡¡.
â€ƒ<strong>é«˜åº¦ä¸ºhçš„AVLæ ‘,æ€»èŠ‚ç‚¹æ•°æœ€å¤šä¸º2^h-1</strong>; å½“å‰èŠ‚ç‚¹æ•°ä¸ºNæ—¶,é«˜åº¦hæœ€å¤šä¸º:</p>
<blockquote>
<p>log(5*0.5 * (N + 1)) - 2</p>
</blockquote>
<br>
<ul>
<li><strong>çº¢é»‘æ ‘</strong></li>
</ul>
<p>â€‚çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘,å…¸å‹çš„ç”¨é€”æ˜¯å®ç°å…³è”æ•°ç»„.çº¢é»‘æ ‘å®ç°å¤åˆ¶,æŸ¥æ‰¾,æ’å…¥å’Œåˆ é™¤æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)
â€‚çº¢é»‘æ ‘ç›¸å¯¹äºAVLæ ‘,ç‰ºç‰²äº†éƒ¨åˆ†å¹³è¡¡æ€§ä»¥æ¢å–æ’å…¥\åˆ é™¤æ“ä½œæ—¶å°‘é‡çš„æ—‹è½¬æ“ä½œ,æ•´ä½“æ€§èƒ½ä¼˜äºAVLæ ‘.</p>
<p>â€ƒçº¢é»‘æ ‘ä¸AVLæ ‘çš„ç›¸æ¯”:
â€ƒâ€ƒAVLæ ‘åœ¨æ’å…¥,åˆ é™¤èŠ‚ç‚¹æ—¶è¦æŠŠæ ‘è°ƒæ•´åˆ°å®Œå…¨å¹³è¡¡,çº¢é»‘æ ‘åªè¦è°ƒæ•´åˆ°å¤§è‡´å¹³è¡¡,å› æ­¤é€šå¸¸çº¢é»‘æ ‘çš„æ’å…¥,åˆ é™¤èŠ‚ç‚¹æ€§èƒ½ç¨å¥½.
â€ƒâ€ƒAVLçš„æŸ¥æ‰¾æ€§èƒ½é€šå¸¸æ¯”çº¢é»‘æ ‘å¥½
â€ƒâ€ƒå¦‚æœèŠ‚ç‚¹çš„å¢åˆ æ“ä½œè¿œå°äºæŸ¥æ‰¾æ“ä½œ,åˆ™åº”é€‰æ‹©AVL;åä¹‹,çº¢é»‘æ ‘å¯èƒ½æ›´å¥½.</p>
<p>â€‚çº¢é»‘æ ‘æ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½å¸¦æœ‰é¢œè‰²å±æ€§çš„äºŒå‰æ ‘,é¢œè‰²ä¸ºçº¢è‰²æˆ–é»‘è‰².åœ¨äºŒå‰æŸ¥æ‰¾æ ‘å¼ºåˆ¶ä¸€èˆ¬è¦æ±‚ä»¥å¤–,å¯¹äºä»»ä½•æœ‰æ•ˆçš„çº¢é»‘æ ‘æˆ‘ä»¬æ€è®²äº†å¼±å°é¢å¤–è¦æ±‚:
â€ƒâ€ƒ1.èŠ‚ç‚¹æ˜¯çº¢æˆ–é»‘è‰²
â€ƒâ€ƒ2.æ ¹æ˜¯é»‘è‰²
â€ƒâ€ƒ3.æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²(å¶å­æ˜¯NILèŠ‚ç‚¹)
â€ƒâ€ƒ4.æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»å³ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹.(ä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½å³ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹.)
â€ƒâ€ƒ5.ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒè‹åé¢çš„é»‘è‰²èŠ‚ç‚¹.
â€‚çº¢é»‘æ ‘å…³é”®ç‰¹æ€§:<strong>ä»æ ¹åˆ°å¶å­çš„æœ€é•¿çš„å¯èƒ½è·¯å¾„ä¸å¤šäºæœ€çŸ­çš„å¯èƒ½è·¯å¾„çš„ä¸¤å€é•¿</strong>.çº¢é»‘æ ‘æ˜¯å¤§è‡´å¹³è¡¡çš„.æ’å…¥,åˆ é™¤å’ŒæŸ¥æ‰¾æŸä¸ªå€¼æœ€åæƒ…å†µä¸‹ä¸æ ‘çš„é«˜åº¦æˆæ¯”ä¾‹.</p>
<ul>
<li><strong>B+æ ‘</strong></li>
</ul>
<p>â€‚B+æ ‘é€šå¸¸ç”¨äºæ•°æ®åº“å’Œæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸­.<strong>B+æ ‘çš„ç‰¹ç‚¹æ˜¯èƒ½å¤Ÿä¿æŒæ•°æ®ç¨³å®šæœ‰åº,å…¶æ’å…¥ä¸ä¿®æ”¹æ‹¥æœ‰è¾ƒæ–‡æ¡£çš„å¯¹æ•°æ—¶é—´å¤æ‚åº¦</strong>.B+æ ‘å…ƒç´ è‡ªåº•å‘ä¸Šæ’å…¥,ä¸äºŒå‰æ ‘ç›¸å.
â€‚B+æ ‘æ˜¯å†…éƒ¨èŠ‚ç‚¹å¯å³åœ¨é¢„å®šèŒƒå›´å†…çš„å¯å˜é‡ç›®çš„å­èŠ‚ç‚¹.å› æ­¤,B+æ ‘ä¸éœ€è¦åƒå…¶ä»–è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘é‚£æ ·é‡æ–°å¹³è¡¡.</p>
<ul>
<li><strong>å­—å…¸æ ‘</strong></li>
</ul>
<details>
<summary>Trie</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define OK 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define ERROR 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define TRUE 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define FALSE 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">int</span> Status;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> Node {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> Node <span style="color:#f92672">*</span>children[<span style="color:#ae81ff">26</span>];
</span></span><span style="display:flex;"><span>    Status end;
</span></span><span style="display:flex;"><span>} Trie, <span style="color:#f92672">*</span>TriePtr;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Init</span>(TriePtr <span style="color:#f92672">*</span>T)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    (<span style="color:#f92672">*</span>T) <span style="color:#f92672">=</span> (TriePtr)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(Trie));
</span></span><span style="display:flex;"><span>    (<span style="color:#f92672">*</span>T)<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/&#39;</span>;
</span></span><span style="display:flex;"><span>    (<span style="color:#f92672">*</span>T)<span style="color:#f92672">-&gt;</span>end <span style="color:#f92672">=</span> FALSE;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Insert</span>(TriePtr T, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>str) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> index;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(c <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>str<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        index <span style="color:#f92672">=</span> c <span style="color:#f92672">-</span> <span style="color:#e6db74">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (T<span style="color:#f92672">-&gt;</span>children[index] <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>            TriePtr Node;
</span></span><span style="display:flex;"><span>            Node <span style="color:#f92672">=</span> (TriePtr)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(Trie));
</span></span><span style="display:flex;"><span>            Node<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> c;
</span></span><span style="display:flex;"><span>            Node<span style="color:#f92672">-&gt;</span>end <span style="color:#f92672">=</span> FALSE;
</span></span><span style="display:flex;"><span>            T<span style="color:#f92672">-&gt;</span>children[index] <span style="color:#f92672">=</span> Node;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        T <span style="color:#f92672">=</span> T<span style="color:#f92672">-&gt;</span>children[index];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    T<span style="color:#f92672">-&gt;</span>end <span style="color:#f92672">=</span> TRUE;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Status <span style="color:#a6e22e">Search</span>(TriePtr T, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>str) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> index;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> c;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(c <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>str<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        index <span style="color:#f92672">=</span> c <span style="color:#f92672">-</span> <span style="color:#e6db74">&#39;a&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (T<span style="color:#f92672">-&gt;</span>children[index] <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> FALSE;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        T <span style="color:#f92672">=</span> T<span style="color:#f92672">-&gt;</span>children[index];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (T<span style="color:#f92672">-&gt;</span>end) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> TRUE;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> FALSE;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#66d9ef">const</span> <span style="color:#f92672">*</span>argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    TriePtr T;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Init</span>(<span style="color:#f92672">&amp;</span>T);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>str2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hi&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Insert</span>(T, str);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;str is search %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">Search</span>(T, str));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;str2 is search %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">Search</span>(T, str2));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="236-å †æ ‘å’Œä¼˜å…ˆé˜Ÿåˆ—">2.3.6 å †æ ‘å’Œä¼˜å…ˆé˜Ÿåˆ—<a hidden class="anchor" aria-hidden="true" href="#236-å †æ ‘å’Œä¼˜å…ˆé˜Ÿåˆ—">#</a></h4>
<p>â€‚å †(heap)ä¹Ÿç§°ä¸ºä¼˜å…ˆé˜Ÿåˆ—,å †éµå®ˆé˜Ÿåˆ—æ“ä½œæ¨¡å¼,åœ¨å †åº•æ’å…¥å…ƒç´ ,åœ¨å †é¡¶å–å‡ºå…ƒç´ ,ä½†å †ä¸­å…ƒç´ çš„æ’åˆ—ä¸æ˜¯æŒ‰ç…§åˆ°æ¥çš„å…ˆåé¡ºåº,è€Œæ˜¯æŒ‰ç…§ä¸€å®šçš„æœ‰åºé¡ºåºæ’åˆ—çš„.
â€‚å †çš„æœ¬è´¨æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘,å¯ä½¿ç”¨äºŒå‰æ ‘è¡¨ç¤ºå †,ä¹Ÿå¯ä½¿ç”¨æ•°ç»„æ¥è¡¨ç¤º.
â€‚å †çš„ç‰¹æ€§:
â€ƒâ€ƒå¿…é¡»æ˜¯å®Œå…¨äºŒå‰æ ‘
â€ƒâ€ƒç”¨æ•°ç»„å®ç°
â€ƒâ€ƒä»»ä¸€èŠ‚ç‚¹çš„å€¼æ˜¯å…¶å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼
â€ƒâ€ƒâ€ƒæœ€å¤§å€¼æ—¶,ç§°ä¸ºæœ€å¤§å †,ä¹Ÿç§°å¤§é¡¶å †
â€ƒâ€ƒâ€ƒæœ€å°æ—¶,ç§°ä¸ºæœ€å°å †,ä¹Ÿç§°å°é¡¶å †.
â€ƒ<strong>å †ä¸èƒ½ä¿è¯æ•´æ£µæ ‘éƒ½æ˜¯æœ‰åºçš„,å †ä¸­çš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶æ—¶é—´å¤æ‚åº¦ä¸ºO(log2n)</strong></p>
<p>â€ƒå †æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œé€šå¸¸å…¶å­ç»“ç‚¹å­˜å‚¨çš„å€¼æ¯”çˆ¶ç»“ç‚¹çš„å€¼å°ï¼Œæ‰€ä»¥ï¼Œæ ¹ç»“ç‚¹ä¸ºæ ‘ä¸­æœ€å¤§çš„ç»“ç‚¹(å¤§é¡¶å †)ã€‚åŒæ ·ï¼Œæ ¹ç»“ç‚¹ä¹Ÿå¯ä»¥æ˜¯æ ‘ä¸­æœ€å°çš„ç»“ç‚¹(å°é¡¶å †)ã€‚èƒ½å¤Ÿå¿«é€Ÿç¡®å®šåŒ…å«æœ€å¤§(å°)å€¼çš„ç‰¹ç‚¹ã€‚
â€ƒå †æ—¶å·¦å¹³è¡¡çš„æ ‘ï¼Œéšç€ç»“ç‚¹å¢åŠ ï¼Œæ ‘ä¼šé€çº§ä»å·¦è‡³å³å¢é•¿ã€‚ä¸€ä¸ªè¾ƒå¥½åœ°è¡¨ç¤ºå·¦å¹³è¡¡äºŒå‰æ ‘çš„æ–¹å¼æ˜¯ï¼Œå°†ç»“ç‚¹é€šè¿‡å±‚åºéå†æ–¹å¼è¿ç»­å­˜å‚¨åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> Heap_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>compare)(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> (<span style="color:#f92672">*</span>destroy)(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">**</span>tree;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><details>
<summary>heap</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Implement heap */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX_HEAP_SIZE (1 &lt;&lt; 8)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> element {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> heap {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">union</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> elements;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> element <span style="color:#f92672">*</span>elem[MAX_HEAP_SIZE];
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">init_heap</span>(<span style="color:#66d9ef">struct</span> heap <span style="color:#f92672">*</span>heap)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> MAX_HEAP_SIZE; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        heap<span style="color:#f92672">-&gt;</span>elem[i] <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump_heap</span>(<span style="color:#66d9ef">struct</span> heap <span style="color:#f92672">*</span>heap, <span style="color:#66d9ef">int</span> index)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> element <span style="color:#f92672">*</span>elem;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> level;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (index <span style="color:#f92672">&gt;</span> heap<span style="color:#f92672">-&gt;</span>elements)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    elem <span style="color:#f92672">=</span> heap<span style="color:#f92672">-&gt;</span>elem[index];
</span></span><span style="display:flex;"><span>    level <span style="color:#f92672">=</span> <span style="color:#a6e22e">fls</span>(index);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_heap</span>(heap, index <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>(index <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">&amp;&amp;</span> index <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%*s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, level<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;|&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%*s - %05d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, level<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34; &#34;</span>, elem<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (index <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&amp;&amp;</span> index <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%*s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, level<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;|&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_heap</span>(heap, index <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump</span>(<span style="color:#66d9ef">struct</span> heap <span style="color:#f92672">*</span>heap, <span style="color:#66d9ef">int</span> elements)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> elements; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;[%02d]: %4d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, heap<span style="color:#f92672">-&gt;</span>elem[i]<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> element<span style="color:#f92672">*</span> <span style="color:#a6e22e">create_element</span>(<span style="color:#66d9ef">int</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> element <span style="color:#f92672">*</span>elem;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    elem <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> element));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (elem)
</span></span><span style="display:flex;"><span>        elem<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> elem;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fake_a_heap</span>(<span style="color:#66d9ef">struct</span> heap <span style="color:#f92672">*</span>heap)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* data is in ordered */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, data[<span style="color:#ae81ff">10</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">init_heap</span>(heap);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* root start at 1 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        heap<span style="color:#f92672">-&gt;</span>elem[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">create_element</span>(data[i]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    heap<span style="color:#f92672">-&gt;</span>elements <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span>(<span style="color:#66d9ef">struct</span> heap <span style="color:#f92672">*</span>heap, <span style="color:#66d9ef">int</span> i, <span style="color:#66d9ef">int</span> j)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> element <span style="color:#f92672">*</span>tmp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    tmp <span style="color:#f92672">=</span> heap<span style="color:#f92672">-&gt;</span>elem[j];
</span></span><span style="display:flex;"><span>    heap<span style="color:#f92672">-&gt;</span>elem[j] <span style="color:#f92672">=</span> heap<span style="color:#f92672">-&gt;</span>elem[i];
</span></span><span style="display:flex;"><span>    heap<span style="color:#f92672">-&gt;</span>elem[i] <span style="color:#f92672">=</span> tmp;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">heapify</span>(<span style="color:#66d9ef">struct</span> heap <span style="color:#f92672">*</span>heap, <span style="color:#66d9ef">int</span> parent)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> element <span style="color:#f92672">**</span>elem <span style="color:#f92672">=</span> heap<span style="color:#f92672">-&gt;</span>elem;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> elements <span style="color:#f92672">=</span> heap<span style="color:#f92672">-&gt;</span>elements;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> left, right, max;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (true) {
</span></span><span style="display:flex;"><span>        left <span style="color:#f92672">=</span> parent <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>        right <span style="color:#f92672">=</span> left <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        max <span style="color:#f92672">=</span> parent;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (left <span style="color:#f92672">&lt;=</span> elements <span style="color:#f92672">&amp;&amp;</span> elem[max]<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">&lt;</span> elem[left]<span style="color:#f92672">-&gt;</span>data)
</span></span><span style="display:flex;"><span>            max <span style="color:#f92672">=</span> left;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (right <span style="color:#f92672">&lt;=</span> elements <span style="color:#f92672">&amp;&amp;</span> elem[max]<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">&lt;</span> elem[right]<span style="color:#f92672">-&gt;</span>data)
</span></span><span style="display:flex;"><span>            max <span style="color:#f92672">=</span> right;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (max <span style="color:#f92672">==</span> parent)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">swap</span>(heap, max, parent);
</span></span><span style="display:flex;"><span>        parent <span style="color:#f92672">=</span> max;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">build_heap</span>(<span style="color:#66d9ef">struct</span> heap <span style="color:#f92672">*</span>heap)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> heap<span style="color:#f92672">-&gt;</span>elements <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span>; i<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">heapify</span>(heap, i);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">heap_sort</span>(<span style="color:#66d9ef">struct</span> heap <span style="color:#f92672">*</span>heap)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> elements <span style="color:#f92672">=</span> heap<span style="color:#f92672">-&gt;</span>elements;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (heap<span style="color:#f92672">-&gt;</span>elements) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">swap</span>(heap, <span style="color:#ae81ff">1</span>, heap<span style="color:#f92672">-&gt;</span>elements);
</span></span><span style="display:flex;"><span>        heap<span style="color:#f92672">-&gt;</span>elements<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">heapify</span>(heap, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> elements;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> heap heap;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> elements;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fake_a_heap</span>(<span style="color:#f92672">&amp;</span>heap);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_heap</span>(<span style="color:#f92672">&amp;</span>heap, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;After Heapify:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">build_heap</span>(<span style="color:#f92672">&amp;</span>heap);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_heap</span>(<span style="color:#f92672">&amp;</span>heap, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;After Heap sort:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    elements <span style="color:#f92672">=</span> <span style="color:#a6e22e">heap_sort</span>(<span style="color:#f92672">&amp;</span>heap);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(<span style="color:#f92672">&amp;</span>heap, elements);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<p>â€ƒå †æ’åºï¼Œè¦æ’åºçš„æ•°æ®é¦–å…ˆå­˜å‚¨åœ¨ä¸€ä¸ªå †ä¸­ã€‚ä»å †ä¸­ä¸€æ¬¡å–å‡ºä¸€ä¸ªç»“ç‚¹ã€‚æ”¾ç½®åˆ°æœ‰åºæ•°æ®é›†çš„å°¾éƒ¨ã€‚å½“å–å‡ºæ¯ä¸ªç»“ç‚¹æ—¶ï¼Œå®ƒçš„ä¸‹ä¸€ä¸ªç»“ç‚¹å°±ä¼šæµ®ç°åˆ°å †çš„é¡¶éƒ¨ã€‚</p>
<p>â€ƒä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä»å †è¡ç”Ÿçš„æ•°æ®ç»“æ„ã€‚åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œæ•°æ®ä¿å­˜åœ¨ä¸€ä¸ªå †ä¸­ï¼Œå¯å¿«é€Ÿç¡®å®šä¸‹ä¸€ä¸ªæœ€é«˜ä¼˜å…ˆçº§çš„ç»“ç‚¹ã€‚</p>
<p>â€ƒä¼˜å…ˆé˜Ÿåˆ—å°†æ•°æ®æŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºæ’åˆ—ã€‚ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ç”±è®¸å¤šæœ‰åºå…ƒç´ æ„æˆï¼Œæ‰€ä»¥ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ å¯ä»¥æœ‰æ•ˆè€Œå¿«é€Ÿçš„ç¡®å®šã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> Heap PQueue;
</span></span></code></pre></div><h4 id="237-leetcodeé¢˜ç›®">2.3.7 leetcodeé¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#237-leetcodeé¢˜ç›®">#</a></h4>
<ul>
<li>å…ˆåºéå†æ„é€ äºŒå‰æ ‘</li>
<li>ä»ä¸­åºä¸ååºéå†æ„é€ äºŒå‰æ ‘</li>
<li>äºŒå‰æ ‘çš„å±‚æ¬¡éå†</li>
<li>ä»äºŒå‰æœç´¢æ ‘åˆ°æ›´å¤§å’Œæ ‘</li>
<li>äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</li>
<li>å‰Kä¸ªé«˜é¢‘å•è¯&lt;å †&gt;</li>
</ul>
<h3 id="24-å›¾">2.4 å›¾<a hidden class="anchor" aria-hidden="true" href="#24-å›¾">#</a></h3>
<p>â€‚å›¾(Graph)æ˜¯ç”±é¡¶ç‚¹çš„æœ‰ç©·éç©ºé›†åˆå’Œé¡¶ç‚¹ä¹‹é—´çš„è¾¹çš„é›†åˆç»„æˆ,é€šå¸¸è¡¨ç¤ºä¸º:<code>G(V,E)</code>.å…¶ä¸­,Gè¡¨ç¤ºä¸€ä¸ªå›¾,Væ˜¯å…¥Gä¸­é¡¶ç‚¹çš„é›†åˆ,Eæ˜¯å›¾Gä¸­çš„é›†åˆ.</p>
<p>â€ƒå›¾æ˜¯ä¸€ç§çµæ´»çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥å®šä¹‰å¯¹è±¡ä¹‹é—´å…³è”æˆ–è”ç³»çš„æ¨¡å‹ã€‚å¯¹è±¡ç”±é¡¶ç‚¹è¡¨ç¤ºï¼Œè€Œå¯¹è±¡ç›´æ¥çš„å…³ç³»æˆ–å…³è”åˆ™é€šè¿‡é¡¶ç‚¹ä¹‹é—´çš„è¾¹æ¥è¡¨ç¤ºã€‚
â€ƒå›¾çš„è®¿é—®æ–¹å¼ï¼šå¹¿åº¦ä¼˜å…ˆå’Œæ·±åº¦ä¼˜å…ˆã€‚</p>
<h4 id="241-åŸºç¡€çŸ¥è¯†">2.4.1 åŸºç¡€çŸ¥è¯†<a hidden class="anchor" aria-hidden="true" href="#241-åŸºç¡€çŸ¥è¯†">#</a></h4>
<p>â€ƒå›¾ç”±ä¸¤ç§ç±»å‹çš„å…ƒç´ ç»„æˆï¼šé¡¶ç‚¹å’Œè¾¹ï¼Œé¡¶ç‚¹ä»£è¡¨å¯¹è±¡ï¼Œè¾¹åˆ™å»ºç«‹èµ·å¯¹è±¡ä¹‹é—´çš„å…³ç³»æˆ–å…³è”ã€‚å›¾çš„è¾¹å¯å…³è”å€¼æˆ–æƒé‡ä¿¡æ¯ã€‚</p>
<ul>
<li>ä¸€ç»„é¡¶ç‚¹ï¼šç”¨V(vertex)è¡¨ç¤ºé¡¶ç‚¹é›†åˆ</li>
<li>ä¸€ç»„è¾¹ï¼šç”¨E(edge)è¡¨ç¤ºè¾¹çš„é›†åˆ
â€ƒå›¾åˆ†ä¸ºæœ‰å‘å›¾å’Œæ— å‘å›¾ã€‚æœ‰å‘å›¾ï¼Œè¾¹æ˜¯ç”±ä¸¤ä¸ªé¡¶ç‚¹ç»„æˆçš„æœ‰åºå¯¹ï¼Œå…·æœ‰ç‰¹å®šçš„æ–¹å‘ã€‚è¾¹ä¹Ÿå¯ç§°ä¸ºå¼§ã€‚æ— å‘å›¾ä¸­ï¼Œè¾¹æ˜¯æ²¡æœ‰æ–¹å‘çš„ã€‚</li>
<li>(v, w)è¡¨ç¤ºæ— å‘è¾¹ï¼Œå³vå’Œwæ˜¯äº’é€šçš„</li>
<li>&lt; v, w &gt;è¡¨ç¤ºæœ‰å‘è¾¹ï¼Œè¯¥è¾¹å§‹äºvï¼Œç»ˆäºw
â€‚å›¾å¯åˆ†ä¸ºè¿é€šå›¾å’Œéè¿é€šå›¾</li>
<li>è¿é€šå›¾ï¼šæ‰€æœ‰çš„ç‚¹éƒ½å³è·¯å¾„ç›¸è¿</li>
<li>éè¿é€šå›¾ï¼šå­˜åœ¨æŸä¸¤ä¸ªç‚¹æ²¡æœ‰è·¯å¾„ç›¸è¿</li>
<li>å¼ºè¿é€šå›¾ï¼š</li>
</ul>
<p>â€ƒå›¾ä¸­çš„é¡¶ç‚¹åº¦</p>
<ul>
<li>åº¦</li>
<li>å…¥åº¦</li>
<li>å‡ºåº¦</li>
</ul>
<h4 id="242-å›¾è¡¨ç¤º">2.4.2 å›¾è¡¨ç¤º<a hidden class="anchor" aria-hidden="true" href="#242-å›¾è¡¨ç¤º">#</a></h4>
<p>â€ƒå›¾çš„è¡¨ç¤ºæ–¹æ³•æ˜¯G=(V, E)ï¼ŒVä»£è¡¨é¡¶ç‚¹çš„é›†åˆï¼Œè€ŒEå’ŒVä¹‹é—´æ˜¯äºŒå…ƒå…³ç³»ã€‚
â€ƒå›¾ä¸­ç”±ä¸¤ä¸ªé‡è¦å…³ç³»é‚»æ¥(adjacency)å’Œå…³è”(incidence)ã€‚é‚»æ¥æ˜¯ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚å…³è”æ˜¯é¡¶ç‚¹å’Œè¾¹ä¹‹é—´çš„å…³ç³»ã€‚
é‚»æ¥çŸ©é˜µè¡¨ç¤º</p>
<p>é‚»æ¥é“¾è¡¨è¡¨ç¤º</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> AdjList_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>vertex;
</span></span><span style="display:flex;"><span>    Set adjacent;
</span></span><span style="display:flex;"><span>}AdjList;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> Graph_ {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> vcount;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> ecount;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>match)(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2);
</span></span><span style="display:flex;"><span>    List adjlists;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><details>
<summary>graph</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> vertex;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> vertex_adjs {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> vertex <span style="color:#f92672">*</span>v;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> vertex_adjs <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> vertex {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> vertex_adjs <span style="color:#f92672">*</span>adj;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX_GRAPH_VERTEX (1 &lt;&lt; 8)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> graph {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> vertex <span style="color:#f92672">*</span>vxs[MAX_GRAPH_VERTEX];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">init_graph</span>(<span style="color:#66d9ef">struct</span> graph <span style="color:#f92672">*</span>graph)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> MAX_GRAPH_VERTEX; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        graph<span style="color:#f92672">-&gt;</span>vxs[i] <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> vertex <span style="color:#f92672">*</span><span style="color:#a6e22e">create_vertex</span>(<span style="color:#66d9ef">int</span> data)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> vertex <span style="color:#f92672">*</span>v;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    v <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> vertex));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (v) {
</span></span><span style="display:flex;"><span>        v<span style="color:#f92672">-&gt;</span>data <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>        v<span style="color:#f92672">-&gt;</span>adj <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> v;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> vertex_adjs <span style="color:#f92672">*</span><span style="color:#a6e22e">create_vertex_adj</span>(<span style="color:#66d9ef">struct</span> vertex <span style="color:#f92672">*</span>v)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> vertex_adjs <span style="color:#f92672">*</span>v_adj;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    v_adj <span style="color:#f92672">=</span> <span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">struct</span> vertex_adjs));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>v_adj)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    v_adj<span style="color:#f92672">-&gt;</span>v <span style="color:#f92672">=</span> v;
</span></span><span style="display:flex;"><span>    v_adj<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> v_adj;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert_adj</span>(<span style="color:#66d9ef">struct</span> vertex <span style="color:#f92672">*</span>v, <span style="color:#66d9ef">struct</span> vertex <span style="color:#f92672">*</span>adj)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> vertex_adjs <span style="color:#f92672">**</span>v_adj;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    v_adj <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>v<span style="color:#f92672">-&gt;</span>adj;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">*</span>v_adj)
</span></span><span style="display:flex;"><span>    v_adj <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>v_adj)<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>v_adj <span style="color:#f92672">=</span> <span style="color:#a6e22e">create_vertex_adj</span>(adj);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump_raw</span>(<span style="color:#66d9ef">struct</span> graph <span style="color:#f92672">*</span>graph)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> MAX_GRAPH_VERTEX; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> vertex <span style="color:#f92672">*</span>v <span style="color:#f92672">=</span> graph<span style="color:#f92672">-&gt;</span>vxs[i];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> vertex_adjs <span style="color:#f92672">*</span>adj;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (v <span style="color:#f92672">==</span> NULL)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Vertex[%02d]: %8d -&gt;&#34;</span>, i, v<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        adj <span style="color:#f92672">=</span> v<span style="color:#f92672">-&gt;</span>adj;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (adj) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34; %8d,&#34;</span>, adj<span style="color:#f92672">-&gt;</span>v<span style="color:#f92672">-&gt;</span>data);
</span></span><span style="display:flex;"><span>            adj <span style="color:#f92672">=</span> adj<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  1 ----- 2 ----- 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  |     / |     /
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  |    /  |    / 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  |   /   |   /  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  |  /    |  /   
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  | /     | /    
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  4 ----- 5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fake_a_graph</span>(<span style="color:#66d9ef">struct</span> graph <span style="color:#f92672">*</span>graph)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">init_graph</span>(graph);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    graph<span style="color:#f92672">-&gt;</span>vxs[i] <span style="color:#f92672">=</span> <span style="color:#a6e22e">create_vertex</span>(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* connect 1 -&gt; 2, 1 -&gt; 4 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">0</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">0</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">3</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* connect 2 -&gt; 1, 2 -&gt; 3, 2 -&gt; 5, 2 -&gt; 4 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">1</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">0</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">1</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">2</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">1</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">4</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">1</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">3</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* connect 3 -&gt; 2, 3 -&gt; 5 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">2</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">2</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">4</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* connect 4 -&gt; 1, 4 -&gt; 2, 4 -&gt; 5 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">3</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">0</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">3</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">3</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">4</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* connect 5 -&gt; 4, 5 -&gt; 2, 5 -&gt; 3 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">4</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">3</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">4</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insert_adj</span>(graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">4</span>], graph<span style="color:#f92672">-&gt;</span>vxs[<span style="color:#ae81ff">3</span>]);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> graph g;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fake_a_graph</span>(<span style="color:#f92672">&amp;</span>g);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump_raw</span>(<span style="color:#f92672">&amp;</span>g);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="243-å›¾éå†">2.4.3 å›¾éå†<a hidden class="anchor" aria-hidden="true" href="#243-å›¾éå†">#</a></h4>
<p>â€‚å›¾çš„æœç´¢æ–¹æ³•ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚
â€ƒæ·±åº¦ä¼˜å…ˆéå†(DFS)
â€ƒæ€è·¯: ä»å›¾ä¸­æŸç‚¹vå‡ºå‘:
â€ƒâ€ƒâ€ƒ1.è®¿é—®é¡¶ç‚¹v
â€ƒâ€ƒâ€ƒ2.ä»vçš„æœªè¢«è®¿é—®çš„é‚»æ¥ç‚¹ä¸­é€‰å–ä¸€ä¸ªé¡¶ç‚¹w,ä»wå‡ºå‘è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†.
â€ƒâ€ƒâ€ƒ3.é‡å¤ä¸Šè¿°ä¸¤æ­¥,ç›´åˆ°å›¾ä¸­æ‰€æœ‰å’Œvæœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹éƒ½è¢«è®¿é—®.
â€ƒä¼ªä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">DFS</span>(Vertex v) {
</span></span><span style="display:flex;"><span>    vistied[v] <span style="color:#f92672">=</span> true;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (v <span style="color:#960050;background-color:#1e0010">çš„æ¯ä¸ªé‚»æ¥ç‚¹</span> w) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>visited[w]) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">DFS</span>(w);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><details>
<summary>dfs</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Graph.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX_NODES 1000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> visited[MAX_NODES];  <span style="color:#75715e">// array to store visiting order
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                         <span style="color:#75715e">// indexed by vertex 0..nV-1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">dfsPathCheck</span>(Graph g, <span style="color:#66d9ef">int</span> nV, Vertex v, Vertex dest)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Vertex w;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (w <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; w <span style="color:#f92672">&lt;</span> nV; w<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">adjacent</span>(g, v, w) <span style="color:#f92672">&amp;&amp;</span> visited[w] <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            visited[w] <span style="color:#f92672">=</span> v;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (w <span style="color:#f92672">==</span> dest)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">dfsPathCheck</span>(g, nV, w, dest))
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">findPathDFS</span>(Graph g, <span style="color:#66d9ef">int</span> nV, Vertex src, Vertex dest)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Vertex v;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; v <span style="color:#f92672">&lt;</span> nV; v<span style="color:#f92672">++</span>) visited[v] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    visited[src] <span style="color:#f92672">=</span> src;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">dfsPathCheck</span>(g, nV, src, dest);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> V <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>;
</span></span><span style="display:flex;"><span>    Graph g <span style="color:#f92672">=</span> <span style="color:#a6e22e">newGraph</span>(V);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Edge e;
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> src <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, dest <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">findPathDFS</span>(g, V, src, dest)) {
</span></span><span style="display:flex;"><span>        Vertex v <span style="color:#f92672">=</span> dest;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (v <span style="color:#f92672">!=</span> src) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d - &#34;</span>, v);
</span></span><span style="display:flex;"><span>            v <span style="color:#f92672">=</span> visited[v];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, src);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<p>â€‚å¹¿åº¦ä¼˜å…ˆéå†(BFS)
â€ƒæ€è·¯:
â€ƒâ€ƒâ€ƒ1.é¡¶ç‚¹vå…¥é˜Ÿåˆ—
â€ƒâ€ƒâ€ƒ2.å½“é˜Ÿåˆ—éç©ºæ—¶åˆ™ç»§ç»­æ‰§è¡Œ,å¦åˆ™ç®—æ³•ç»“æŸ.
â€ƒâ€ƒâ€ƒ3.å‡ºé˜Ÿåˆ—å–å¾—é˜Ÿå¤´é¡¶ç‚¹v&rsquo;,è®¿é—®é¡¶ç‚¹v å¹¶æ ‡è®°é¡¶ç‚¹vå·²è¢«è®¿é—®.
â€ƒâ€ƒâ€ƒ4.æŸ¥æ‰¾é¡¶ç‚¹vçš„ç¬¬ä¸€ä¸ªé‚»æ¥é¡¶ç‚¹col
â€ƒâ€ƒâ€ƒ5.è‹¥vçš„é‚»æ¥é¡¶ç‚¹colæœªè¢«è®¿é—®è¿‡çš„,åˆ™colç»§ç»­.
â€ƒâ€ƒâ€ƒ6.æŸ¥æ‰¾é¡¶ç‚¹vçš„å¦ä¸€ä¸ªæ–°çš„é‚»æ¥é¡¶ç‚¹col,è½¬åˆ°æ­¥éª¤5å…¥é˜Ÿåˆ—,ç›´åˆ°é¡¶ç‚¹vçš„æ‰€æœ‰æœªè¢«è®¿é—®è¿‡çš„é‚»æ¥ç‚¹å¤„ç†å®Œ,è½¬åˆ°æ­¥éª¤2.</p>
<details>
<summary>bfs_queue</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Graph.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;queue.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX_NODES 1000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> visited[MAX_NODES];  <span style="color:#75715e">// array to store visiting order
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                         <span style="color:#75715e">// indexed by vertex 0..nV-1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">findPathBFS</span>(Graph g, <span style="color:#66d9ef">int</span> nV, Vertex src, Vertex dest)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Vertex v;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; v <span style="color:#f92672">&lt;</span> nV; v<span style="color:#f92672">++</span>) visited[v] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    visited[src] <span style="color:#f92672">=</span> src;
</span></span><span style="display:flex;"><span>    queue Q <span style="color:#f92672">=</span> <span style="color:#a6e22e">newQueue</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">QueueEnqueue</span>(Q, src);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">QueueIsEmpty</span>(Q)) {
</span></span><span style="display:flex;"><span>        v <span style="color:#f92672">=</span> <span style="color:#a6e22e">QueueDequeue</span>(Q);
</span></span><span style="display:flex;"><span>        Vertex w;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (w <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; w <span style="color:#f92672">&lt;</span> nV; w<span style="color:#f92672">++</span>) (
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">adjacent</span>(g, v, w) <span style="color:#f92672">&amp;&amp;</span> visited[w] <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>                visited[w] <span style="color:#f92672">=</span> v;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (w <span style="color:#f92672">==</span> dest)
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">QueueEnqueue</span>(Q, w);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> V <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    Graph g <span style="color:#f92672">=</span> <span style="color:#a6e22e">newGraph</span>(V);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Edge e;
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>    e.v <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>;
</span></span><span style="display:flex;"><span>    e.w <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">insertEdge</span>(g, e);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> src <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, dest <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">findPathBFS</span>(g, V, src, dest)) {
</span></span><span style="display:flex;"><span>        Vertex v <span style="color:#f92672">=</span> dest;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (v <span style="color:#f92672">!=</span> src) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d - &#34;</span>, v);
</span></span><span style="display:flex;"><span>            v <span style="color:#f92672">=</span> visited[v];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, src);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<p>â€‚æ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢,æ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(n^2)</p>
<p>æ·±åº¦ä¼˜å…ˆ:ä»åˆå§‹ç‚¹å‡ºå‘,ä¸æ–­å‘å‰èµ°,å¦‚æœç¢°åˆ°æ­»è·¯,å°±å¾€å›èµ°ä¸€æ­¥,å°è¯•å¦ä¸€æ¡è·¯,ç›´åˆ°å‘ç°ç›®æ ‡ä½ç½®.
å¹¿åº¦ä¼˜å…ˆ:ä»åˆå§‹ç‚¹å‡ºå‘,æŠŠæ‰€æœ‰å¯èƒ½çš„è·¯å¾„éƒ½èµ°ä¸€é,å¦‚æœé‡Œé¢æ²¡æœ‰ç›®æ ‡ä½ç½®,åˆ™å°è¯•æŠŠæ‰€æœ‰ä¸¤æ­¥èƒ½å¤Ÿåˆ°çš„ä½ç½®éƒ½èµ°ä¸€é,çœ‹æœ‰æ²¡æœ‰ç›®æ ‡ä½ç½®.</p>
<h4 id="244-æœ€çŸ­è·¯å¾„">2.4.4 æœ€çŸ­è·¯å¾„<a hidden class="anchor" aria-hidden="true" href="#244-æœ€çŸ­è·¯å¾„">#</a></h4>
<p><strong>è¿ªæ°æ–¯ç‰¹æ‹‰Dijkstraç®—æ³•</strong>
â€‚Dijkstraç®—æ³•é€‚ç”¨äºæƒå€¼ä¸ºæ­£çš„å›¾.
â€‚Dijkstraç®—æ³•å±äºå•æºç®—æ³•,å³åªèƒ½æ±‚å‡ºæŸç‚¹åˆ°å…¶å®ƒç‚¹æœ€çŸ­è·ç¦»,å¹¶ä¸èƒ½å¾—å‡ºä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·ç¦».
â€‚åœ¨æºç‚¹å¯è¾¾çš„æƒ…å†µä¸‹,Dijkstraç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ—¶ <code>O(ElogV)</code>
â€‚ç®—æ³•æ­¥éª¤:
â€ƒâ€ƒ1.å°†æ‰€æœ‰è¾¹åˆå§‹åŒ–ä¸ºæ— ç©·å¤§
â€ƒâ€ƒ2.æ—‹è½¬ä¸€ä¸ªå¼€å§‹çš„é¡¶ç‚¹,æ·»åŠ åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­.
â€ƒâ€ƒ3.å¯¹äºè¯¥ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹è¿›è¡Œåˆ¤æ–­,å¦‚æœåˆ°è¯¥ç‚¹çš„è·ç¦»å°äºåŸå…ˆçš„å€¼,åˆ™è¯¥å€¼è¿›è¡Œæ›´æ–°.
â€ƒâ€ƒ4.å°†è¯¥ç‚¹æ‰€æœ‰é‚»æ¥é¡¶ç‚¹æ·»åŠ åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­.
â€ƒâ€ƒ5.ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­æŒ‘é€‰é™¤ä¸€ä¸ªè·¯å¾„å€¼æœ€å°çš„é¡¶ç‚¹,å°†å…¶å¼¹å‡º,ä½œä¸ºæ–°çš„é¡¶ç‚¹,é‡å¤æ­¥éª¤3,4,5
â€ƒâ€ƒ6.ç›´åˆ°æ‰€æœ‰ç‚¹éƒ½è¢«å¤„ç†è¿‡ä¸€æ¬¡.</p>
<detials>
<summary>è¿ªæ°æ–¯ç‰¹æ‹‰</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX 20
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define INF 999
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> mat[MAX][MAX];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> V;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> dist[MAX];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> q[MAX];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> qp <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">enqueue</span>(<span style="color:#66d9ef">int</span> v) { q[qp<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> v; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cf</span>(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>x <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>y <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span>y <span style="color:#f92672">-</span> <span style="color:#f92672">*</span>x;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">dequeue</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">qsort</span>(q, qp, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>), cf);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> q[<span style="color:#f92672">--</span>qp];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">queue_has_something</span>() { <span style="color:#66d9ef">return</span> (qp <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>); }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> visited[MAX];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> vp <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dijkstra</span>(<span style="color:#66d9ef">int</span> s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    dist[s] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (i <span style="color:#f92672">!=</span> s) {
</span></span><span style="display:flex;"><span>            dist[i] <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">enqueue</span>(i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#a6e22e">queue_has_something</span>()) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> u <span style="color:#f92672">=</span> <span style="color:#a6e22e">dequeue</span>();
</span></span><span style="display:flex;"><span>        visited[vp<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> u;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (mat[u][i]) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (dist[i] <span style="color:#f92672">&gt;</span> dist[u] <span style="color:#f92672">+</span> mat[u][i]) {
</span></span><span style="display:flex;"><span>                    dist[i] <span style="color:#f92672">=</span> dist[u] <span style="color:#f92672">+</span> mat[u][i];
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#66d9ef">const</span> <span style="color:#f92672">*</span>argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Enter the number of vertices: &#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34; %d&#34;</span>, <span style="color:#f92672">&amp;</span>V);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Enter the adj matrix: &#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>j) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34; %d&#34;</span>, <span style="color:#f92672">&amp;</span>mat[i][j]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dijkstra</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Node</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">Dist</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, dist[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></detials>
<p><strong>å¼—æ´›ä¼Šå¾·Floydç®—æ³•</strong>
â€‚Floydç®—æ³•æ˜¯ä¸€ä¸ªç»å…¸çš„åŠ¨æ€è§„åˆ’ç®—æ³•.é¦–å…ˆç›®æ ‡æ˜¯å¯»æ‰¾ä»ç‚¹<code>i</code>åˆ°<code>j</code>çš„æœ€çŸ­è·¯å¾„.
â€‚<strong>Floydç®—æ³•å¯ä»¥æ±‚å‡ºä»»æ„ä¸¤ç‚¹çš„æœ€çŸ­è·ç¦».æ—¶é—´å¤æ‚åº¦:</strong><code>O(ä½ ^3)</code>
â€‚ä»ä»»æ„èŠ‚ç‚¹iåˆ°ä»»æ„èŠ‚ç‚¹jçš„æœ€çŸ­è·¯å¾„ä¸å¤–ä¹2ç§å¯èƒ½:
â€ƒâ€ƒ1.æ˜¯ä¹‹é—´ä»iåˆ°j
â€ƒâ€ƒ2æ˜¯ä»iåˆ°ç»è¿‡è‹¥å¹²ä¸ªèŠ‚ç‚¹kåˆ°j
â€ƒè®¾Dist(i,j)ä¸ºèŠ‚ç‚¹uåˆ°èŠ‚ç‚¹vçš„æœ€çŸ­è·¯å¾„çš„è·ç¦»ï¼Œå¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹kï¼Œæ£€æŸ¥Dis(i,k) + Dis(k,j) &lt; Dis(i,j) æ˜¯å¦æˆç«‹ï¼Œå¦‚æœæˆç«‹ï¼Œè¯æ˜ä»iåˆ°kå†åˆ°jçš„è·¯å¾„æ¯”iç›´æ¥åˆ°jçš„è·¯å¾„çŸ­ï¼Œåˆ™è®¾ç½®Dis(i,j) = Dis(i,k) + Dis(k,j)ï¼Œè¿™æ ·éå†å®Œæ‰€æœ‰èŠ‚ç‚¹kï¼ŒDis(i,j)ä¸­è®°å½•çš„ä¾¿æ˜¯iåˆ°jçš„æœ€çŸ­è·¯å¾„çš„è·ç¦»ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; k <span style="color:#f92672">&lt;</span> n; k<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> n; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (A[i][j] <span style="color:#f92672">&gt;</span> (A[i][k] <span style="color:#f92672">+</span> A[k][j])) {
</span></span><span style="display:flex;"><span>                A[i][j] <span style="color:#f92672">=</span> A[i][k] <span style="color:#f92672">+</span> A[k][j];
</span></span><span style="display:flex;"><span>                path[i][j] <span style="color:#f92672">=</span> k;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="245-æ‹“æ‰‘æ’åº">2.4.5 æ‹“æ‰‘æ’åº<a hidden class="anchor" aria-hidden="true" href="#245-æ‹“æ‰‘æ’åº">#</a></h4>
<p>â€‚æ‹“æ‰‘æ’åºæ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾(DAG)çš„æ‰€æœ‰é¡¶ç‚¹çš„çº¿æ€§åºåˆ—.ä¸”è¯¥åºåˆ—å¿…é¡»æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶:</p>
<ul>
<li>æ¯ä¸ªé¡¶ç‚¹å‡ºç°ä¸”åªå‡ºç°ä¸€æ¬¡</li>
<li>è‹¥å­˜åœ¨ä¸€æ¡é¡¶ç‚¹Aåˆ°é¡¶ç‚¹Bçš„è·¯å¾„,é‚£ä¹ˆåœ¨åºåˆ—ä¸­é¡¶ç‚¹Aå‡ºç°åœ¨é¡¶ç‚¹Bçš„å‰é¢.
â€ƒæœ‰å‘æ— ç¯å›¾(DAG)æ‰æœ‰æ‹“æ‰‘æ’åºï¼ŒéDAGå›¾æ²¡æœ‰æ‹“æ‰‘æ’åºã€‚
â€‚æ‹“æ‰‘æ’åºæ­¥éª¤ï¼š</li>
<li>ä»DAGå›¾ä¸­é€‰æ‹©ä¸€ä¸ª æ²¡æœ‰å‰ç¼€(å³å…¥åº¦ä¸º0)çš„é¡¶ç‚¹å¹¶è¾“å‡º</li>
<li>ä»å›¾ä¸­åˆ é™¤è¯¥é¡¶ç‚¹å’Œæ‰€æœ‰ä»¥å®ƒä¸ºèµ·ç‚¹çš„æœ‰å‘è¾¹</li>
<li>é‡å¤1å’Œ2ç›´åˆ°å½“å‰çš„DAGå›¾ä¸ºç©ºæˆ–å½“å‰å›¾ä¸­ä¸å­˜åœ¨æ— å‰ç¼€çš„é¡¶ç‚¹ä¸ºæ­¢ã€‚åä¸€ç§æƒ…å†µè¯´æ˜æœ‰å‘å›¾ä¸­å¿…ç„¶å­˜åœ¨ç¯ã€‚</li>
</ul>
<h4 id="246-leetcodeé¢˜ç›®">2.4.6 leetcodeé¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#246-leetcodeé¢˜ç›®">#</a></h4>
<ul>
<li>åˆ¤æ–­äºŒåˆ†å›¾</li>
<li>å…‹éš†å›¾</li>
<li>æ‰¾åˆ°å°é•‡çš„æ³•å®˜</li>
<li>é’¥åŒ™å’Œæˆ¿é—´</li>
<li>æœ€çŸ­è·¯å¾„è®¿é—®æ‰€æœ‰èŠ‚ç‚¹</li>
</ul>
<br>
<h2 id="3-å¸¸è§ç®—æ³•">3 å¸¸è§ç®—æ³•<a hidden class="anchor" aria-hidden="true" href="#3-å¸¸è§ç®—æ³•">#</a></h2>
<h3 id="31-é€’å½’æ€æƒ³">3.1 é€’å½’æ€æƒ³<a hidden class="anchor" aria-hidden="true" href="#31-é€’å½’æ€æƒ³">#</a></h3>
<h4 id="311-é€’å½’æ€æƒ³">3.1.1 é€’å½’æ€æƒ³<a hidden class="anchor" aria-hidden="true" href="#311-é€’å½’æ€æƒ³">#</a></h4>
<p>â€‚é€’å½’æ€æƒ³æ˜¯:å°†å¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜æ¥æ±‚è§£,ç„¶åå†å°†å°é—®é¢˜åˆ†è§£ä¸ºæ›´å°çš„é—®é¢˜.é€å±‚åˆ†è§£,ç›´åˆ°é—®é¢˜è§„æ¨¡è¢«åˆ†è§£åˆ°å¯ä»¥ç›´æ¥è®¡ç®—ç»“æœ.
â€‚å¦‚æœæŠŠä¸€å±‚ä¸€å±‚åˆ†è§£è¿‡ç¨‹ç”»æˆå›¾,å®ƒå…¶å®å°±æ˜¯ä¸€æ£µæ ‘,ç§°ä¸ºé€’å½’æ ‘.</p>
<!--more-->
<p>â€‚æ–æ³¢é‚£å¥‘æ•°åˆ—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">fib</span>(<span style="color:#66d9ef">int</span> N)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (N <span style="color:#f92672">&lt;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> N;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fib</span>(N<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">fib</span>(N<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>â€‚é€’å½’çš„è¿‡ç¨‹ä¸­,ç¬¦åˆ<strong>åè¿›å…ˆå‡º</strong>è§„åˆ™,æ‰€ä»¥ç”¨ä¸€ä¸ªå †æ ˆçš„æ•°æ®ç»“æ„.å‡½æ•°é€’å½’è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨äº§ç”Ÿæ ˆå¸§,å½“å‡½æ•°æ ˆå¸§çš„æ·±åº¦è¶Šæ¥è¶Šå¤§,æ ˆä¹Ÿä¹Ÿè¶Šæ¥è¶Šå¤§,å¦‚æœé€’å½’æ²¡æœ‰ç»ˆæ­¢æ¡ä»¶,åˆ™ä¼šçˆ†æ ˆ.é€’å½’ç®—æ³•ç¬¬ä¸€æ­¥è¦æ€è€ƒçš„å°±æ˜¯<strong>é€’å½’ç»ˆæ­¢æ¡ä»¶</strong>.
â€‚é€’å½’æ€æƒ³çš„ä¸¤ä¸ªå»¶ç”³ç®—æ³•:åˆ†æ²»ç®—æ³•å’ŒåŠ¨æ€è§„åˆ’.
â€‚é€’å½’çš„ä¸€èˆ¬ç»“æ„:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#960050;background-color:#1e0010">ç¬¦åˆè¾¹ç•Œæ¡ä»¶</span>) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> ..;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// æŸç§å½¢å¼çš„è°ƒç”¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">func</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>â€‚é˜¶ä¹˜å‡½æ•°:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">factorial</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> n <span style="color:#f92672">*</span> <span style="color:#a6e22e">factorial</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>å‚è€ƒé“¾æ¥:https://www.jianshu.com/p/b2d2edb4ba5b</li>
</ul>
<h4 id="312-é€’å½’åŸºæœ¬æ­¥éª¤">3.1.2 é€’å½’åŸºæœ¬æ­¥éª¤:<a hidden class="anchor" aria-hidden="true" href="#312-é€’å½’åŸºæœ¬æ­¥éª¤">#</a></h4>
<p>â€‚â€ƒ1.å®šä¹‰ä¸€ä¸ªå‡½æ•°,æ˜ç¡®å‡½æ•°åŠŸèƒ½
â€‚â€ƒ2.å¯»æ‰¾é—®é¢˜ä¸å­é—®é¢˜ä¹‹é—´çš„å…³ç³»(é€’æ¨å…¬å¼)
â€‚â€ƒ3.å°†é€’æ¨å…¬å¼åœ¨å®šä¹‰çš„å‡½æ•°ä¸­å®ç°
â€‚â€ƒ4.æ¨å¯¼æ—¶é—´å¤æ‚åº¦,åˆ¤å®šæ˜¯å¦å¯ä»¥æ¥å—,æ— æ³•æ¥å—æ›´æ¢ç®—æ³•.</p>
<h4 id="313-ä»£è¡¨é¢˜ç›®">3.1.3 ä»£è¡¨é¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#313-ä»£è¡¨é¢˜ç›®">#</a></h4>
<ul>
<li>çˆ¬æ¥¼æ¢¯ 70</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">climbStairs</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>mem <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>) <span style="color:#f92672">*</span> (n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> mem[n] <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">climb</span>(n, mem);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">climb</span>(<span style="color:#66d9ef">int</span> n, <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>mem)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (mem[n] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> mem[n];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    mem[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">climb</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, mem) <span style="color:#f92672">+</span> <span style="color:#a6e22e">climb</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, mem);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> mem[n];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>é’è›™è·³å°é˜¶ 10-II</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">numWays</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num[n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> {<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">jump</span>(n, num);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">jump</span>(<span style="color:#66d9ef">int</span> n, <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>num)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (num[n] <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> num[n];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> n <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    num[n] <span style="color:#f92672">=</span> (<span style="color:#a6e22e">jump</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, num) <span style="color:#f92672">+</span> <span style="color:#a6e22e">jump</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, num) <span style="color:#f92672">%</span> <span style="color:#ae81ff">1e9</span><span style="color:#f92672">+</span><span style="color:#ae81ff">7</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> num[n];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="314-è§¦ç±»æ—é€š">3.1.4 è§¦ç±»æ—é€š<a hidden class="anchor" aria-hidden="true" href="#314-è§¦ç±»æ—é€š">#</a></h4>
<ul>
<li>åè½¬äºŒå‰æ ‘ 226
â€ƒ1).å¯¹äºæ ¹èŠ‚ç‚¹<code>1</code>æ¥è¯´,å‡è®¾<code>2,3</code>èŠ‚ç‚¹ä¸‹çš„èŠ‚ç‚¹éƒ½å·²ç»ç¿»è½¬,é‚£ä¹ˆåªè¦ç¿»è½¬<code>2,2</code>èŠ‚ç‚¹å³æ»¡è¶³éœ€æ±‚.
â€ƒ2).å¯¹äº<code>2,3</code>èŠ‚ç‚¹æ¥è¯´,ä¹Ÿæ˜¯ç¿»è½¬å…¶å·¦å³èŠ‚ç‚¹å³å¯.
â€ƒä¾æ­¤ç±»æ¨,å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹,ä¾æ¬¡ç¿»è½¬å…¶å·¦å³èŠ‚ç‚¹,æ‰€ä»¥æˆ‘ä»¬å¯çŸ¥é—®é¢˜ä¸å­é—®é¢˜çš„å…³ç³»æ˜¯ç¿»è½¬(æ ¹èŠ‚ç‚¹) = ç¿»è½¬(æ ¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹) + ç¿»è½¬(æ ¹èŠ‚ç‚¹çš„å³èŠ‚ç‚¹),å³</li>
</ul>
<blockquote>
<p>invert(root) = invert(root-&gt;left) + invert(root-&gt;right)
â€ƒåŠ å·æ˜¯è¿½åŠ åˆ°rootä¸Šçš„æ„æ€</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> TreeNode {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>    TreeNode <span style="color:#f92672">*</span>left;
</span></span><span style="display:flex;"><span>    TreeNode <span style="color:#f92672">*</span>right;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>TreeNode <span style="color:#a6e22e">invertTree</span>(TreeNode <span style="color:#f92672">*</span>root)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    TreeNode <span style="color:#f92672">*</span>left <span style="color:#f92672">=</span> (<span style="color:#66d9ef">struct</span> TreeNode <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(TreeNode));
</span></span><span style="display:flex;"><span>    TreeNode <span style="color:#f92672">*</span>right <span style="color:#f92672">=</span> (<span style="color:#66d9ef">struct</span> TreeNode <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(TreeNode));
</span></span><span style="display:flex;"><span>    left <span style="color:#f92672">=</span> <span style="color:#a6e22e">invertTree</span>(root.left);
</span></span><span style="display:flex;"><span>    rgith <span style="color:#f92672">=</span> <span style="color:#a6e22e">invertTree</span>(root.right);
</span></span><span style="display:flex;"><span>    root.left <span style="color:#f92672">=</span> right;
</span></span><span style="display:flex;"><span>    root.right <span style="color:#f92672">=</span> left;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> root;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>è·¯å¾„æ€»å’Œ 112
â€ƒç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œ,åˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„,è¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œ.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> TreeNode {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> TreeNode <span style="color:#f92672">*</span>left;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> TreeNode <span style="color:#f92672">*</span>right;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">hasPathSum</span>(TreeNode <span style="color:#f92672">*</span>root, <span style="color:#66d9ef">int</span> sum)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (root.left <span style="color:#f92672">==</span> NULL <span style="color:#f92672">&amp;&amp;</span> root.right <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> root.data <span style="color:#f92672">==</span> sum;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> remain <span style="color:#f92672">=</span> sum <span style="color:#f92672">-</span> root.data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">hasPathSum</span>(root.left, remain) <span style="color:#f92672">||</span> <span style="color:#a6e22e">hashPashSum</span>(root.right, remain);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>ç»†èƒåˆ†è£‚</li>
</ul>
<p><a href="https://www.jianshu.com/p/b2d2edb4ba5b">https://www.jianshu.com/p/b2d2edb4ba5b</a></p>
<h3 id="32-åˆ†æ²»æ³•">3.2 åˆ†æ²»æ³•<a hidden class="anchor" aria-hidden="true" href="#32-åˆ†æ²»æ³•">#</a></h3>
<p>â€ƒæŠŠå¤æ‚é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–è€…æ›´å¤šç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œå†æŠŠå­é—®é¢˜åˆ†æˆæ›´å°çš„å­é—®é¢˜&hellip;ï¼Œç›´åˆ°å¯ä»¥ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£ä¸ºå­é—®é¢˜è§£çš„åˆå¹¶ã€‚
â€ƒåˆ†æ²»æ³•åº”ç”¨ï¼šæ’åºç®—æ³•(å¿«é€Ÿæ’åºã€å½’å¹¶æ’åº);å‚…é‡Œå¶å˜æ¢()ã€‚</p>
<h4 id="321-æ¦‚è¿°">3.2.1 æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#321-æ¦‚è¿°">#</a></h4>
<p>â€‚åˆ†æ²»æ³•æ€æƒ³:å°†ä¸€ä¸ªéš¾ä»¥ç›´æ¥è§£å†³çš„å¤§é—®é¢˜,åˆ†å‰²æˆä¸€äº›è§„æ¨¡å°çš„ç›¸åŒé—®é¢˜,åˆ†è€Œæ²»ä¹‹.</p>
<p>â€ƒåˆ†æ²»æ³•:æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜,å†æŠŠå­é—®é¢˜åˆ†æˆæ›´å°çš„å­é—®é¢˜&hellip;,ç›´åˆ°æœ€åå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£,åŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„<strong>åˆå¹¶</strong>.åˆ†æ²»æ³•æ€æƒ³:æ’åº(å¿«é€Ÿæ’åº,å½’å¹¶æ’åº),å‚…é‡Œå¶å˜æ¢(å¿«é€Ÿå‚…é‡Œå¶å˜æ¢
â€ƒ1):æ•°å­¦å½’çº³æ˜¯ä½¿ç”¨åˆ†æ²»æ€æƒ³.
â€ƒ2):åˆ†æ²»æ€æƒ³ä¸ä¸€å®šä½¿ç”¨é€’å½’ç»“æ„.
â€‚é€’å½’ç»“æ„æ˜¯å¾ªç¯ç»“æ„çš„ä¸€ç§,ä¹Ÿæ˜¯åˆ†æ²»æ€æƒ³åº”ç”¨æœ€å¤šçš„ä¸€ç§ç¨‹åºç»“æ„,ä½†ä¸ä¸€å®šä½¿ç”¨å®ƒ.åˆ†æ²»æ³•çš„æ ¸å¿ƒæ˜¯<strong>å¦‚ä½•åˆ†</strong></p>
<h4 id="322-ç­–ç•¥">3.2.2 ç­–ç•¥<a hidden class="anchor" aria-hidden="true" href="#322-ç­–ç•¥">#</a></h4>
<p>â€‚åˆ†æ²»ç­–ç•¥:å¯¹äºä¸€ä¸ªè§„æ¨¡ä¸ºnçš„é—®é¢˜,è‹¥è¯¥é—®é¢˜å¯ä»¥å®¹æ˜“è§£å†³åˆ™ç›´æ¥è§£å†³,å¦åˆ™å°†å…¶åˆ†è§£ä¸ºkä¸ªè§„æ¨¡è¾ƒå°çš„å­é—®é¢˜,å­é—®é¢˜ä¹‹é—´ç›¸äº’ç‹¬ç«‹ä¸”ä¸åŸé—®é¢˜å½¢å¼ç›¸åŒ,å¯é€’å½’æ±‚è§£.åˆ†æ²»é€šå¸¸ç”¨é€’å½’å®ç°.</p>
<h4 id="323-åº”ç”¨åœºæ™¯">3.2.3 åº”ç”¨åœºæ™¯<a hidden class="anchor" aria-hidden="true" href="#323-åº”ç”¨åœºæ™¯">#</a></h4>
<p>â€‚åˆ†æ²»æ³•ç‰¹å¾:</p>
<ul>
<li>é—®é¢˜ç¼©å°åˆ°ä¸€å®šç¨‹åº¦å¯å®¹æ˜“è§£å†³.</li>
<li>é—®é¢˜å¯åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„ç›¸åŒé—®é¢˜,å³é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨.</li>
<li>å­é—®é¢˜çš„è§£å¯åˆå¹¶ä¸ºè¯¥é—®é¢˜çš„è§£.</li>
<li>é—®é¢˜åˆ†è§£çš„å­é—®é¢˜ç›¸äº’ç‹¬ç«‹,å­é—®é¢˜ä¹‹é—´ä¸åŒ…å«å…¬å‘Šå­é—®é¢˜.</li>
</ul>
<h4 id="324-æ­¥éª¤">3.2.4 æ­¥éª¤<a hidden class="anchor" aria-hidden="true" href="#324-æ­¥éª¤">#</a></h4>
<p>â€‚åˆ†æ²»æ³•ä¸€å±‚é€’å½’æ­¥éª¤:</p>
<ul>
<li>
<ol>
<li><strong>åˆ†è§£</strong>:å°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²è§„æ¨¡è¾ƒå°,ç›¸äº’ç‹¬ç«‹,ä¸åŸé—®é¢˜å½¢å¼ç›¸åŒçš„å­é—®é¢˜.</li>
</ol>
</li>
<li>
<ol start="2">
<li><strong>è§£å†³</strong>:è‹¥å­é—®é¢˜å¯ç›´æ¥æ±‚è§£,åˆ™ç›´æ¥æ±‚è§£,å¦åˆ™é€’å½’è§£å„ä¸ªå­é—®é¢˜.</li>
</ol>
</li>
<li>
<ol start="3">
<li><strong>åˆå¹¶</strong>:å°†å„ä¸ªå­é—®é¢˜çš„è§£åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£.</li>
</ol>
</li>
</ul>
<p>â€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"></code></pre></div><br>
<h4 id="325-åº”ç”¨">3.2.5 åº”ç”¨<a hidden class="anchor" aria-hidden="true" href="#325-åº”ç”¨">#</a></h4>
<blockquote>
<p>åˆ†æ²»æ€ç»´æ–¹å¼ï¼šäºŒåˆ†æœç´¢;å¤§æ•´æ•°ä¹˜æ³•;åˆå¹¶æ’åº;å¿«é€Ÿæ’åºã€‚</p>
</blockquote>
<p>â€‚æ±‚xçš„næ¬¡å¹‚
â€ƒå¯¹æ•°å¤æ‚åº¦O(logn)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">power</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> result;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        result <span style="color:#f92672">=</span> <span style="color:#a6e22e">power</span>(x, n<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">power</span>(x, n <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        result <span style="color:#f92672">=</span> <span style="color:#a6e22e">power</span>(x, (n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">power</span>(x, (n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="326-leetcodeé¢˜ç›®">3.2.6 leetcodeé¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#326-leetcodeé¢˜ç›®">#</a></h4>
<ul>
<li>æœç´¢äºŒç»´çŸ©é˜µII</li>
<li>æ±‚ä¼—æ•°</li>
<li>åˆå¹¶kä¸ªæ’åºé“¾è¡¨</li>
</ul>
<h3 id="33-æ’åºç®—æ³•">3.3 æ’åºç®—æ³•<a hidden class="anchor" aria-hidden="true" href="#33-æ’åºç®—æ³•">#</a></h3>
<p>â€ƒå„ç§æ’åºç®—æ³•ï¼Œä¸»è¦åŒ…æ‹¬ï¼šæ’å…¥æ’åºã€å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€è®¡æ•°æ’åºå’ŒæŠ€æœ¯æ’åºã€‚äºŒåˆ†æŸ¥æ‰¾ï¼Œ</p>
<h4 id="331-å†’æ³¡æ’åº">3.3.1 å†’æ³¡æ’åº<a hidden class="anchor" aria-hidden="true" href="#331-å†’æ³¡æ’åº">#</a></h4>
<p>â€‚é‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„å…ƒç´ åˆ—ï¼Œä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºï¼ˆå¦‚ä»å¤§åˆ°å°ã€é¦–å­—æ¯ä»Aåˆ°Zï¼‰é”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚
â€‚<strong>å†’æ³¡æ’åºç®—æ³•å¤æ‚åº¦æ˜¯O(n^2)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bubleSort</span>(<span style="color:#66d9ef">int</span>[] arr)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> arr.length;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> out <span style="color:#f92672">=</span> size <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; out <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>; out<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> in <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; in <span style="color:#f92672">&lt;</span> out; in<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (arr[in] <span style="color:#f92672">&gt;</span> arr[in <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">swap</span>(arr, in, in <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define SWAP(a,b) \
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">do{\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    (a) ^= (b);\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    (b) ^= (a);\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    (a) ^= (b);\
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">}while(0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*å†’æ³¡æ’åº*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bubble_sort</span>(<span style="color:#66d9ef">int</span> a[],<span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> swap_flg <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (size <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> size <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {<span style="color:#75715e">/*æ’åºçš„è¶Ÿæ•°*/</span> 
</span></span><span style="display:flex;"><span>        swap_flg <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;<span style="color:#75715e">/*æ¯æ¬¡è®¾ç½®äº¤æ¢æ ‡è¯†ä¸º0*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> i; j<span style="color:#f92672">++</span>) {          <span style="color:#75715e">/*æœ¬è¶Ÿæ’åºçš„éå†å…ƒç´ ä¸ªæ•°*/</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (a[j] <span style="color:#f92672">&gt;</span> a[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">SWAP</span>(a[j],a[j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>                swap_flg <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*æœ¬è¶Ÿæ•°ï¼Œæ— æ•°æ®äº¤æ¢çš„è¯ï¼Œè¯´æ˜å·²ç»æœ‰åºï¼Œç›´æ¥é€€å‡º*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (swap_flg <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><br>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//æ•´æ•°æˆ–æµ®ç‚¹æ•°çš†å¯ä½¿ç”¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> bubble_sort(T arr[], <span style="color:#66d9ef">int</span> len)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, j; T temp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> len <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> len <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> i; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (arr[j] <span style="color:#f92672">&gt;</span> arr[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]) {
</span></span><span style="display:flex;"><span>                temp <span style="color:#f92672">=</span> arr[j];
</span></span><span style="display:flex;"><span>                arr[j] <span style="color:#f92672">=</span> arr[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>                arr[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> temp;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="332-é€‰æ‹©æ’åº">3.3.2 é€‰æ‹©æ’åº<a hidden class="anchor" aria-hidden="true" href="#332-é€‰æ‹©æ’åº">#</a></h4>
<p>â€ƒé€‰æ‹©æ’åºç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">selectSort</span>(<span style="color:#66d9ef">int</span>[] arr)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> arr.lenght;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> out <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; out <span style="color:#f92672">&lt;</span> size; out<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> mixIndex <span style="color:#f92672">=</span> out;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> in <span style="color:#f92672">=</span> out <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; in <span style="color:#f92672">&lt;</span> size; in<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (arr[mixIndex] <span style="color:#f92672">&gt;</span> arr[in]) {
</span></span><span style="display:flex;"><span>                mixIndex <span style="color:#f92672">=</span> in;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (mixIndex <span style="color:#f92672">!=</span> out) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">swap</span>(arr, mixIndex, out);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*é€‰æ‹©æ’åº*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">select_sort</span>(<span style="color:#66d9ef">int</span> a[],<span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> min <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> size <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i<span style="color:#f92672">++</span>)  {
</span></span><span style="display:flex;"><span>        min <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;</span> size; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (a[j] <span style="color:#f92672">&lt;</span> a[min]) {
</span></span><span style="display:flex;"><span>                min <span style="color:#f92672">=</span> j;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (min <span style="color:#f92672">!=</span> i) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">SWAP</span>(a[i],a[min]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="333-æ’å…¥æ’åº">3.3.3 æ’å…¥æ’åº<a hidden class="anchor" aria-hidden="true" href="#333-æ’å…¥æ’åº">#</a></h4>
<p>â€ƒæ’å…¥æ’åºæ¯æ¬¡ä»æ— åºæ•°æ®é›†åˆä¸­å–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œæ’å…¥åˆ°å·²ç»æ’å¥½åºçš„æ•°æ®é›†ä¸­é€‚å½“ä½ç½®ï¼Œä½¿æ•°æ®é›†ä»ç„¶æœ‰åºã€‚æ’å…¥æ’åºä¸éœ€è¦é¢å¤–ç©ºé—´ã€‚æ—¶é—´å¤æ‚åº¦O(n2)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insertSort</span>(<span style="color:#66d9ef">int</span>[] arr)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> arr.lenght;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> out <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; out <span style="color:#f92672">&lt;</span> size; out<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> arr[out];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> in <span style="color:#f92672">=</span> out;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span> (in <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> arr[in <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">&gt;</span> temp) {
</span></span><span style="display:flex;"><span>            arr[in] <span style="color:#f92672">=</span> arr[in <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            in<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (in <span style="color:#f92672">!=</span> out) {
</span></span><span style="display:flex;"><span>            arr[in] <span style="color:#f92672">=</span> temp;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*æ’å…¥æ’åº*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">insert_sort</span>(<span style="color:#66d9ef">int</span> a[],<span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> size; i <span style="color:#f92672">++</span>)<span style="color:#75715e">/*éœ€è¦æ’å…¥çš„å…ƒç´ ä¸ªæ•°*/</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> key <span style="color:#f92672">=</span> a[i];<span style="color:#75715e">/*ä¿å­˜æ’å…¥çš„å…ƒç´ æ•°æ®*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">/* i ä¹‹å‰çš„å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰¾åˆ°æ¯”keyå°çš„æ’å…¥åˆ°ä»–åé¢ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        * æ¯”keyå¤§çš„ï¼Œéœ€è¦å¾€åæŒªä¸€ä¸ªä½ç½®*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>((j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">&amp;&amp;</span> (a[j] <span style="color:#f92672">&gt;</span> key)) {
</span></span><span style="display:flex;"><span>            a[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> a[j];
</span></span><span style="display:flex;"><span>            j<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        a[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> key;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">issort</span>(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>data, <span style="color:#66d9ef">int</span> size, <span style="color:#66d9ef">int</span> esize, <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>compare)(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key1, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key2))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>a <span style="color:#f92672">=</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>key;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, j;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((key <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(esize)) <span style="color:#f92672">==</span> NULL) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;</span> size; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> j <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">compare</span>(<span style="color:#f92672">&amp;</span>a[i <span style="color:#f92672">*</span> esize], key) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">mamcpy</span>(<span style="color:#f92672">&amp;</span>a[(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> esize], <span style="color:#f92672">&amp;</span>a[i <span style="color:#f92672">*</span> esize], esize);
</span></span><span style="display:flex;"><span>            i<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">memcpy</span>(<span style="color:#f92672">&amp;</span>a[(i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> esize], key, esize);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="334-å¸Œå°”æ’åº">3.3.4 å¸Œå°”æ’åº<a hidden class="anchor" aria-hidden="true" href="#334-å¸Œå°”æ’åº">#</a></h4>
<p>â€‚å¸Œå°”æ’åºæ—¶é—´å¤æ‚åº¦O(n*(logn)^2)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">shellSort</span>(<span style="color:#66d9ef">int</span>[] arr)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> arr.lenght;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> h <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (h <span style="color:#f92672">&lt;=</span> size <span style="color:#f92672">/</span> <span style="color:#ae81ff">3</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        h <span style="color:#f92672">=</span> h <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (h <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> out <span style="color:#f92672">=</span> h; out <span style="color:#f92672">&lt;</span> size; out<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> arr[out];
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> in <span style="color:#f92672">=</span> out;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">while</span> (in <span style="color:#f92672">-</span> h <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> arr[in <span style="color:#f92672">-</span> h] <span style="color:#f92672">&gt;</span> temp) {
</span></span><span style="display:flex;"><span>                arr[in] <span style="color:#f92672">=</span> arr[in <span style="color:#f92672">-</span> h];
</span></span><span style="display:flex;"><span>                in <span style="color:#f92672">=</span> in <span style="color:#f92672">-</span> h;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (in <span style="color:#f92672">!=</span> out) {
</span></span><span style="display:flex;"><span>                arr[in] <span style="color:#f92672">=</span> temp;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        h <span style="color:#f92672">=</span> (h <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="335-å½’å¹¶æ’åº">3.3.5 å½’å¹¶æ’åº<a hidden class="anchor" aria-hidden="true" href="#335-å½’å¹¶æ’åº">#</a></h4>
<p>â€ƒå½’å¹¶æ’åºæ˜¯ä¸€ç§åˆ†æ”¯æ’åºç®—æ³•ã€‚å½’å¹¶æ’åºéœ€è¦é¢å¤–å­˜å‚¨ç©ºé—´æ¥å®Œæˆæ’åºã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min</span>(<span style="color:#66d9ef">int</span> x, <span style="color:#66d9ef">int</span> y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>  x <span style="color:#f92672">&lt;</span> y <span style="color:#f92672">?</span> x : y;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">merge_sort</span>(<span style="color:#66d9ef">int</span> arr[], <span style="color:#66d9ef">int</span> len)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>a <span style="color:#f92672">=</span> arr;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>b <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(len <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> seg, start;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (seg <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; seg <span style="color:#f92672">&lt;</span> len; seg <span style="color:#f92672">+=</span> seg) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (start )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (idx <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; idx <span style="color:#f92672">&lt;</span> size; idx<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%08d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, arr[idx]);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">__merge</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> p, <span style="color:#66d9ef">int</span> q, <span style="color:#66d9ef">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>tmp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, j, k;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    tmp <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>((r <span style="color:#f92672">-</span> p <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>tmp)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">abort</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> p, j <span style="color:#f92672">=</span> q <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, k <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;=</span> q <span style="color:#f92672">&amp;&amp;</span> j <span style="color:#f92672">&lt;=</span> r;) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (arr[i] <span style="color:#f92672">&lt;=</span> arr[j])
</span></span><span style="display:flex;"><span>            tmp[k<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> arr[i<span style="color:#f92672">++</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            tmp[k<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> arr[j<span style="color:#f92672">++</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (i <span style="color:#f92672">==</span> q <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (; j <span style="color:#f92672">&lt;=</span> r;)
</span></span><span style="display:flex;"><span>            tmp[k<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> arr[j<span style="color:#f92672">++</span>];
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (; i <span style="color:#f92672">&lt;=</span> q;)
</span></span><span style="display:flex;"><span>            tmp[k<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> arr[i<span style="color:#f92672">++</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memcpy</span>(arr <span style="color:#f92672">+</span> p, tmp, (r <span style="color:#f92672">-</span> p <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(tmp);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">__merge_sort</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> p, <span style="color:#66d9ef">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> q;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (p <span style="color:#f92672">&gt;=</span> r)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    q <span style="color:#f92672">=</span> (p <span style="color:#f92672">+</span> r) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__merge_sort</span>(arr, p, q);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__merge_sort</span>(arr, q <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, r);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__merge</span>(arr, p, q, r);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">merge_sort</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__merge_sort</span>(arr, <span style="color:#ae81ff">0</span>, size <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">merge_verify</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> test[<span style="color:#ae81ff">10</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">67</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">56</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__merge</span>(test, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">9</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(test, <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">merge_sort_test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> test[<span style="color:#ae81ff">10</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">67</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">56</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">merge_sort</span>(test, <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(test, <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//merge_verify();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">merge_sort_test</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="336-å¿«é€Ÿæ’åº">3.3.6 å¿«é€Ÿæ’åº<a hidden class="anchor" aria-hidden="true" href="#336-å¿«é€Ÿæ’åº">#</a></h4>
<p>â€ƒå¿«é€Ÿæ’åºæ˜¯ä¸€ç§åˆ†æ²»æ’åºç®—æ³•ã€‚ä¸éœ€è¦é¢å¤–å­˜å‚¨ç©ºé—´ï¼Œæ—¶é—´å¤æ‚åº¦O(nlgn)</p>
<p>â€ƒå¿«é€Ÿæ’åºä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åˆ†ï¼šè®¾å®šä¸€ä¸ªåˆ†å‰²å€¼å¹¶å°†æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚</li>
<li>æ²»ï¼šåˆ†åˆ«åœ¨ä¸¤éƒ¨åˆ†ä½¿ç”¨é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨å¿«é€Ÿæ’åºæ–¹æ³•ã€‚</li>
<li>å’Œï¼šå¯¹åˆ†å‰²éƒ¨åˆ†æ’åºç›´è‡³å®Œæˆã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> _Range {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> start;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> end;
</span></span><span style="display:flex;"><span>} Range;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Range <span style="color:#a6e22e">now_Range</span>(<span style="color:#66d9ef">int</span> s, <span style="color:#66d9ef">int</span> e)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Range r;
</span></span><span style="display:flex;"><span>    r.start <span style="color:#f92672">=</span> s;
</span></span><span style="display:flex;"><span>    r.end <span style="color:#f92672">=</span> e;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> r;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>x, <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> t <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>x;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>x <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>y;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>y <span style="color:#f92672">=</span> t;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">quick_sort</span>(<span style="color:#66d9ef">int</span> arr[], <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> len)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (len <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Range r[len];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> p <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    r[p<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">new_Range</span>(<span style="color:#ae81ff">0</span>, len <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (p) {
</span></span><span style="display:flex;"><span>        Range range <span style="color:#f92672">=</span> r[<span style="color:#f92672">--</span>p];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (range.start <span style="color:#f92672">&gt;=</span> range.end) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> arr[(range.start <span style="color:#f92672">+</span> range.end) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> left <span style="color:#f92672">=</span> range.start;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> right <span style="color:#f92672">=</span> range.end;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> (arr[left] <span style="color:#f92672">&lt;</span> mid) {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">++</span>left;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span> (arr[right] <span style="color:#f92672">&gt;</span> mid) {
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">--</span>right;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (left <span style="color:#f92672">&lt;=</span> right) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">swap</span>(<span style="color:#f92672">&amp;</span>arr[left], <span style="color:#f92672">&amp;</span>arr[right]);
</span></span><span style="display:flex;"><span>                left<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>                right<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">while</span> (left <span style="color:#f92672">&lt;=</span> right);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (range.start <span style="color:#f92672">&lt;</span> right) {
</span></span><span style="display:flex;"><span>            r[p<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">new_Range</span>(range.start, right);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (range.end <span style="color:#f92672">&gt;</span> left) {
</span></span><span style="display:flex;"><span>            r[p<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">new_Range</span>(left, range.end);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">QuickSort</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> low, <span style="color:#66d9ef">int</span> high)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (low <span style="color:#f92672">&lt;</span> high) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> low;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> high;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> arr[low];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&lt;</span> j) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// ä»å³å‘å·¦æ‰¾ç¬¬ä¸€ä¸ªå°äºkçš„æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&lt;</span> j <span style="color:#f92672">&amp;&amp;</span> arr[j] <span style="color:#f92672">&gt;=</span> k) {
</span></span><span style="display:flex;"><span>                j<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (i <span style="color:#f92672">&lt;</span> j) {
</span></span><span style="display:flex;"><span>                arr[i<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> arr[j];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// ä»å·¦å‘å³æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºkçš„æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">while</span> (i <span style="color:#f92672">&lt;</span> j <span style="color:#f92672">&amp;&amp;</span> arr[i] <span style="color:#f92672">&lt;</span> k) {
</span></span><span style="display:flex;"><span>                i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (i <span style="color:#f92672">&lt;</span> j) {
</span></span><span style="display:flex;"><span>                arr[j<span style="color:#f92672">--</span>] <span style="color:#f92672">=</span> arr[i];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        arr[i] <span style="color:#f92672">=</span> k;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// é€’å½’è°ƒç”¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">QuickSort</span>(arr, low, i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>); <span style="color:#75715e">// æ’åºkå·¦è¾¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">QuickSort</span>(arr, i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, high); <span style="color:#75715e">// æ’åºkå³è¾¹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">quick_sort</span>( <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, j, p, tmp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span>)  <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    p <span style="color:#f92672">=</span> a[n <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>];   <span style="color:#75715e">// Get the middle element as pivot ..
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> ( i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, j <span style="color:#f92672">=</span> n <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;; i<span style="color:#f92672">++</span>, j<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (a[i] <span style="color:#f92672">&lt;</span> p)
</span></span><span style="display:flex;"><span>            i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (p <span style="color:#f92672">&lt;</span> a[j])
</span></span><span style="display:flex;"><span>            j<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ( i <span style="color:#f92672">&gt;=</span> j)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        tmp <span style="color:#f92672">=</span> a[i]; a[i] <span style="color:#f92672">=</span> a[j]; a[j] <span style="color:#f92672">=</span> tmp;    <span style="color:#75715e">//swap both ..
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">quick_sort</span>( a, i); 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">quick_sort</span>( a <span style="color:#f92672">+</span> i, n <span style="color:#f92672">-</span> i); 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdbool.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">dump</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> idx;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (idx <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; idx <span style="color:#f92672">&lt;</span> size; idx<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%08d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, arr[idx]);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> tmp <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>a;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>a <span style="color:#f92672">=</span> <span style="color:#f92672">*</span>b;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>b <span style="color:#f92672">=</span> tmp;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">partition</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> p, <span style="color:#66d9ef">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//int pivot = arr[r];
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i, j;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> j <span style="color:#f92672">=</span> p;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (; j <span style="color:#f92672">&lt;</span> r; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (arr[j] <span style="color:#f92672">&lt;</span> arr[r]) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(i <span style="color:#f92672">!=</span> j) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">swap</span>(arr <span style="color:#f92672">+</span> i, arr <span style="color:#f92672">+</span> j);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">swap</span>(arr <span style="color:#f92672">+</span> i, arr <span style="color:#f92672">+</span> r);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> i;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">__quick_sort</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> p, <span style="color:#66d9ef">int</span> r)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> q;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (p <span style="color:#f92672">&gt;=</span> r)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    q <span style="color:#f92672">=</span> <span style="color:#a6e22e">partition</span>(arr, p, r);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__quick_sort</span>(arr, p, q<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__quick_sort</span>(arr, q<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, r);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">quick_sort</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr, <span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">__quick_sort</span>(arr, <span style="color:#ae81ff">0</span>, size <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">quick_sort_test</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> test[<span style="color:#ae81ff">10</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">67</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">31</span>, <span style="color:#ae81ff">56</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">quick_sort</span>(test, <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">dump</span>(test, <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">quick_sort_test</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Qsort</span>(<span style="color:#66d9ef">int</span> arr[], <span style="color:#66d9ef">int</span> low, <span style="color:#66d9ef">int</span> high){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (high <span style="color:#f92672">&lt;=</span> low) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> low;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> high <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> key <span style="color:#f92672">=</span> arr[low];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (true) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*ä»å·¦å‘å³æ‰¾æ¯”keyå¤§çš„å€¼*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (arr[<span style="color:#f92672">++</span>i] <span style="color:#f92672">&lt;</span> key) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (i <span style="color:#f92672">==</span> high) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*ä»å³å‘å·¦æ‰¾æ¯”keyå°çš„å€¼*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (arr[<span style="color:#f92672">--</span>j] <span style="color:#f92672">&gt;</span> key)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (j <span style="color:#f92672">==</span> low) {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (i <span style="color:#f92672">&gt;=</span> j) <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*äº¤æ¢i,jå¯¹åº”çš„å€¼*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> arr[i];
</span></span><span style="display:flex;"><span>        arr[i] <span style="color:#f92672">=</span> arr[j];
</span></span><span style="display:flex;"><span>        arr[j] <span style="color:#f92672">=</span> temp;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*ä¸­æ¢å€¼ä¸jå¯¹åº”å€¼äº¤æ¢*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> arr[low];
</span></span><span style="display:flex;"><span>    arr[low] <span style="color:#f92672">=</span> arr[j];
</span></span><span style="display:flex;"><span>    arr[j] <span style="color:#f92672">=</span> temp;
</span></span><span style="display:flex;"><span>    Qsort(arr, low, j <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    Qsort(arr, j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, high);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>qsort/sortå‡½æ•°</strong>
â€‚åœ¨cè¯­è¨€åº“å‡½æ•°ä¸­å·²ç»å®ç°äº†qsortå‡½æ•°,
â€ƒqsortå‡½æ•°ç”¨æ³•:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">qsort</span>(<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>base, <span style="color:#66d9ef">int</span> nelem, <span style="color:#66d9ef">int</span> width, <span style="color:#66d9ef">int</span> (<span style="color:#f92672">*</span>fcmp)(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>));
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å‚æ•°:1 å¸¦æ’åºæ•°ç»„é¦–åœ°å€, nelem æ•°ç»„ä¸­å¾…æ’å…ƒç´ æ•°é‡  width å„å…ƒç´ æ‰€åœ¨ç©ºé—´å¤§å°  *fcmp æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// int æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cmp</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (<span style="color:#f92672">*</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)a <span style="color:#f92672">-</span> <span style="color:#f92672">*</span>(<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)b);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">qsort</span>(arr, n, <span style="color:#66d9ef">sizeof</span>(arr[<span style="color:#ae81ff">0</span>]), cmp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// char æ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">com</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>)a <span style="color:#f92672">-</span> <span style="color:#f92672">*</span>(<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>)b;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> word[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">qsort</span>(word, <span style="color:#ae81ff">100</span>, <span style="color:#66d9ef">sizeof</span>(word[<span style="color:#ae81ff">0</span>]), cmp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// double ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cmp</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span>(<span style="color:#66d9ef">double</span> <span style="color:#f92672">*</span>)a <span style="color:#f92672">&gt;</span> <span style="color:#f92672">*</span>(<span style="color:#66d9ef">double</span><span style="color:#f92672">*</span>)b <span style="color:#f92672">?</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> in[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">qsort</span>(in, <span style="color:#ae81ff">100</span>, <span style="color:#66d9ef">sizeof</span>(in[<span style="color:#ae81ff">00</span>]), cmp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// struct ç»“æ„ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">struct</span> Sample {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> num;
</span></span><span style="display:flex;"><span>}st[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cmp</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (<span style="color:#f92672">*</span>(Sample <span style="color:#f92672">*</span>)a).data <span style="color:#f92672">&gt;</span> (<span style="color:#f92672">*</span>(Sampel <span style="color:#f92672">*</span>)b).data <span style="color:#f92672">?</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">qsort</span>(s, <span style="color:#ae81ff">100</span>, <span style="color:#66d9ef">sizeof</span>(s[<span style="color:#ae81ff">0</span>]), cmp);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cmp</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> Sample <span style="color:#f92672">*</span>c <span style="color:#f92672">=</span> (Sample <span style="color:#f92672">*</span>)a;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> Sample <span style="color:#f92672">*</span>d <span style="color:#f92672">=</span> (Sample <span style="color:#f92672">*</span>)b;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(c<span style="color:#f92672">-&gt;</span>x <span style="color:#f92672">!=</span> d<span style="color:#f92672">-&gt;</span>x) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> c<span style="color:#f92672">-&gt;</span>x <span style="color:#f92672">-</span> d<span style="color:#f92672">-&gt;</span>x;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> d<span style="color:#f92672">-&gt;</span>y <span style="color:#f92672">-</span> c<span style="color:#f92672">-&gt;</span>y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">qsort</span>(s,<span style="color:#ae81ff">100</span>,<span style="color:#66d9ef">sizeof</span>(s[<span style="color:#ae81ff">0</span>]),cmp);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>truct Sample
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> str[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>}s[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//æŒ‰ç…§ç»“æ„ä½“ä¸­å­—ç¬¦ä¸²strçš„å­—å…¸é¡ºåºæ’åº
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cmp</span> (<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>a, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">strcmp</span>((<span style="color:#f92672">*</span>(Sample <span style="color:#f92672">*</span>)a)<span style="color:#f92672">-&gt;</span>str , (<span style="color:#f92672">*</span>(Sample <span style="color:#f92672">*</span>)b)<span style="color:#f92672">-&gt;</span>str);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">qsort</span>(s,<span style="color:#ae81ff">100</span>,<span style="color:#66d9ef">sizeof</span>(s[<span style="color:#ae81ff">0</span>]),cmp);
</span></span></code></pre></div><h4 id="337-å †æ’åº">3.3.7 å †æ’åº<a hidden class="anchor" aria-hidden="true" href="#337-å †æ’åº">#</a></h4>
<p>â€ƒæ¡¶æ’åºç®—æ³•åŸºæœ¬åŸç†ï¼šæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ åˆ†ä¸ºè‹¥å¹²ä¸ªæ•°æ®å—ï¼Œä¹Ÿå°±æ˜¯è‹¥å¹²ä¸ªæ¡¶ï¼Œç„¶åå¯¹æ¯ä¸ªæ¡¶é‡Œçš„æ•°æ®è¿›è¡Œæ’åºï¼Œæœ€åå°†æ‰€æœ‰æ¡¶é‡Œçš„æ•°æ®ä¾æ¬¡æ’åˆ—ã€‚
â€ƒå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š
â€ƒ(1)æ€æ ·åˆ’åˆ†æ•°æ®å—ï¼Œä¹Ÿå°±æ˜¯åˆ†å‡ ä¸ªæ¡¶ï¼Œæ¯ä¸ªæ¡¶æ”¾å“ªå‡ ä¸ªæ•°æ®ã€‚
â€ƒ(2)å¯¹æ¯ä¸ªæ•°æ®å—é‡Œçš„æ•°æ®æ€æ ·æ’åºã€‚
â€‚å †æ’åºä½¿åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„è®¾è®¡çš„ä¸€ç§é€‰æ‹©æ’åºç®—æ³•ã€‚å †æ˜¯ä¸€ç§è¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„(é€šå¸¸å †ç”¨ä¸€ç»´æ•°ç»„å®ç°),å¹¶æ»¡è¶³æ€§è´¨ï¼›æœ€å¤§å †(å¤§é¡¶å †)ä¸ºä¾‹ï¼Œå…¶çˆ¶èŠ‚ç‚¹çš„å€¼æ€»æ˜¯å¤§äºå®ƒçš„å­©å­èŠ‚ç‚¹ã€‚
â€‚å †æ’åºçš„è¿‡ç¨‹ï¼š
â€ƒ1.ç”±è¾“å…¥çš„æ— åºæ•°ç»„æ„é€ ä¸€ä¸ªæœ€å¤§å †ï¼Œä½œä¸ºåˆå§‹çš„æ— åºåŒº
â€ƒ2.æŠŠå †é¡¶å…ƒç´ (æœ€å¤§å€¼)å’Œå †å°¾å…ƒç´ äº’æ¢
â€ƒ3.æŠŠå †(æ— åºåŒº)çš„å°ºå¯¸ç¼©å°1ï¼Œå¹¶è°ƒç”¨heapify(A,0)ä»æ–°çš„å †é¡¶å…ƒç´ å¼€å§‹è¿›è¡Œå †è°ƒæ•´ã€‚
â€ƒ4.é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°å †çš„å°ºå¯¸ä¸º1
â€‚å› ä¸ºæ¯æ¬¡æ’å…¥æ•°æ®æ•ˆç‡æ˜¯O(logN)ï¼Œè€Œæˆ‘ä»¬éœ€è¦è¿›è¡Œnæ¬¡å¾ªç¯ï¼Œå°†æ•°ç»„ä¸­æ¯ä¸ªå€¼æ’å…¥åˆ°å †ä¸­ï¼Œæ‰€ä»¥å®ƒçš„æ‰§è¡Œæ—¶é—´æ˜¯O(N*logN)çº§ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;sdtio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> node {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> key;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">struct</span> node <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>} KeyNode;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bucket_sort</span>(<span style="color:#66d9ef">int</span> keys[], <span style="color:#66d9ef">int</span> size, <span style="color:#66d9ef">int</span> bucket_size) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, j;
</span></span><span style="display:flex;"><span>    KeyNode <span style="color:#f92672">**</span>bucket_table <span style="color:#f92672">=</span> (KeyNode <span style="color:#f92672">**</span>)<span style="color:#a6e22e">mallov</span>(bucket_size <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(KeyNode<span style="color:#f92672">*</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;i <span style="color:#f92672">&lt;</span> bucket_size;i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        bucket_table[i] <span style="color:#f92672">=</span> (KeyNode<span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(KeyNode));
</span></span><span style="display:flex;"><span>        bucket_table[i]<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        bucket_table[i]<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;j <span style="color:#f92672">&lt;</span> size;j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        KeyNode <span style="color:#f92672">*</span>node <span style="color:#f92672">=</span> (KeyNode <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(KeyNode));
</span></span><span style="display:flex;"><span>        node<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">=</span> keys[j];
</span></span><span style="display:flex;"><span>        node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> index <span style="color:#f92672">=</span> keys[j]<span style="color:#f92672">/</span><span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>        KeyNode <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> bucket_table[index];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(p<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            bucket_table[index]<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>            (bucket_table[index]<span style="color:#f92672">-&gt;</span>key)<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span>(p<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">!=</span> NULL <span style="color:#f92672">&amp;&amp;</span> p<span style="color:#f92672">-&gt;</span>next<span style="color:#f92672">-&gt;</span>key <span style="color:#f92672">&lt;=</span> node<span style="color:#f92672">-&gt;</span>key)
</span></span><span style="display:flex;"><span>            p <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            node<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> p<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>            p<span style="color:#f92672">-&gt;</span>next <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>            (bucket_table[index]<span style="color:#f92672">-&gt;</span>key)<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//print result
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    KeyNode <span style="color:#f92672">*</span> k <span style="color:#f92672">=</span> NULL;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;i <span style="color:#f92672">&lt;</span> bucket_size;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(k <span style="color:#f92672">=</span> bucket_table[i]<span style="color:#f92672">-&gt;</span>next;k<span style="color:#f92672">!=</span>NULL;k<span style="color:#f92672">=</span>k<span style="color:#f92672">-&gt;</span>next)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d &#34;</span>,k<span style="color:#f92672">-&gt;</span>key);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> raw[] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">49</span>,<span style="color:#ae81ff">38</span>,<span style="color:#ae81ff">65</span>,<span style="color:#ae81ff">97</span>,<span style="color:#ae81ff">76</span>,<span style="color:#ae81ff">13</span>,<span style="color:#ae81ff">27</span>,<span style="color:#ae81ff">49</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> <span style="color:#66d9ef">sizeof</span>(raw)<span style="color:#f92672">/</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">bucket_sort</span>(raw,size,<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Heapify</span>(<span style="color:#66d9ef">int</span> A[], <span style="color:#66d9ef">int</span> i, <span style="color:#66d9ef">int</span> size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> lef_child <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> right_child <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> max <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (lef_child <span style="color:#f92672">&lt;</span> size <span style="color:#f92672">&amp;&amp;</span> A[lef_child] <span style="color:#f92672">&gt;</span> A[max]) {
</span></span><span style="display:flex;"><span>        max <span style="color:#f92672">=</span> lef_child;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (right_child <span style="color:#f92672">&lt;</span> size <span style="color:#f92672">&amp;&amp;</span> A[right_child] <span style="color:#f92672">&gt;</span> A[max]) {
</span></span><span style="display:flex;"><span>        max <span style="color:#f92672">=</span> right_child;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (max <span style="color:#f92672">!=</span> i) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Swap</span>(A, i max);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Heapify</span>(A, max, size);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">BuildHeap</span>(<span style="color:#66d9ef">int</span> A[], <span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> heap_size <span style="color:#f92672">=</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> heap_size <span style="color:#f92672">/</span> w <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Heapify</span>(A, i, heap_size);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> heap_size;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">HeapSort</span>(<span style="color:#66d9ef">int</span> A[], <span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> heap_size <span style="color:#f92672">=</span> <span style="color:#a6e22e">BuildHeap</span>(A, n);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (heap_size <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Swap</span>(A, <span style="color:#ae81ff">0</span>, heap_size);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Heap</span>(A, <span style="color:#ae81ff">0</span>, heap_size);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="338-leetcodeæ’åº">3.3.8 leetcodeæ’åº<a hidden class="anchor" aria-hidden="true" href="#338-leetcodeæ’åº">#</a></h4>
<ul>
<li>æŒ‰å¥‡å¶æ’åºæ•°ç»„</li>
<li>å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åº</li>
<li>åˆå¹¶åŒºé—´</li>
<li>æœ€å¤§æ•°</li>
<li>æœ€æ¥è¿‘åŸç‚¹çš„Kä¸ªç‚¹</li>
</ul>
<h3 id="34-è´ªå¿ƒç®—æ³•">3.4 è´ªå¿ƒç®—æ³•<a hidden class="anchor" aria-hidden="true" href="#34-è´ªå¿ƒç®—æ³•">#</a></h3>
<h4 id="341-åŸºæœ¬æ¦‚å¿µ">3.4.1 åŸºæœ¬æ¦‚å¿µ<a hidden class="anchor" aria-hidden="true" href="#341-åŸºæœ¬æ¦‚å¿µ">#</a></h4>
<p>â€‚è´ªå¿ƒç®—æ³•:åœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶,æ€»æ˜¯åšå‡ºåœ¨å½“å‰æ˜¯æœ€å¥½çš„é€‰æ‹©,å³ä¸è€ƒè™‘æ•´ä½“æœ€ä¼˜,ä»…è€ƒè™‘å±€éƒ¨æœ€ä¼˜è§£.
â€‚è´ªå¿ƒç®—æ³•æ²¡æœ‰å›ºå®šç®—æ³•æ¡†æ¶,ç®—æ³•å…³é”®æ˜¯è´ªå¿ƒç­–ç•¥çš„é€‰æ‹©.ä»–æƒ³ç®—æ³•ä¸æ˜¯æ‰€æœ‰é—®é¢˜éƒ½å¾—åˆ°æœ€ä¼˜è§£,é€‰æ‹©è´ªå¿ƒç­–ç•¥å¿…é¡»å…·å¤‡æ— åæ•ˆæ€§,å³æŸä¸ªçŠ¶æ€ä»¥åçš„è¿‡ç¨‹ä¸ä¼šå½±å“ä¸€èµ·çš„çŠ¶æ€,åªä¸å½“å‰çŠ¶æ€æœ‰å…³.</p>
<h4 id="342-æè¿°">3.4.2 æè¿°<a hidden class="anchor" aria-hidden="true" href="#342-æè¿°">#</a></h4>
<p>â€‚è´ªå¿ƒç®—æ³•å®ç°æ­¥éª¤:
â€ƒ1.å»ºç«‹æ•°å­¦æ¨¡å‹æè¿°é—®é¢˜
â€ƒ2.æŠŠæ±‚è§£çš„é—®é¢˜åˆ†æˆè‹¥å¹²ä¸ªå­é—®é¢˜
â€ƒ3.å¯¹æ¯ä¸ªå­é—®é¢˜æ±‚è§£,å¾—åˆ°å­é—®é¢˜çš„å±€éƒ¨æœ€ä¼˜è§£
â€ƒ4.æŠŠå­é—®é¢˜çš„è§£å±€éƒ¨æœ€ä¼˜è§£åˆæˆåŸæ¥é—®é¢˜çš„ä¸€ä¸ªè§£.
â€‚å®ç°ç®—æ³•è¿‡ç¨‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> (<span style="color:#960050;background-color:#1e0010">èƒ½æœç»™å®šæ€»ç›®æ ‡å‰è¿›ä¸€æ­¥</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">åˆ©ç”¨å¯è¡Œçš„å†³ç­–</span>,<span style="color:#960050;background-color:#1e0010">æ±‚å‡ºå¯è¡Œè§£çš„ä¸€ä¸ªè§£å…ƒç´ </span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">ç”±æ‰€æœ‰è§£å…ƒç´ ç»„åˆæˆé—®é¢˜çš„ä¸€ä¸ªå¯è¡Œè§£</span>
</span></span></code></pre></div><h4 id="343-åº”ç”¨">3.4.3 åº”ç”¨<a hidden class="anchor" aria-hidden="true" href="#343-åº”ç”¨">#</a></h4>
<p><strong>æœ€å°ç”Ÿæˆæ ‘ç®—æ³•</strong>
â€‚è´ªå¿ƒç®—æ³•ç»å…¸å®è·µ:æœ€å°ç”Ÿæˆæ ‘ç®—æ³•
â€ƒè®¾<code>G=(V, E)</code>æ˜¯æ— å‘è¿é€šå¸¦æƒå›¾,å³ä¸€ä¸ªç½‘ç»œ,Eä¸­çš„æ¯ä¸€æ¡è¾¹<code>(v,w)</code> çš„å…¨ä¸º <code>c[v][w]</code>.å¦‚æœGçš„å­—ä½“ G&rsquo; æ˜¯ä¸€é¢—åŒ…å« G çš„æ‰€æœ‰é¡¶ç‚¹çš„æ•°,åˆ™ç§° G&rsquo; ä¸º G çš„ç”Ÿæˆæ ‘.ç”Ÿæˆæ ‘ä¸Šå„è¾¹æƒçš„æ€»å’Œç§°ä¸ºç”Ÿæˆæ ‘çš„è€—è´¹.åœ¨ G çš„æ‰€æœ‰ç”Ÿæˆæ ‘ä¸­,è€—è´¹æœ€å°çš„ç”Ÿæˆæ ‘ç§°ä¸º G çš„æœ€å°ç”Ÿæˆæ ‘.
â€‚æœ€å°ç”Ÿæˆæ ‘çš„æ€§è´¨:
â€ƒâ€ƒè®¾<code>G=(V, E)</code>æ˜¯è¿é€šå¸¦æƒå›¾, Uæ˜¯Vçš„çœŸå­é›†.å¦‚æœ(u,v)å±äºE,ä¸”uå±äºE,vå±äºV-U,ä¸”åœ¨æ‰€æœ‰è¿™æ ·çš„è¾¹ä¸­,(u,v)çš„æƒc[u][v]æœ€å°,é‚£ä¹ˆä¸€å®šå­˜åœ¨Gçš„ä¸€é¢—æœ€å°ç”Ÿæˆæ ‘,å®ƒäº¦æ˜¯(u,v)ä¸ºå…¶ä¸­ä¸€æ¡è¾¹,è¿™ä¸ªæ€§è´¨æœ‰æ—¶ä¹Ÿç§°ä¸ºMSTæ€§è´¨.</p>
<p><strong>Primç®—æ³•</strong>
â€ƒâ€ƒè®¾<code>G=(V, E)</code>æ˜¯è¿é€šå¸¦æƒå›¾, V={1,2,&hellip;,n}.æ„é€ Gçš„æœ€å°ç”Ÿæˆæ ‘Primç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯:**é¦–å…ˆç½®S={1},ç„¶å,åªæœ‰Sæ˜¯Vçš„çœŸå­é›†,å°±è¿›è¡Œå¦‚ä¸‹çš„è´ªå¿ƒé€‰æ‹©:é€‰å–æ»¡è¶³æ·»åŠ iå±äºS,jå±äºV-S,ä¸”c[i][j]æœ€å°çš„è¾¹,å°†é¡¶ç‚¹jæ·»åŠ åˆ°Sä¸­.è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´è¿›è¡Œåˆ°S=Væ—¶ä¸ºæ­¢.åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­é€‰å–åˆ°çš„æ‰€æœ‰è¾¹æ°å¥½æ„æˆGçš„ä¸€é¢—æœ€å°ç”Ÿæˆæ ‘.</p>
<details>
<summary>Prim</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @file
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @author [Timothy Maloney](https://github.com/sl1mb0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @brief [Prim&#39;s algorithm](https://en.wikipedia.org/wiki/Prim%27s_algorithm)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * implementation in C to find the MST of a weighted, connected graph.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @details Prim&#39;s algorithm uses a greedy approach to generate the MST of a
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *weighted connected graph. The algorithm begins at an arbitrary vertex v, and
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *selects a next vertex u, where v and u are connected by a weighted edge whose
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *weight is the minimum of all edges connected to v.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @references Page 319 &#34;Introduction to the Design and Analysis of Algorithms&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *- Anany Levitin
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * To test - run &#39;./prim -test&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * prim() will find the MST of the following adj. matrix:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *	  0  1  2  3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *        1  0  4  6
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *        2  4  0  5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *        3  6  5  0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * The minimum spanning tree for the above weighted connected graph is given by
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *the following adj matrix:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *	  0  1  2  3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *	  1  0  0  0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *	  2  0  0  0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *	  3  0  0  0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * The following [link](https://visualgo.net/en/mst) provides a visual
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *representation of graphs that can be used to test/verify the algorithm for
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *different adj matrices and their weighted, connected graphs.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;assert.h&gt;    /// for assert()</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;inttypes.h&gt;  /// for uint16_t</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;     /// for IO operations</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string.h&gt;    /// for string comparison</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX 20
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define INF 999
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @brief Finds index of minimum element in edge list for an arbitrary vertex
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param arr graph row
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param N number of elements in arr
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns index of minimum element in arr
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">uint16_t</span> <span style="color:#a6e22e">minimum</span>(<span style="color:#66d9ef">uint16_t</span> arr[], <span style="color:#66d9ef">uint16_t</span> N)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> min <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint16_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> N; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (arr[i] <span style="color:#f92672">&lt;</span> min) {
</span></span><span style="display:flex;"><span>            min <span style="color:#f92672">=</span> arr[i];
</span></span><span style="display:flex;"><span>            index <span style="color:#f92672">=</span> i;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> index;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @brief Used to find MST of user-generated adj matrix G
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns void
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">prim</span>(<span style="color:#66d9ef">uint16_t</span> G[][MAX], <span style="color:#66d9ef">uint16_t</span> MST[][MAX], <span style="color:#66d9ef">uint16_t</span> V)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> u, v;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> E_t[MAX], path[MAX];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> V_t[MAX], no_of_edges;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    E_t[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;  <span style="color:#75715e">// edges for current vertex
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    V_t[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;  <span style="color:#75715e">// list of visited vertices
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint16_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> V; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        E_t[i] <span style="color:#f92672">=</span> G[i][<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>        path[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        V_t[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    no_of_edges <span style="color:#f92672">=</span> V <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (no_of_edges <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        u <span style="color:#f92672">=</span> <span style="color:#a6e22e">minimum</span>(E_t, V);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (V_t[u] <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>            E_t[u] <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span>            u <span style="color:#f92672">=</span> <span style="color:#a6e22e">minimum</span>(E_t, V);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        v <span style="color:#f92672">=</span> path[u];
</span></span><span style="display:flex;"><span>        MST[v][u] <span style="color:#f92672">=</span> E_t[u];
</span></span><span style="display:flex;"><span>        MST[u][v] <span style="color:#f92672">=</span> E_t[u];
</span></span><span style="display:flex;"><span>        no_of_edges<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>        V_t[u] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint16_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> V; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (V_t[i] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> G[u][i] <span style="color:#f92672">&lt;</span> E_t[i]) {
</span></span><span style="display:flex;"><span>                E_t[i] <span style="color:#f92672">=</span> G[u][i];
</span></span><span style="display:flex;"><span>                path[i] <span style="color:#f92672">=</span> v;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @brief Self-test implementations
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns void
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span>(<span style="color:#66d9ef">uint16_t</span> G[][MAX], <span style="color:#66d9ef">uint16_t</span> MST[][MAX], <span style="color:#66d9ef">uint16_t</span> V)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> test[<span style="color:#ae81ff">4</span>][<span style="color:#ae81ff">4</span>] <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>}, {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6</span>}, {<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">5</span>}, {<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>}};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> solution[<span style="color:#ae81ff">4</span>][<span style="color:#ae81ff">4</span>] <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        {<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>}, {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>}, {<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>}, {<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>}};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    V <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint16_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint16_t</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>j) {
</span></span><span style="display:flex;"><span>            G[i][j] <span style="color:#f92672">=</span> test[i][j];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prim</span>(<span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>G), <span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>MST), V);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint16_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint16_t</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>j) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">assert</span>(MST[i][j] <span style="color:#f92672">==</span> solution[i][j]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @brief Function user_graph();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * gets user input adj. matrix and finds MST of that graph
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns void
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">user_graph</span>(<span style="color:#66d9ef">uint16_t</span> G[][MAX], <span style="color:#66d9ef">uint16_t</span> MST[][MAX], <span style="color:#66d9ef">uint16_t</span> V)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Enter the number of vertices: &#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34; %hd&#34;</span>, <span style="color:#f92672">&amp;</span>V);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">assert</span>(V <span style="color:#f92672">&lt;=</span> MAX);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Enter the adj matrix</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> i, j;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>j) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;G[%d][%d]: &#34;</span>, i, j);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34; %hd&#34;</span>, <span style="color:#f92672">&amp;</span>G[i][j]);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (G[i][j] <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>                G[i][j] <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prim</span>(<span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>G), <span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>MST), V);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;minimum spanning tree:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> V; <span style="color:#f92672">++</span>j) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#34;</span>, MST[i][j]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @brief Main function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param argc commandline argument count (ignored)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param argv commandline array of arguments (ignored)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @returns 0 on exit
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#66d9ef">const</span> <span style="color:#f92672">*</span>argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint16_t</span> G[MAX][MAX];    <span style="color:#75715e">///&lt; weighted, connected graph G
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">uint16_t</span> MST[MAX][MAX];  <span style="color:#75715e">///&lt; adj matrix to hold minimum spanning tree of G
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">uint16_t</span> V;              <span style="color:#75715e">///&lt; number of vertices in V in G
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (argc <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">strcmp</span>(argv[<span style="color:#ae81ff">1</span>], <span style="color:#e6db74">&#34;-test&#34;</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">test</span>(<span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>G), <span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>MST), V);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">user_graph</span>(<span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>G), <span style="color:#f92672">&amp;</span>(<span style="color:#f92672">*</span>MST), V);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="344-leetcodeé¢˜ç›®">3.4.4 leetcodeé¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#344-leetcodeé¢˜ç›®">#</a></h4>
<ul>
<li>æŸ æª¬æ°´æ‰¾é›¶</li>
<li>åˆ†å‘é¥¼å¹²</li>
</ul>
<h3 id="35-åŠ¨æ€è§„åˆ’">3.5 åŠ¨æ€è§„åˆ’<a hidden class="anchor" aria-hidden="true" href="#35-åŠ¨æ€è§„åˆ’">#</a></h3>
<p>â€‚åŠ¨æ€è§„åˆ’(<code>DP</code>):æ˜¯ä¸€ç§é€šè¿‡æŠŠåŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•.å¸¸ç”¨äºé‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜,åŠ¨æ€è§„åˆ’æ—¶é—´é€šå¸¸è¿œå°äºæœ´ç´ è§£æ³•.</p>
<h4 id="351-åŸºæœ¬æ¦‚å¿µ">3.5.1 åŸºæœ¬æ¦‚å¿µ<a hidden class="anchor" aria-hidden="true" href="#351-åŸºæœ¬æ¦‚å¿µ">#</a></h4>
<p>â€‚åŠ¨æ€è§„åˆ’:è¦è§£ä¸€ä¸ªç»™å®šé—®é¢˜,éœ€è¦è§£å…¶ä¸åŒéƒ¨åˆ†(å³å­é—®é¢˜),å†æ ¹æ®å­é—®é¢˜çš„è§£ä»¥å¾—å‡ºåŸé—®é¢˜çš„è§£.é€šå¸¸å­é—®é¢˜éå¸¸ç›¸ä¼¼,å­é—®é¢˜è§£ç®—å‡ºå,å°†å…¶è®°å½•.
â€‚åŠ¨æ€è§„åˆ’è¿‡ç¨‹æ˜¯:æ¯æ¬¡å†³ç­–ä¾èµ–äºå½“å‰çŠ¶æ€,åˆéšå³å¼•èµ·çŠ¶æ€è½¬ç§».ä¸€ä¸ªå†³ç­–åºåˆ—å°±æ˜¯åœ¨å˜åŒ–çš„çŠ¶æ€ä¸­äº§ç”Ÿé™¤ç•™çš„,è¿™ç§å¤šé˜¶æ®µæœ€ä¼˜åŒ–å†³ç­–è§£å†³è¿‡ç¨‹ç§°ä¸ºåŠ¨æ€è§„åˆ’.
â€‚åŠ¨æ€è§„åˆ’ä¸åˆ†æ²»æ³•çš„åŒºåˆ«æ˜¯å­é—®é¢˜é€šå¸¸ä¸æ˜¯ç‹¬ç«‹çš„.</p>
<h4 id="352-æè¿°ç®—æ³•">3.5.2 æè¿°ç®—æ³•<a hidden class="anchor" aria-hidden="true" href="#352-æè¿°ç®—æ³•">#</a></h4>
<p>â€‚å¯é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„é—®é¢˜3ä¸ªæ€§è´¨:
â€ƒ1) <strong>æœ€ä¼˜åŒ–åŸç†</strong>:å¦‚æœé—®é¢˜çš„æœ€ä¼˜è§£æ‰€åŒ…å«çš„å­é—®é¢˜çš„è§£ä¹Ÿæ˜¯æœ€ä¼˜çš„,åˆ™ç§°è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„,å³æ»¡è¶³æœ€ä¼˜åŒ–åŸç†.
â€ƒ2) <strong>æ— åæ•ˆæ€§</strong>:å³æŸé˜¶æ®µçŠ¶æ€ç¡®å®šå,å°±ä¸å—ä¹‹åçš„å†³ç­–å½±å“,å³æŸçŠ¶æ€ä»¥åè¿‡ç¨‹ä¸å½±å“ä»¥å‰çš„çŠ¶æ€,åªä¸å½“å‰çŠ¶æ€æœ‰å…³.
â€ƒ3) <strong>æœ‰é‡å å­é—®é¢˜</strong>:</p>
<br>
&ensp;åŠ¨æ€è§„åˆ’æ‰€å¤„ç†çš„é—®é¢˜æ˜¯ä¸€ä¸ªå¤šé˜¶æ®µå†³ç­–é—®é¢˜,ç”±åˆå§‹çŠ¶æ€å¼€å§‹,é€šè¿‡ä¸­é—´é˜¶æ®µå†³ç­–çš„é€‰æ‹©,è¾¾åˆ°ç»“æŸçŠ¶æ€.å½¢æˆä¸€ä¸ªå†³ç­–åºåˆ—.
<p>â€‚åŠ¨æ€è§„åˆ’æ±‚è§£ä¸‰è¦ç´ :</p>
<blockquote>
<p>(1) é—®é¢˜çš„èŠ‚ç‚¹
(2) æ¯ä¸ªé˜¶æ®µçš„çŠ¶æ€
(3) ä»å‰ä¸€ä¸ªé˜¶æ®µè½¬åŒ–åˆ°åä¸€ä¸ªé˜¶æ®µä¹‹é—´çš„é€’æ¨å…³ç³»</p>
</blockquote>
<p>â€‚<strong>æœ€ä¼˜å†³ç­–è¡¨</strong></p>
<blockquote>
<p>f(n, m) = max{f(n-1, m), f(n-1, m-w[n]) + P(n, m)}</p>
</blockquote>
<h4 id="353-èƒŒåŒ…é—®é¢˜">3.5.3 èƒŒåŒ…é—®é¢˜<a hidden class="anchor" aria-hidden="true" href="#353-èƒŒåŒ…é—®é¢˜">#</a></h4>
<p>â€‚é—®é¢˜æè¿°:
â€ƒæœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªä½“ç§¯ä¸ºVçš„èƒŒåŒ….(æ¯ç§ç‰©å“åªæœ‰ä¸€ä»¶)ç¬¬iä»¶ç‰©å“çš„ä½“ç§¯æ˜¯volume[i],ä»·å€¼æ˜¯value[i],æ±‚è§£å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„ä½“ç§¯ç»¼åˆä¸è¶…è¿‡èƒŒåŒ…ä½“ç§¯,ä¸”ä»·å€¼æ€»å’Œæœ€å¤§.
â€‚è§£é¢˜æ€è·¯:
â€ƒp[i][j]ä»£è¡¨å‰iä»¶ç‰©å“ç»„åˆåœ¨å®¹é‡ä¸ºjçš„èƒŒåŒ…çš„æœ€ä¼˜è§£.å°†å‰iä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºvçš„èƒŒåŒ…ä¸­è¿™ä¸ªå­é—®é¢˜,è‹¥åªè€ƒè™‘ç¬¬iä»¶ç‰©å“çš„ç­–ç•¥(æ”¾æˆ–ä¸æ”¾),é‚£ä¹ˆå¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªåªç‰µæ‰¯å‰i-1ç‰©å“çš„é—®é¢˜.å¦‚æœä¸æ”¾ç¬¬iä»¶ç‰©å“,é‚£ä¹ˆé—®é¢˜å°±è½¬åŒ–ä¸º&quot;å‰i-1ä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºvçš„èƒŒåŒ…ä¸­,ä»·å€¼ä¸ºp[i-1][v];å¦‚æœæ”¾ç¬¬iä»¶ç‰©å“,é‚£ä¹ˆé—®é¢˜å°±è½¬åŒ–ä¸º&quot;å‰i-1ç‰©å“æ”¾å…¥å‰©ä¸‹çš„å®¹é‡ä¸ºv-volume[i]çš„èƒŒåŒ…ä¸­&quot;,æ­¤æ—¶èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼å°±æ˜¯p[i-1][j-volume]å†åŠ ä¸Šé€šè¿‡æ”¾å…¥ç¬¬iä»¶ç‰©å“è·å¾—çš„ä»·å€¼value[i].</p>
<p>â€‚<strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹:</strong></p>
<blockquote>
<p>p[i][j] = max{p[i-1][j-vol] + value[i], p[i-1][j]}
â€‚ä¼ªä»£ç æè¿°:</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.</span>..N
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">=</span> V..<span style="color:#ae81ff">.0</span>
</span></span><span style="display:flex;"><span>        p[j] <span style="color:#f92672">=</span> max{p[j<span style="color:#f92672">-</span>volume[i]] <span style="color:#f92672">+</span> value[i], p[j]};
</span></span></code></pre></div><details>
<summary>dp</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> v[]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">6</span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> w[]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">4</span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> dp[<span style="color:#ae81ff">100</span>][<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">Max</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b){
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span>(a<span style="color:#f92672">&gt;=</span>b){
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> a;
</span></span><span style="display:flex;"><span>	}<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> b;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAns</span>(<span style="color:#66d9ef">int</span> i,<span style="color:#66d9ef">int</span> wi) {
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;x<span style="color:#f92672">&lt;=</span>i;x<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		dp[x][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; x <span style="color:#f92672">&lt;=</span> wi; x<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		dp[<span style="color:#ae81ff">0</span>][x]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; x <span style="color:#f92672">&lt;=</span> i; x<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> y<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;y<span style="color:#f92672">&lt;=</span>wi;y<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span>(y<span style="color:#f92672">&gt;=</span>w[x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]) {
</span></span><span style="display:flex;"><span>				dp[x][y]<span style="color:#f92672">=</span><span style="color:#a6e22e">Max</span>(dp[x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][y],v[x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>dp[x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][y<span style="color:#f92672">-</span>w[x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]]);
</span></span><span style="display:flex;"><span>			} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>				dp[x][y]<span style="color:#f92672">=</span>dp[x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][y];
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%4d&#34;</span>,dp[x][y]);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> dp[i][wi];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> max<span style="color:#f92672">=</span><span style="color:#a6e22e">getAns</span>(<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,max);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div></details>
<h4 id="354-æœ€é•¿å…¬å…±å­åºåˆ—">3.5.4 æœ€é•¿å…¬å…±å­åºåˆ—<a hidden class="anchor" aria-hidden="true" href="#354-æœ€é•¿å…¬å…±å­åºåˆ—">#</a></h4>
<p>â€‚é—®é¢˜æè¿°:
â€ƒä¸€ä¸ªæ•£åˆ—S,å¦‚æœåˆ†åˆ«æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªå·²çŸ¥æ•°åˆ—çš„å­åºåˆ—,ä¸”æ˜¯æ‰€æœ‰åŒ¹é…æ­¤æ¡ä»¶åºåˆ—ä¸­æœ€é•¿çš„,åˆ™Sç§°ä¸ºå·²çŸ¥åºåˆ—çš„æœ€é•¿å…¬å…±å­åºåˆ—(LCS)
â€‚ç»™å®šä¸¤ä¸ªåºåˆ—X,Y,æ±‚ä¸¤ä¸ªåºåˆ—çš„æœ€é•¿å…¬å…±å­åºåˆ—.
â€‚è§£é¢˜æ€è·¯:
â€ƒæœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜å­˜åœ¨æœ€ä¼˜å­ç»“æ„ï¼›è¿™ä¸ªé—®é¢˜å¯åˆ†è§£æˆæ›´å°ï¼Œæ›´ç®€å•çš„â€œå­é—®é¢˜â€ï¼Œè¿™ä¸ªå­é—®é¢˜å¯ä»¥åˆ†æˆæ›´å¤šçš„å­é—®é¢˜ï¼Œå› æ­¤æ•´ä¸ªé—®é¢˜å°±å˜å¾—ç®€å•äº†ã€‚
â€ƒæœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜çš„å­é—®é¢˜çš„è§£æ˜¯å¯ä»¥é‡å¤ä½¿ç”¨çš„ï¼Œå³ï¼Œæ›´é«˜çº§åˆ«çš„å­é—®é¢˜é€šå¸¸ä¼šé‡ç”¨ä½çº§å­é—®é¢˜çš„è§£ã€‚æ‹¥æœ‰è¿™ä¸ªä¸¤ä¸ªå±æ€§çš„é—®é¢˜å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æ¥è§£å†³ï¼Œè¿™æ ·å­é—®é¢˜çš„è§£å°±å¯ä»¥å­˜å‚¨èµ·æ¥ï¼Œè€Œä¸ç”¨é‡å¤è®¡ç®—ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦åœ¨ä¸€ä¸ªè¡¨ä¸­å­˜å‚¨åŒä¸€çº§åˆ«çš„å­é—®é¢˜çš„è§£ï¼Œå› æ­¤è¿™ä¸ªè§£å¯è¢«æ›´é«˜çº§çš„å­é—®é¢˜ä½¿ç”¨ã€‚è®¾æœ‰äºŒç»´æ•°ç»„f[i][j]è¡¨ç¤ºXçš„iä½å’ŒYçš„jä½ä¹‹å‰çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œåˆ™æœ‰ï¼š</p>
<blockquote>
<p>f[1][1] = same(1,1)
f[i][j] = max{f[i-1][j-1] + same(i, j), f[i-1][j], f[i][j-1]}
â€ƒå…¶ä¸­ï¼Œ<code>same(a,b)</code>å½“Xçš„ç¬¬aä½ä¸Yçš„ç¬¬bä½å®Œå…¨ç›¸åŒæ˜¯&quot;1&quot;ï¼Œå¦åˆ™ä½&quot;1&quot;ã€‚
â€ƒæ­¤æ—¶ï¼Œf[i][j]ä¸­æœ€å¤§çš„æ•°ä¾¿æ˜¯Xå’ŒYçš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œä¾æ®è¯¥æ•°ç»„å›æº¯ï¼Œä¾¿å¯æ‰¾å‡ºæœ€é•¿å…¬å…±å­åºåˆ—ã€‚
â€ƒè¯¥ç®—æ³•çš„ç©ºé—´ã€æ—¶é—´å¤æ‚åº¦ä½O(n^2)ï¼Œç»è¿‡ä¼˜åŒ–åï¼Œç©ºé—´å¤æ‚åº¦ä½O(n)ã€‚</p>
</blockquote>
<p>â€‚ä¼ªä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>function <span style="color:#a6e22e">LCSLength</span>(X[<span style="color:#ae81ff">1.</span>.m], Y[<span style="color:#ae81ff">1.</span>.n])
</span></span><span style="display:flex;"><span>    C <span style="color:#f92672">=</span> <span style="color:#a6e22e">array</span>(<span style="color:#ae81ff">0.</span>.m, <span style="color:#ae81ff">0.</span>.n)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i :<span style="color:#f92672">=</span> <span style="color:#ae81ff">0.</span>.m
</span></span><span style="display:flex;"><span>        C[i, <span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j :<span style="color:#f92672">=</span> <span style="color:#ae81ff">0.</span>.n
</span></span><span style="display:flex;"><span>        C[<span style="color:#ae81ff">0</span>, j] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i :<span style="color:#f92672">=</span> <span style="color:#ae81ff">1.</span>.m
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j :<span style="color:#f92672">=</span> <span style="color:#ae81ff">1.</span>.n
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> X[i] <span style="color:#f92672">=</span> Y[j]
</span></span><span style="display:flex;"><span>                C[i, j] <span style="color:#f92672">:=</span> C[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                C[i, j] <span style="color:#f92672">:=</span> <span style="color:#a6e22e">max</span>(C[i, j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], C[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,j])
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> C[m, n]
</span></span></code></pre></div><details>
<summary>æœ€é•¿å…¬å…±åºåˆ—æ•°</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> dp[<span style="color:#ae81ff">100</span>][<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">Max</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b,<span style="color:#66d9ef">int</span> c){
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> max<span style="color:#f92672">=</span>a;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span>(b<span style="color:#f92672">&gt;</span>max){
</span></span><span style="display:flex;"><span>		max<span style="color:#f92672">=</span>b;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span>(c<span style="color:#f92672">&gt;</span>max){
</span></span><span style="display:flex;"><span>		max<span style="color:#f92672">=</span>c;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> max;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getMax</span>(<span style="color:#66d9ef">char</span> s1[],<span style="color:#66d9ef">char</span> s2[],<span style="color:#66d9ef">int</span> m,<span style="color:#66d9ef">int</span> n){
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> i,j;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>m;i<span style="color:#f92672">++</span>){       <span style="color:#75715e">//å½“ s2å– 1ä¸ªçš„æ—¶å€™ ,s1ä¸ºå¯å˜é•¿åº¦ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span>(s1[i]<span style="color:#f92672">==</span>s2[<span style="color:#ae81ff">0</span>]){
</span></span><span style="display:flex;"><span>			dp[i][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">&lt;</span>m;j<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>				dp[j][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>		} 
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>){      <span style="color:#75715e">//å½“ s1å– 1ä¸ªçš„æ—¶å€™ ,s2ä¸ºå¯å˜é•¿åº¦ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span>(s2[i]<span style="color:#f92672">==</span>s1[<span style="color:#ae81ff">0</span>]){
</span></span><span style="display:flex;"><span>			dp[<span style="color:#ae81ff">0</span>][i]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">&lt;</span>n;j<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>				dp[<span style="color:#ae81ff">0</span>][j]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>		} 
</span></span><span style="display:flex;"><span>	} 
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">&lt;</span>m;i<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;j<span style="color:#f92672">&lt;</span>n;j<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span>(s1[i]<span style="color:#f92672">==</span>s2[j]){
</span></span><span style="display:flex;"><span>				dp[i][j]<span style="color:#f92672">=</span><span style="color:#a6e22e">Max</span>(dp[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,dp[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j],dp[i][j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>			}<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>				dp[i][j]<span style="color:#f92672">=</span>dp[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j]<span style="color:#f92672">&gt;=</span>dp[i][j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">?</span>dp[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][j]<span style="color:#f92672">:</span>dp[i][j<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	} 
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> dp[m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> m,n;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">char</span> s1[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">char</span> s2[<span style="color:#ae81ff">100</span>];
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">gets</span>(s1);
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">gets</span>(s2);
</span></span><span style="display:flex;"><span>	m<span style="color:#f92672">=</span><span style="color:#a6e22e">strlen</span>(s1);
</span></span><span style="display:flex;"><span>	n<span style="color:#f92672">=</span><span style="color:#a6e22e">strlen</span>(s2);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#a6e22e">getMax</span>(s1,s2,m,n));
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<details>
<summary>Fibonacci_dp</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// Fibonacci Series using Dynamic Programming
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Author: Moinak Banerjee(moinak878)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   Date : 1 October ,2019
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">fib</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Out of Range checking
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">No Such term !</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// declaring array to store fibonacci numbers -- memoization
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>f <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>((n <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));  <span style="color:#75715e">//  one extra to handle edge case, n = 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* let 0th and 1st number of the series be 0 and 1*/</span>
</span></span><span style="display:flex;"><span>    f[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    f[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Adding the previous 2 terms to make the 3rd term
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        f[i] <span style="color:#f92672">=</span> f[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> f[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> out <span style="color:#f92672">=</span> f[n];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">free</span>(f);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> out;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> number;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Asks for the number/position of term in Fibonnacci sequence
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (argc <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>) {
</span></span><span style="display:flex;"><span>        number <span style="color:#f92672">=</span> <span style="color:#a6e22e">atoi</span>(argv[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Enter the value of n(n starts from 0 ): &#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>number);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;The nth term is : %d </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#a6e22e">fib</span>(number));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></details>
<h4 id="355-leetcodeé¢˜ç›®">3.5.5 leetcodeé¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#355-leetcodeé¢˜ç›®">#</a></h4>
<ul>
<li>æœ€å¤§å­åºå’Œ</li>
<li>ç¼–è¾‘è·ç¦»</li>
<li>å¤§ç¤¼åŒ…</li>
<li>æœ€é•¿ä¸Šå‡å­åºåˆ—</li>
</ul>
<h3 id="36-å›æº¯æ³•">3.6 å›æº¯æ³•<a hidden class="anchor" aria-hidden="true" href="#36-å›æº¯æ³•">#</a></h3>
<h4 id="361-åŸºæœ¬æ¦‚å¿µ">3.6.1 åŸºæœ¬æ¦‚å¿µ<a hidden class="anchor" aria-hidden="true" href="#361-åŸºæœ¬æ¦‚å¿µ">#</a></h4>
<p>â€‚å›æº¯ç®—æ³•å®é™…ä¸Šä¸€ä¸ªç±»ä¼¼æšä¸¾çš„æœç´¢å°è¯•è¿‡ç¨‹,ä¸»è¦æ˜¯åœ¨<strong>æœç´¢å°è¯•è¿‡ç¨‹ä¸­å¯»æ‰¾é—®é¢˜çš„è§£,å½“å‘ç°å·²ä¸æ»¡è¶³æ±‚è§£æ¡ä»¶æ—¶,å°±&quot;å›æº¯&quot;è¿”å›,å°è¯•åˆ«çš„è·¯å¾„</strong>.
â€‚å›æº¯æ³•æ˜¯ä¸€ç§è¿­ä»£æœç´¢æ³•,æŒ‰é€‰ä¼˜æ¡ä»¶è¯¦æƒ…æœç´¢,ä»¥è¾¾åˆ°ç›®æ ‡.ä½†å½“æ¢ç´¢åˆ°æŸä¸€æ­¥æ—¶,å‘ç°åŸå…ˆé€‰æ‹©å¹¶ä¸ä¼˜æˆ–è¾¾ä¸åˆ°ç›®æ ‡,å°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©,è¿™ç§èµ°ä¸é€šå°±é€€å›å†èµ°çš„æŠ€æœ¯ä¸ºå›æº¯æ³•,è€Œæ»¡è¶³å›æº¯æ¡ä»¶çš„æŸä¸ªçŠ¶æ€çš„ç‚¹ç§°ä¸º&quot;å›æº¯æ³•&quot;.
â€‚è®¸å¤šå¤æ‚åº¦,è§„æ¨¡è¾ƒå¤§çš„é—®é¢˜éƒ½çœ‹çœ‹è€Œå·²ä½¿ç”¨å›æº¯æ³•,æœ‰&quot;é€šç”¨è§£é¢˜æ–¹æ³•&quot;çš„ç¾ç§°.</p>
<p>â€‚åœ¨åŒ…å«é—®é¢˜çš„æ‰€æœ‰è§£çš„è§£ç©ºé—´æ ‘ä¸­,æŒ‰ç…§æ·±åº¦ä¼˜å…ˆçš„ç­–ç•¥,ä»æ ¹èŠ‚ç‚¹å‡ºå‘æ·±åº¦æ¢ç´¢è§£ç©ºé—´æ ‘.å½“æ¢ç´¢åˆ°æŸä¸€èŠ‚ç‚¹æ—¶,è¦å…ˆåˆ¤æ–­è¯¥èŠ‚ç‚¹æ˜¯å¦åŒ…å«é—®é¢˜çš„è§£,å¦‚æœåŒ…å«,å°±ä»è¯¥èŠ‚ç‚¹å‡ºå‘ç»§ç»­æ¢ç´¢ä¸‹å»,å¦‚æœè¯¥èŠ‚ç‚¹ä¸åŒ…å«é—®é¢˜çš„è§£,åˆ™é€å±‚å‘å…¶è¶³åèŠ‚ç‚¹å›æº¯.(å…¶å®å›æº¯æ³•å°±æ˜¯å †éšå¼å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•).
â€‚è‹¥ç”¨å›æº¯æ³•æ±‚é—®é¢˜çš„æ‰€æœ‰è§£æ—¶,è¦å›æº¯çš„æ ¹,ä¸”æ ¹èŠ‚ç‚¹çš„æ‰€æœ‰å¯è¡Œçš„å­æ ‘éƒ½è¦å·²è¢«æœç´¢éæ‰ç»“æŸ,è€Œè‹¥ä½¿ç”¨å›æº¯æ³•æ±‚ä»»ä¸€ä¸ªè§£æ—¶,åªè¦æœç´¢åˆ°é—®é¢˜çš„ä¸€ä¸ªè§£å°±å¯ä»¥ç»“æŸ.
â€‚å›æº¯æ³•ä¸€èˆ¬è§£é¢˜æ­¥éª¤:
â€ƒ1.<strong>é’ˆå¯¹æ‰€ç»™é—®é¢˜,ç¡®å®šé—®é¢˜çš„è§£ç©ºé—´</strong>;é¦–å…ˆåº”æ˜ç¡®å®šä¹‰é—®é¢˜çš„è§£ç©ºé—´,è§£ç©ºé—´åº”è‡³å°‘åŒ…å«é—®é¢˜çš„ä¸€ä¸ª(æœ€ä¼˜)è§£.
â€ƒ2.<strong>ç¡®å®šèŠ‚ç‚¹çš„æ‰©å±•æœç´¢è§„åˆ™</strong>
â€ƒ3.<strong>ä»¥æ·±åº¦ä¼˜å…ˆæ–¹å¼æœç´¢è§£ç©ºé—´,å¹¶åœ¨æœç´¢è¿‡ç¨‹ä¸­ç”¨å‰ªæå‡½æ•°é¿å…æ— æ•ˆæœç´¢</strong></p>
<p>â€‚ä¼ªä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">iterativeBacktrack</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> t <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (t <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">f</span>(n, t) <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">g</span>(n, t)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#a6e22e">f</span>(n,t); i <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">g</span>(n,t); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>                x[t] <span style="color:#f92672">=</span> <span style="color:#a6e22e">h</span>(i);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">constraint</span>(t) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">bound</span>(t)) {
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">solution</span>(t)) {
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">output</span>(x);
</span></span><span style="display:flex;"><span>                    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                        t<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                    t<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="362-å…«çš‡åé—®é¢˜">3.6.2 å…«çš‡åé—®é¢˜<a hidden class="anchor" aria-hidden="true" href="#362-å…«çš‡åé—®é¢˜">#</a></h4>
<p>â€‚é—®é¢˜æè¿°
â€ƒå…«çš‡åé—®é¢˜ä½¿ä¸€ä¸ªä»¥å›½é™…è±¡æ£‹ä¸ºèƒŒæ™¯çš„é—®é¢˜:å¦‚ä½•èƒ½å¤Ÿåœ¨ 8x8 çš„å›½é™…è±¡æ£‹æ£‹ç›˜ä¸Šæ”¾ç€å…«ä¸ªçš‡å,ä½¿å¾—ä»»ä½•ä¸€ä¸ªçš‡åéƒ½æ— æ³•ç›´æ¥åƒæ‰å…¶ä»–çš„çš‡å?ä¸ºäº†è¾¾åˆ°æ­¤ç›®çš„,ä»»ä¸¤ä¸ªçš‡åéƒ½ä¸èƒ½å¤„äºåŒä¸€æ¡æ¨ªè¡Œ,çºµè¡Œæˆ–æ–œçº¿ä¸Š.
â€‚è½¬åŒ–è§„åˆ™:å…¶å®å…«çš‡åé—®é¢˜å¯ä»¥æ¨å¹¿ä¸ºæ›´ä¸€èˆ¬çš„nçš‡åæ‘†æ”¾é—®é¢˜;è¿™æ—¶æ£‹ç›˜å¤§å°å˜ä¸ºnxn,è€Œçš‡åä¸ªæ•°ä¹Ÿå˜æˆn.å½“ä¸”ä»…å½“n = 1 æˆ– n &gt;= 4 æ—¶é—´é—®é¢˜æœ‰è§£ã€‚ä»¤ä¸€ä¸ªä¸€ç»´æ•°ç»„a[n]ä¿å­˜æ‰€å¾—è§£ï¼Œå…¶ä¸­a[i]è¡¨ç¤ºæŠŠç¬¬iä¸ªçš‡åæ”¾åœ¨ç¬¬iè¡Œçš„åˆ—æ•°(æ³¨æ„içš„å€¼éƒ½æ˜¯ä»0å¼€å§‹è®¡ç®—çš„),ä¸‹é¢å°±å…«çš‡åé—®é¢˜çš„çº¦æŸæ¡ä»¶ã€‚
ï¼ˆ1ï¼‰å› ä¸ºæ‰€æœ‰çš„çš‡åéƒ½ä¸èƒ½æ”¾åœ¨åŒä¸€åˆ—ï¼Œå› ä¸ºä»»æ„ä¸¤ä¸ªa[0]&hellip;a[7]çš„å€¼ä¸èƒ½å­˜åœ¨ç›¸åŒçš„ä¸¤ä¸ªå€¼
ï¼ˆ2ï¼‰æ‰€æœ‰çš„çš‡åéƒ½ä¸èƒ½åœ¨å †è§’çº¿ä¸Šï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•æ£€æµ‹ä¸¤ä¸ªçš‡åæ˜¯å¦åœ¨åŒä¸€ä¸ªå¯¹è§’çº¿ä¸Šï¼Ÿæˆ‘ä»¬å°†æ£‹ç›˜çš„æ–¹æ ¼æˆä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå¦‚ä¸‹ï¼š
â€‚å‡è®¾æœ‰ä¸¤ä¸ªçš‡åè¢«æ”¾ç½®åœ¨(i,j)å’Œ(k,l)çš„ä½ç½®ä¸Šï¼Œæ˜æ˜¾ï¼Œå½“ä¸”ä»…å½“|i-k|=|j-l|æ—¶ï¼Œä¸¤ä¸ªçš‡åæ‰åœ¨åŒä¸€æ¡å¯¹è§’çº¿ä¸Šã€‚</p>
<p>â€‚ä¼ªä»£ç æè¿°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">queens</span>(<span style="color:#66d9ef">int</span> Queens) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i, k, flag, not_finish <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// æ­£åœ¨å¤„ç†çš„å…ƒç´ ä¸‹æ ‡ï¼Œè¡¨ç¤ºå‰i-1ä¸ªå…ƒç´ å·²ç¬¦åˆè¦æ±‚ï¼Œåœ¨å¤„ç†ç¬¬iä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> a[Queeens<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]; <span style="color:#75715e">// å…«çš‡åé—®é¢˜çš„çš‡åæ‰€åœ¨çš„è¡Œåˆ—ä½ç½®ï¼Œä»1å¼€å§‹ç®—èµ·ï¼Œæ‰€ä»¥åŠ 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    a[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; <span style="color:#75715e">// ä¸ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ èµ‹åˆå€¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> (not_finish) { <span style="color:#75715e">// not_finish=1 å¤„ç†å°šæœªç»“æŸ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span>(not_finish <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;=</span> Queens) { <span style="color:#75715e">// å¤„ç†å°šæœªç»“æŸä¸”è¿˜æ²¡å¤„ç†åˆ°ç¬¬Queeensä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (flag<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, k<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>; flag <span style="color:#f92672">&amp;&amp;</span> k <span style="color:#f92672">&lt;</span> i; k<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// åˆ¤æ–­æ˜¯å¦æœ‰å¤šä¸ªçš‡ååœ¨åŒä¸€è¡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> (a[k] <span style="color:#f92672">==</span> a[i]) {
</span></span><span style="display:flex;"><span>                flag <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// åˆ¤æ–­æ˜¯å¦æœ‰å¤šä¸ªçš‡ååœ¨åŒä¸€ä¸ªå¯¹è§’çº¿
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (k<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>; flag <span style="color:#f92672">&amp;&amp;</span> k <span style="color:#f92672">&lt;</span> i; k<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> ((a[i] <span style="color:#f92672">==</span> a[k] <span style="color:#f92672">-</span> (k<span style="color:#f92672">-</span>i)) <span style="color:#f92672">||</span> (a]i] <span style="color:#f92672">==</span> a[k] <span style="color:#f92672">+</span> [k<span style="color:#f92672">-</span>i])) {
</span></span><span style="display:flex;"><span>                flag <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="363-leetcodeé¢˜ç›®">3.6.3 leetcodeé¢˜ç›®<a hidden class="anchor" aria-hidden="true" href="#363-leetcodeé¢˜ç›®">#</a></h4>
<ul>
<li>Nçš‡å</li>
<li>æ‹¬å·ç”Ÿæˆ</li>
<li>å•è¯æœç´¢</li>
<li>è§£æ•°ç‹¬</li>
</ul>
<h2 id="4-å‚è€ƒé“¾æ¥">4 å‚è€ƒé“¾æ¥<a hidden class="anchor" aria-hidden="true" href="#4-å‚è€ƒé“¾æ¥">#</a></h2>
<ul>
<li>å¤æ‚åº¦é€ŸæŸ¥è¡¨
<a href="https://liam.page/2016/06/20/big-O-cheat-sheet/">https://liam.page/2016/06/20/big-O-cheat-sheet/</a></li>
<li>çº¿æ€§è¡¨
<a href="https://zh.wikipedia.org/wiki/%E7%BA%BF%E6%80%A7%E8%A1%A8">https://zh.wikipedia.org/wiki/%E7%BA%BF%E6%80%A7%E8%A1%A8</a>
<ul>
<li>å•é“¾è¡¨
<a href="https://www.jianshu.com/p/73f0d8f807aa">https://www.jianshu.com/p/73f0d8f807aa</a></li>
</ul>
</li>
</ul>
<p><a href="http://cocofe.cn/">http://cocofe.cn/</a></p>
<ul>
<li>æ•°æ®ç»“æ„
<a href="https://github.com/wangzheng0822/algo/">https://github.com/wangzheng0822/algo/</a></li>
</ul>

        </div>
        <div class="post-reward">
            <div style="padding: 0 0 0 0; margin: 0 0 0 0; width: 100%; font-size:16px; text-align: center;">
                <div id="QR" style="opacity: 0;">
                    <div id="wechat" style="display: inline-block">
                        <a class="fancybox" rel="group">
                            <img id="wechat_qr" src="https://liuz0123.gitee.io/zain/img/wechat_pay.jpg" alt="wechat_pay"></a>
                        <p>å¾®ä¿¡</p>
                    </div>
                    <div id="alipay" style="display: inline-block">
                        <a class="fancybox" rel="group">
                            <img id="alipay_qr" src="https://liuz0123.gitee.io/zain/img/alipay.jpg" alt="alipay"></a>
                        <p>æ”¯ä»˜å®</p>
                    </div>
                </div>
                <button id="rewardButton"
                        onclick="
                    var qr = document.getElementById('QR');
                    if (qr.style.opacity === '0') {
                        qr.style.opacity='1';
                    } else {
                        qr.style.opacity='0'
                    }"
                >
                    <span>ğŸ§§ é¼“åŠ±</span>
                </button>
            </div>
        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="https://liuz0123.gitee.io/zain/posts/tech/leetcode%E5%9F%BA%E7%A1%80%E9%A2%98%E7%9B%AE/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>leetcodeåŸºç¡€é¢˜ç›®</span>
  </a>
  <a class="next" href="https://liuz0123.gitee.io/zain/posts/tech/linux%E5%86%85%E6%A0%B8%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%E5%8E%9F%E4%B9%A6%E7%AC%AC3%E7%89%88/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>Linuxå†…æ ¸è®¾è®¡ä¸å®ç°åŸä¹¦ç¬¬3ç‰ˆ)</span>
  </a>
</nav>

        </footer>
    </div>



<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">ğŸ’¬è¯„è®º</span>
        <hr />
    </div>

    <div id="tcomment"></div>

    <script src="https://cdn.staticfile.org/twikoo/1.6.7/twikoo.all.min.js">
    </script>
    

    

    <script>
        twikoo.init({
            envId: "https://twikoo.js.org/quick-start.html#%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2", 
            el: "#tcomment",
            lang: 'zh-CN',
            region: 'ap-guangzhou', 
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
            
            
            
            
            
            
            
        });
    </script>

</div>
</article>
</main>


<script async src="https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js"></script>


<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<footer class="footer">
    <span>
        Copyright
        &copy;
        2020-2023 
        <a href="https://liuz0123.gitee.io/zain/" style="color:#939393;">zain&#39;s Blog</a>
         All Rights Reserved
    </span>

    <a href="https://beian.miit.gov.cn/" target="_blank" style="color:#939393;">å¤‡æ¡ˆå·ç”³è¯·ä¸­</a>&nbsp;

    <span>
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null"style="display:inline-block;text-decoration:none;height:20px;color:#939393;">
            <img src="å¡«è‡ªå·±çš„å…¬å®‰å›¾æ ‡é“¾æ¥" style="float:left;margin: 0px 5px 0px 0px;"/>
             å…¬ç½‘å®‰å¤‡
        </a>
    </span>

    <span id="busuanzi_container">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        æ€»è®¿å®¢æ•°: <span id="busuanzi_value_site_uv"></span>
        æ€»è®¿é—®é‡: <span id="busuanzi_value_site_pv"></span>
    </span>
    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

<script>
    document.body.addEventListener('copy', function (e) {
        if (window.getSelection().toString() && window.getSelection().toString().length > 50) {
            let clipboardData = e.clipboardData || window.clipboardData;
            if (clipboardData) {
                e.preventDefault();
                let htmlData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"zain's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                    '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                let textData = window.getSelection().toString() +
                    '\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"zain's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                    '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                clipboardData.setData('text/html', htmlData);
                clipboardData.setData('text/plain', textData);
            }
        }
    });
</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'ğŸ“„å¤åˆ¶';

        function copyingDone() {
            copybutton.innerText = 'ğŸ‘ŒğŸ»å·²å¤åˆ¶!';
            setTimeout(() => {
                copybutton.innerText = 'ğŸ“„å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent +
                    '\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n' +
                    'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"zain's Blog"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚' +
                    '\r\nåŸæ–‡é“¾æ¥ï¼š' + location.href;
                navigator.clipboard.writeText(text);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {
            }
            ;
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
